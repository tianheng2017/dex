{"version":3,"sources":["assets/images/coinbaseWalletIcon.svg","assets/images/fortmaticIcon.png","assets/images/portisIcon.png","assets/images/walletConnectIcon.svg","assets/images sync /^/.*$","assets/images/blue-loader.svg","assets/images/ethereum-logo.png","assets/images/metamask.png","assets/images/token-list/lists-dark.png","assets/images/token-list/lists-light.png","assets/svg/logo.svg","assets/svg/logo_white.svg","assets/images/arrow-down-blue.svg","assets/images/arrow-down-grey.svg","assets/images/arrow-right-white.png","assets/images/arrow-right.svg","assets/images/circle-grey.svg","assets/images/circle.svg","assets/images/dropdown-blue.svg","assets/images/dropdown.svg","assets/images/dropup-blue.svg","assets/images/link.svg","assets/images/magnifying-glass.svg","assets/images/menu.svg","assets/images/plus-blue.svg","assets/images/plus-grey.svg","assets/images/question-mark.svg","assets/images/question.svg","assets/images/spinner.svg","assets/images/trustWallet.png","assets/images/x.svg","connectors/Fortmatic.ts","connectors/NetworkConnector.ts","connectors/index.ts","constants/index.ts","i18n.ts","components/analytics/GoogleAnalyticsReporter.tsx","hooks/index.ts","state/lists/hooks.ts","state/application/actions.ts","state/application/hooks.ts","state/multicall/actions.ts","state/multicall/hooks.ts","utils/index.ts","constants/abis/erc20.ts","constants/multicall/index.ts","constants/v1/index.ts","hooks/useContract.ts","hooks/Tokens.ts","state/user/actions.ts","state/user/hooks.tsx","state/wallet/hooks.ts","components/Card/index.tsx","hooks/useOnClickOutside.tsx","hooks/useInterval.ts","components/Popover/index.tsx","components/Tooltip/index.tsx","components/QuestionHelper/index.tsx","theme/components.tsx","theme/index.tsx","components/Column/index.tsx","components/Row/index.tsx","components/TransactionSettings/index.tsx","components/Toggle/index.tsx","components/Button/index.tsx","components/Modal/index.tsx","components/Settings/index.tsx","webpack:///./src/assets/images/menu.svg?4992","hooks/useToggle.ts","components/Menu/index.tsx","utils/isZero.ts","hooks/useDebounce.ts","hooks/useENSName.ts","hooks/useSocksBalance.ts","state/transactions/actions.ts","state/transactions/hooks.tsx","components/Identicon/index.tsx","components/Loader/index.tsx","hooks/usePrevious.ts","components/AccountDetails/Copy.tsx","hooks/useCopyClipboard.ts","components/AccountDetails/Transaction.tsx","webpack:///./src/assets/images/x.svg?844a","components/AccountDetails/index.tsx","components/WalletModal/Option.tsx","components/WalletModal/PendingView.tsx","components/WalletModal/index.tsx","components/Web3Status/index.tsx","components/Header/index.tsx","state/lists/actions.ts","utils/listVersionLabel.ts","components/Popups/ListUpdatePopup.tsx","components/Popups/TransactionPopup.tsx","components/Popups/PopupItem.tsx","components/Popups/index.tsx","components/Web3ReactManager/index.tsx","theme/DarkModeQueryParamReader.tsx","components/TransactionConfirmationModal/index.tsx","hooks/useLast.ts","utils/contenthashToUri.ts","utils/parseENSAddress.ts","utils/uriToHttp.ts","hooks/useHttpLocations.ts","hooks/useENSContentHash.ts","components/Logo/index.tsx","components/ListLogo/index.tsx","components/CurrencyLogo/index.tsx","components/SearchModal/CommonBases.tsx","components/SearchModal/styleds.tsx","components/SearchModal/CurrencyList.tsx","components/SearchModal/SortButton.tsx","components/SearchModal/sorting.ts","components/SearchModal/CurrencySearch.tsx","components/SearchModal/filtering.ts","components/SearchModal/ListIntroduction.tsx","webpack:///./src/assets/images/dropdown.svg?d0dc","utils/getTokenList.ts","utils/resolveENSContentHash.ts","hooks/useFetchListCallback.ts","components/SearchModal/ListSelect.tsx","components/SearchModal/CurrencySearchModal.tsx","components/DoubleLogo/index.tsx","components/NumericalInput/index.tsx","components/CurrencyInputPanel/index.tsx","components/NavigationTabs/index.tsx","data/TotalSupply.ts","utils/currencyId.ts","utils/wrappedCurrency.ts","components/swap/styleds.tsx","components/PositionCard/index.tsx","data/Reserves.ts","hooks/useToggledVersion.ts","hooks/useParsedQueryString.ts","data/V1.ts","state/swap/actions.ts","hooks/useApproveCallback.ts","state/mint/actions.ts","utils/prices.ts","data/Allowances.ts","hooks/useENSAddress.ts","hooks/useENS.ts","hooks/Trades.ts","state/swap/hooks.ts","state/mint/hooks.ts","utils/maxAmountSpend.ts","pages/AppBody.tsx","pages/Pool/styleds.tsx","pages/AddLiquidity/ConfirmAddModalBottom.tsx","pages/AddLiquidity/PoolPriceBar.tsx","pages/AddLiquidity/index.tsx","pages/AddLiquidity/redirects.tsx","pages/PoolFinder/index.tsx","pages/Pool/index.tsx","components/Slider/index.tsx","state/burn/actions.ts","state/burn/hooks.ts","pages/RemoveLiquidity/index.tsx","utils/useDebouncedChangeHandler.tsx","pages/RemoveLiquidity/redirects.tsx","components/AddressInputPanel/index.tsx","components/swap/FormattedPriceImpact.tsx","components/swap/SwapModalFooter.tsx","components/swap/SwapModalHeader.tsx","components/swap/ConfirmSwapModal.tsx","components/swap/SwapRoute.tsx","components/swap/AdvancedSwapDetails.tsx","components/swap/AdvancedSwapDetailsDropdown.tsx","components/swap/BetterTradeLink.tsx","components/swap/TradePrice.tsx","components/TokenWarningModal/index.tsx","components/ProgressSteps/index.tsx","hooks/useSwapCallback.ts","hooks/useWrapCallback.ts","utils/v1SwapArguments.ts","pages/Swap/index.tsx","components/swap/confirmPriceImpactWithoutFee.ts","pages/Swap/redirects.tsx","pages/App.tsx","state/application/reducer.ts","state/global/actions.ts","state/user/reducer.ts","state/transactions/reducer.ts","state/swap/reducer.ts","state/mint/reducer.ts","constants/lists.ts","state/lists/reducer.ts","state/burn/reducer.ts","state/multicall/reducer.ts","state/index.ts","hooks/useIsWindowVisible.ts","state/application/updater.ts","state/lists/updater.ts","utils/retry.ts","state/multicall/updater.tsx","utils/chunkArray.ts","state/transactions/updater.tsx","state/user/updater.tsx","utils/getLibrary.ts","index.tsx"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","CHAIN_ID_NETWORK_ARGUMENT","ChainId","MAINNET","undefined","ROPSTEN","RINKEBY","KOVAN","BSCTEST","FortmaticConnector","this","fortmatic","Fortmatic","default","apiKey","chainId","provider","getProvider","pollForOverlayReady","Promise","interval","setInterval","overlayReady","clearInterval","emit","all","enable","then","accounts","account","FortmaticConnectorCore","RequestError","message","data","MiniRpcProvider","url","batchWaitTimeMs","isMetaMask","host","path","nextId","batchTimeoutId","batch","clearBatch","a","console","debug","fetch","method","headers","accept","body","JSON","stringify","item","request","response","forEach","reject","ok","status","statusText","json","byKey","reduce","memo","current","result","error","sendAsync","callback","params","jsonrpc","catch","toString","promise","push","setTimeout","parsed","URL","pathname","NetworkConnector","urls","defaultChainId","invariant","length","supportedChainIds","k","Number","providers","currentChainId","accumulator","AbstractConnector","NETWORK_URL","process","FORMATIC_KEY","REACT_APP_FORTMATIC_KEY","PORTIS_ID","REACT_APP_PORTIS_ID","NETWORK_CHAIN_ID","parseInt","networkLibrary","network","injected","InjectedConnector","walletconnect","WalletConnectConnector","rpc","1","bridge","qrcode","pollingInterval","portis","PortisConnector","dAppId","networks","walletlink","WalletLinkConnector","appName","appLogoUrl","ROUTER_ADDRESS","DAI","Token","USDC","USDT","COMP","MKR","AMPL","WETH_ONLY","WETH","GÃ–RLI","BASES_TO_CHECK_TRADES_AGAINST","CUSTOM_BASES","address","SUGGESTED_BASES","BASES_TO_TRACK_LIQUIDITY_FOR","PINNED_PAIRS","SUPPORTED_WALLETS","INJECTED","connector","name","iconName","description","href","color","primary","METAMASK","WALLET_CONNECT","mobile","WALLET_LINK","COINBASE_LINK","mobileOnly","FORTMATIC","Portis","ONE_BIPS","Percent","JSBI","BigInt","BIPS_BASE","ALLOWED_PRICE_IMPACT_LOW","ALLOWED_PRICE_IMPACT_MEDIUM","ALLOWED_PRICE_IMPACT_HIGH","PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN","BLOCKED_PRICE_IMPACT_NON_EXPERT","MIN_ETH","exponentiate","BETTER_TRADE_LINK_THRESHOLD","i18next","use","XHR","LanguageDetector","initReactI18next","init","backend","loadPath","react","useSuspense","fallbackLng","preload","keySeparator","interpolation","escapeValue","GoogleAnalyticsReporter","location","search","useEffect","ReactGA","pageview","useActiveWeb3React","context","useWeb3ReactCore","contextNetwork","active","WrappedTokenInfo","tokenInfo","tags","decimals","symbol","logoURI","EMPTY_LIST","listCache","WeakMap","useTokenList","lists","useSelector","state","byUrl","useMemo","list","get","tokens","tokenMap","tagId","filter","x","Boolean","token","set","listToTokenMap","useSelectedListUrl","selectedListUrl","useSelectedTokenList","updateBlockNumber","createAction","toggleWalletModal","toggleSettingsMenu","addPopup","removePopup","useBlockNumber","application","blockNumber","useWalletModalToggle","dispatch","useDispatch","useCallback","useToggleSettingsMenu","useRemovePopup","key","ADDRESS_REGEX","LOWER_HEX_REGEX","toCallKey","call","test","callData","parseCallKey","callKey","pcs","split","addMulticallListeners","removeMulticallListeners","fetchingMulticallResults","errorFetchingMulticallResults","updateMulticallResults","isMethodArg","indexOf","isValidMethodArgs","Array","isArray","every","xi","INVALID_RESULT","valid","NEVER_RELOAD","blocksPerFetch","Infinity","useCallsData","calls","options","callResults","multicall","serializedCallKeys","c","sort","callKeys","parse","INVALID_CALL_STATE","loading","syncing","LOADING_CALL_STATE","toCallState","callResult","contractInterface","fragment","latestBlockNumber","success","decodeFunctionResult","useSingleContractMultipleData","contract","methodName","callInputs","interface","getFunction","results","inputs","encodeFunctionData","useMultipleContractSingleData","addresses","useSingleCallResult","isAddress","value","getAddress","ETHERSCAN_PREFIXES","3","4","5","42","97","getEtherscanLink","type","prefix","shortenAddress","chars","substring","calculateGasMargin","mul","BigNumber","from","add","div","calculateSlippageAmount","slippage","divide","multiply","raw","getContract","ABI","library","AddressZero","Contract","getSigner","connectUnchecked","getProviderOrSigner","getRouterContract","_","IUniswapV2Router02ABI","ERC20_INTERFACE","Interface","ERC20_ABI","ERC20_BYTES32_ABI","MULTICALL_NETWORKS","V1_FACTORY_ADDRESSES","V1_FACTORY_ABI","V1_EXCHANGE_ABI","useContract","withSignerIfPossible","useV1FactoryContract","useV1ExchangeContract","useTokenContract","tokenAddress","useENSRegistrarContract","ENS_ABI","useENSResolverContract","ENS_PUBLIC_RESOLVER_ABI","useMulticallContract","MULTICALL_ABI","useAllTokens","userAddedTokens","useUserAddedTokens","allTokens","BYTES32_REGEX","parseStringOrBytes32","str","bytes32","defaultValue","parseBytes32String","useToken","tokenContract","tokenContractBytes32","useBytes32TokenContract","tokenName","tokenNameBytes32","symbolBytes32","useCurrency","currencyId","isETH","toUpperCase","ETHER","updateMatchesDarkMode","updateUserDarkMode","updateUserExpertMode","updateUserSlippageTolerance","updateUserDeadline","addSerializedToken","removeSerializedToken","addSerializedPair","removeSerializedPair","serializeToken","deserializeToken","serializedToken","useIsDarkMode","user","matchesDarkMode","userDarkMode","shallowEqual","useDarkModeManager","darkMode","toggleSetDarkMode","useIsExpertMode","userExpertMode","useExpertModeManager","expertMode","toggleSetExpertMode","useUserSlippageTolerance","userSlippageTolerance","useUserDeadline","userDeadline","serializedTokensMap","values","serializePair","pair","token0","token1","toV2LiquidityToken","tokenA","tokenB","Pair","useETHBalances","uncheckedAddresses","multicallContract","i","CurrencyAmount","ether","useTokenBalancesWithLoadingIndicator","validatedTokens","t","balances","vt","anyLoading","some","callState","amount","TokenAmount","useTokenBalances","useTokenBalance","tokenBalances","useCurrencyBalances","currencies","currency","ethBalance","useCurrencyBalance","Card","styled","Box","padding","border","borderRadius","LightCard","theme","bg2","bg1","GreyCard","bg3","YellowCard","yellow2","BlueCardStyled","primary1","primary5","BlueCard","children","rest","fontWeight","useOnClickOutside","node","handler","handlerRef","useRef","handleClickOutside","contains","target","document","addEventListener","removeEventListener","useInterval","delay","leading","savedCallback","tick","PopoverContainer","props","show","transparentize","shadow1","text2","ReferenceElement","Arrow","Popover","content","placement","useState","referenceElement","setReferenceElement","popperElement","setPopperElement","arrowElement","setArrowElement","usePopper","strategy","modifiers","offset","element","styles","update","attributes","ref","style","popper","className","arrow","TooltipContainer","Tooltip","text","MouseoverTooltip","setShow","open","close","onMouseEnter","onMouseLeave","QuestionWrapper","QuestionHelper","marginLeft","onClick","size","button","attrs","warning","backgroundColor","red1","white","darken","text4","CloseIcon","X","LinkStyledButton","disabled","StyledInternalLink","Link","StyledLink","ExternalLink","rel","handleClick","event","ctrlKey","metaKey","outboundLink","label","preventDefault","window","rotate","keyframes","Spinner","img","text1","MEDIA_WIDTHS","upToExtraSmall","upToSmall","upToMedium","upToLarge","mediaWidthTemplates","b","css","ThemeProvider","themeObject","black","text3","text5","bg4","bg5","modalBG","advancedBG","primary2","primary3","primary4","primaryText1","secondary1","secondary2","secondary3","red2","green1","yellow1","colors","grids","sm","md","lg","mediaWidth","flexColumnNoWrap","flexRowNoWrap","TextWrapper","Text","TYPE","fontSize","fontStyle","FixedGlobalStyle","createGlobalStyle","ThemedGlobalStyle","Column","ColumnCenter","AutoColumn","gap","justify","SlippageError","DeadlineError","Row","align","RowBetween","RowFlat","AutoRow","RowFixed","FancyButton","Option","Input","input","OptionCustom","SlippageEmojiContainer","span","SlippageTabs","slippageError","deadlineError","rawSlippage","setRawSlippage","deadline","setDeadline","useContext","ThemeContext","inputRef","slippageInput","setSlippageInput","deadlineInput","setDeadlineInput","slippageInputIsValid","toFixed","parseFloat","deadlineInputIsValid","parseCustomSlippage","valueAsIntFromRoundedFloat","isNaN","parseCustomDeadline","valueAsInt","RiskyLow","RiskyHigh","InvalidInput","includes","tabIndex","role","aria-label","placeholder","onBlur","onChange","paddingTop","width","paddingLeft","ToggleElement","isActive","isOnSwitch","StyledToggle","Toggle","toggle","Base","RebassButton","ButtonPrimary","altDisabledStyle","ButtonLight","ButtonSecondary","ButtonOutlined","ButtonConfirmedStyle","lighten","ButtonErrorStyle","ButtonConfirmed","confirmed","ButtonError","ButtonDropdownLight","display","alignItems","AnimatedDialogOverlay","animated","DialogOverlay","StyledDialogOverlay","AnimatedDialogContent","DialogContent","StyledDialogContent","minHeight","maxHeight","isOpen","Modal","onDismiss","initialFocusRef","fadeTransition","useTransition","config","duration","opacity","enter","leave","useSpring","y","mass","tension","friction","bind","useGesture","onDrag","down","movement","velocity","direction","isMobile","transform","interpolate","StyledMenuIcon","Settings","StyledCloseIcon","StyledMenuButton","EmojiWrapper","StyledMenu","MenuFlyout","Break","ModalContentWrapper","SettingsTab","settingsMenuOpen","setUserslippageTolerance","toggleExpertMode","toggleDarkMode","showConfirmation","setShowConfirmation","prompt","_extends","assign","arguments","source","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_ref","svgRef","title","height","viewBox","fill","ForwardRef","forwardRef","useToggle","initialState","setState","MenuIcon","MenuItem","Menu","isZero","hexNumberString","useDebounce","debouncedValue","setDebouncedValue","clearTimeout","useENSName","debouncedAddress","ensNodeArgument","namehash","toLowerCase","substr","resolverAddress","resolverAddressResult","changed","ENSName","useSocksBalance","UNISOCKS_ABI","addTransaction","clearAllTransactions","finalizeTransaction","checkedTransaction","useTransactionAdder","summary","approval","hash","useAllTransactions","transactions","isTransactionRecent","tx","Date","getTime","addedTime","StyledIdenticonContainer","Identicon","innerHTML","appendChild","Jazzicon","slice","StyledSVG","svg","Loader","xmlns","usePrevious","CopyIcon","TransactionStatusText","CopyHelper","timeout","isCopied","setIsCopied","staticCopy","didCopy","copy","hide","useCopyClipboard","setCopied","toCopy","TransactionWrapper","TransactionState","IconWrapper","pending","Transaction","allTransactions","receipt","x1","y1","x2","y2","HeaderRow","UpperSection","InfoCard","AccountGroupingRow","AccountSection","YourAccount","LowerSection","AccountControl","AddressLink","CloseColor","Close","WalletName","TransactionListWrapper","WalletAction","MainWalletAction","renderTransactions","AccountDetails","pendingTransactions","confirmedTransactions","openOptions","getStatusIcon","src","WalletConnectIcon","alt","CoinbaseWalletIcon","FortmaticIcon","PortisIcon","showPortis","clearAllTransactionsCallback","ethereum","formatConnectorName","marginRight","hasENS","isENS","mb","justifyContent","OptionCard","OptionCardLeft","OptionCardClickable","clickable","GreenCircle","CircleWrapper","HeaderText","SubHeader","link","header","subheader","icon","PendingSection","StyledLoader","LoadingMessage","ErrorGroup","ErrorButton","LoadingWrapper","PendingView","setPendingError","tryActivation","isMetamask","option","require","Wrapper","ContentWrapper","OptionGrid","HoverText","WALLET_VIEWS","WalletModal","useTranslation","useWeb3React","activate","walletView","setWalletView","pendingWallet","setPendingWallet","pendingError","walletModalOpen","previousAccount","activePrevious","connectorPrevious","category","action","walletConnectProvider","wc","uri","UnsupportedChainIdError","on","web3","MetamaskIcon","getOptions","Web3StatusGeneric","Web3StatusError","Web3StatusConnect","faded","Web3StatusConnected","p","NetworkIcon","Activity","newTransactionsFirst","SOCK","marginTop","marginBottom","StatusIcon","Web3StatusInner","hasPendingTransactions","hasSocks","balance","greaterThan","useHasSocks","Web3Status","sortedRecentTransactions","HeaderFrame","HeaderElement","HeaderElementWrap","Title","AccountElement","TestnetWrapper","NetworkCard","UniIcon","HeaderControls","BalanceText","NETWORK_LABELS","Header","userEthBalance","isDark","LogoDark","Logo","pointerEvents","flexShrink","pl","pr","toSignificant","fetchTokenList","fulfilled","rejected","acceptListUpdate","addList","removeList","selectList","listVersionLabel","version","major","minor","patch","ListUpdatePopup","popKey","listUrl","oldList","newList","auto","removeThisPopup","handleAcceptUpdate","diffTokenLists","tokensAdded","added","tokensChanged","tokensRemoved","removed","numTokensChanged","flex","Fragment","flexGrow","RowNoFlex","TransactionPopup","paddingRight","StyledClose","Popup","Fader","AnimatedFader","PopupItem","removeAfterMs","popupContent","txn","listUpdate","faderStyle","to","MobilePopupWrapper","MobilePopupInner","FixedPopupColumn","Popups","activePopups","popupList","useActivePopups","reverse","MessageWrapper","Message","h2","Web3ReactManager","networkActive","networkError","activateNetwork","triedEager","tried","setTried","isAuthorized","useEagerConnect","suppress","handleChainChanged","handleAccountsChanged","removeListener","useInactiveListener","showLoader","setShowLoader","DarkModeQueryParamReader","parseArrays","ignoreQueryPrefix","Section","BottomSection","ConfirmedIcon","CustomLightSpinner","ConfirmationPendingContent","pendingText","Circle","textAlign","TransactionSubmittedContent","margin","ConfirmationModalContent","bottomContent","topContent","TransactionErrorContent","TransactionConfirmationModal","attemptingTxn","useLast","filterFn","last","setLast","isDefined","UTF_8_DECODER","TextDecoder","contenthashToUri","contenthash","buff","hex","startsWith","arr","Uint8Array","hexToUint8Array","codec","getCodec","rmPrefix","cid","CID","toB58String","multihash","decode","digest","trim","ENS_NAME_REGEX","parseENSAddress","ensAddress","match","ensName","ensPath","uriToHttp","useHttpLocations","ens","resolvedContentHash","useENSContentHash","BAD_SRCS","srcs","refresh","find","onError","StyledListLogo","ListLogo","getTokenLogoURL","StyledEthereumLogo","StyledLogo","CurrencyLogo","uriLocations","EthereumLogo","BaseWrapper","disable","CommonBases","onSelect","selectedCurrency","currencyEquals","selected","FadedSpan","PaddedColumn","SearchInput","Separator","SeparatorDark","currencyKey","StyledBalanceText","Tag","Balance","toExact","TagContainer","TokenTags","tag","join","CurrencyRow","isSelected","otherSelected","isOnSelectedList","defaultTokens","isTokenOnList","customAdded","useIsUserAddedToken","removeToken","useRemoveUserAddedToken","addToken","useAddUserToken","stopPropagation","justifySelf","CurrencyList","onCurrencySelect","otherCurrency","fixedListRef","showETH","itemData","Currency","index","itemKey","itemCount","itemSize","FilterWrapper","SortButton","toggleSortOrder","ascending","useTokenComparator","inverted","useAllTokenBalances","comparator","balanceComp","balanceA","balanceB","equalTo","balanceComparator","getTokenComparator","CurrencySearch","otherSelectedCurrency","showCommonBases","onChangeList","fixedList","searchQuery","setSearchQuery","invertSearchOrder","setInvertSearchOrder","isAddressSearch","searchToken","s","tokenComparator","filteredTokens","searchingAddress","lowerSearchParts","matchesSearch","sParts","sp","endsWith","filterTokens","filteredSortedTokens","sorted","symbolMatch","handleCurrencySelect","handleInput","checksummedInput","scrollTo","handleEnter","selectedListInfo","selectedUrl","listsByUrl","pendingUpdate","loadingRequestId","useSelectedListInfo","onKeyDown","iso","disableWidth","ListIntroduction","onSelectList","listDark","listLight","tokenListValidator","Ajv","allErrors","compile","schema","getTokenList","resolveENSContentHash","parsedENS","contentHashUri","translatedUri","isLast","validationErrors","errors","dataPath","REGISTRAR_ABI","constant","outputs","payable","stateMutability","RESOLVER_ABI","internalType","resolverContract","ensRegistrarContract","resolver","useFetchListCallback","ensResolver","Web3Provider","getNetworkLibrary","requestId","nanoid","tokenList","errorMessage","UnpaddedLinkStyledButton","StyledListUrlText","ListOrigin","lowerListUrl","listUrlRowHTMLId","replace","ListRow","onBack","selectThisList","handleAcceptListUpdate","handleRemoveList","overflow","textOverflow","minWidth","AddListButton","ListContainer","ListSelect","listUrlInput","setListUrlInput","adding","addError","setAddError","fetchList","handleAddList","validUrl","handleEnterKey","sortedLists","u1","u2","l1","l2","cursor","CurrencySearchModal","listView","setListView","lastOpen","handleClickChangeList","handleClickBack","handleSelectListIntroduction","noListSelected","sizeraw","HigherLogo","CoveredLogo","DoubleCurrencyLogo","currency0","currency1","StyledInput","inputRegex","RegExp","React","onUserInput","nextUserInput","inputMode","autoComplete","autoCorrect","pattern","minLength","maxLength","spellCheck","InputRow","CurrencySelect","LabelRow","Aligner","StyledDropDown","DropDown","InputPanel","hideInput","Container","StyledTokenName","StyledBalanceMax","CurrencyInputPanel","onMax","showMaxButton","disableCurrencySelect","hideBalance","modalOpen","setModalOpen","selectedCurrencyBalance","handleDismissSearch","val","Tabs","StyledNavLink","NavLink","activeClassName","ActiveText","StyledArrowLeft","ArrowLeft","SwapPoolTabs","FindPoolTabs","AddRemoveTabs","useTotalSupply","totalSupply","wrappedCurrency","wrappedCurrencyAmount","currencyAmount","unwrappedToken","equals","ArrowWrapper","SectionBreak","BottomGrouping","ErrorText","severity","StyledBalanceMaxMini","TruncatedText","Dots","SwapCallbackErrorInner","SwapCallbackErrorInnerAlertTriangle","SwapCallbackError","SwapShowAcceptChanges","FixedHeightRow","HoverCard","MinimalPositionCard","showUnwrapped","showMore","setShowMore","userPoolBalance","liquidityToken","totalPoolTokens","greaterThanOrEqual","getLiquidityValue","token0Deposited","token1Deposited","FullPositionCard","poolTokenPercentage","as","PairState","Version","PAIR_INTERFACE","IUniswapV2PairABI","usePairs","currencyA","currencyB","reserves","LOADING","INVALID","NOT_EXISTS","reserve0","reserve1","sortsBefore","EXISTS","usePair","useParsedQueryString","useLocation","DEFAULT_VERSION","v2","useToggledVersion","v1","useV1ExchangeAddress","MockV1Pair","etherAmount","tokenAmount","useMockV1Pair","inputCurrency","v1PairAddress","tokenBalance","ETHBalance","getTradeVersion","trade","isV1","route","pairs","useV1TradeExchangeAddress","inputAmount","outputAmount","Field","ZERO_PERCENT","ONE_HUNDRED_PERCENT","isTradeBetter","tradeA","tradeB","minimumDelta","tradeType","executionPrice","lessThan","ApprovalState","selectCurrency","switchCurrencies","typeInput","replaceSwapState","setRecipient","BASE_FEE","INPUT_FRACTION_AFTER_FEE","subtract","computeTradePriceBreakdown","realizedLPFee","currentFee","priceImpactWithoutFeeFraction","priceImpact","priceImpactWithoutFee","numerator","denominator","quotient","computeSlippageAdjustedAmounts","allowedSlippage","num","pct","INPUT","maximumAmountIn","OUTPUT","minimumAmountOut","warningSeverity","useApproveCallback","amountToApprove","spender","currentAllowance","owner","allowance","useTokenAllowance","pendingApproval","useHasPendingApproval","approvalState","APPROVED","PENDING","NOT_APPROVED","UNKNOWN","approve","useExact","estimateGas","MaxUint256","estimatedGas","gasLimit","resetMintState","useENSAddress","debouncedName","addr","useENS","nameOrAddress","validated","reverseLookup","lookup","useAllCommonPairs","bases","basePairs","flatMap","base","otherBase","t0","t1","allPairs","customBases","customBasesA","customBasesB","curr","useSwapState","swap","tryParseAmount","typedValueParsed","parseUnits","BAD_RECIPIENT_ADDRESSES","involvesAddress","checksummedAddress","useDerivedSwapInfo","inputError","toggledVersion","independentField","typedValue","inputCurrencyId","outputCurrencyId","recipient","outputCurrency","recipientLookup","relevantTokenBalances","isExactIn","parsedAmount","bestTradeExactIn","currencyAmountIn","currencyOut","allowedPairs","Trade","maxHops","maxNumResults","useTradeExactIn","bestTradeExactOut","currencyIn","currencyAmountOut","useTradeExactOut","v2Trade","currencyBalances","v1Trade","exactAmount","inputPair","outputPair","inputIsETH","outputIsETH","Route","TradeType","EXACT_INPUT","EXACT_OUTPUT","useV1Trade","formattedTo","slippageAdjustedAmounts","slippageAdjustedAmountsV1","balanceIn","amountIn","parseCurrencyFromURLParameter","urlParam","queryParametersToSwapState","parsedQs","validatedRecipient","parseIndependentFieldURLParameter","exactField","ZERO","useMintState","mint","maxAmountSpend","BodyWrapper","AppBody","ClickableText","MaxButton","ConfirmAddModalBottom","noLiquidity","price","parsedAmounts","onAdd","CURRENCY_A","CURRENCY_B","invert","PoolPriceBar","pt","AddLiquidity","currencyIdA","currencyIdB","history","oneCurrencyIsWETH","otherTypedValue","dependentField","pairState","equal","independentAmount","dependentAmount","wrappedIndependentAmount","dependentCurrency","dependentTokenAmount","priceOf","quote","currencyAAmount","currencyBAmount","Price","wrappedCurrencyA","liquidityMinted","tokenAmountA","tokenAmountB","getLiquidityMinted","useDerivedMintInfo","onFieldAInput","field","onFieldBInput","useMintActionHandlers","isValid","showConfirm","setShowConfirm","setAttemptingTxn","txHash","setTxHash","formattedAmounts","maxAmounts","atMaxAmounts","approvalA","approveACallback","approvalB","approveBCallback","router","parsedAmountA","parsedAmountB","amountsMin","deadlineFromNow","Math","ceil","now","tokenBIsETH","estimate","addLiquidityETH","args","addLiquidity","estimatedGasLimit","modalHeader","mt","lineHeight","modalBottom","handleCurrencyASelect","newCurrencyIdA","handleCurrencyBSelect","newCurrencyIdB","handleDismissConfirmation","RedirectToAddLiquidity","Fields","OLD_PATH_STRUCTURE","RedirectOldAddLiquidityPathStructure","RedirectDuplicateTokenIds","Pool","trackedTokenPairs","pinnedPairs","generatedPairs","savedSerializedPairs","userPairs","forChain","pairId","combinedList","concat","keyed","useTrackedTokenPairs","tokenPairsWithLiquidityTokens","tpwlt","v2PairsBalances","fetchingV2PairBalances","liquidityTokensWithBalances","v2Pairs","v2IsLoading","V2Pair","allV2PairsWithLiquidity","v2Pair","PoolFinder","showSearch","setShowSearch","TOKEN1","activeField","setActiveField","setCurrency0","setCurrency1","addPair","serializedPair","usePairAdder","validPairNoLiquidity","position","hasPosition","TOKEN0","handleSearchDismiss","prerequisiteMessage","justifyItems","StyledRangeInput","Slider","min","step","max","changeCallback","aria-labelledby","useBurnState","burn","RemoveLiquidity","userLiquidity","LIQUIDITY","liquidityValueA","liquidityValueB","liquidityValues","percentToRemove","LIQUIDITY_PERCENT","liquidityValue","useDerivedBurnInfo","_onUserInput","useBurnActionHandlers","showDetailed","setShowDetailed","atMaxAmount","pairContract","signatureData","setSignatureData","approveCallback","liquidityAmount","nonces","nonce","deadlineForSignature","EIP712Domain","domain","verifyingContract","Permit","toHexString","types","primaryType","send","splitSignature","signature","v","r","onLiquidityInput","onCurrencyAInput","onCurrencyBInput","onRemove","currencyAmountA","currencyAmountB","currencyBIsETH","oneCurrencyIsETH","methodNames","safeGasEstimates","indexOfSuccessfulEstimation","findIndex","safeGasEstimate","isBigNumber","liquidityPercentChangeCallback","handleSelectCurrencyA","handleSelectCurrencyB","debouncedMs","inner","setInner","timer","onChangeInner","newValue","useDebouncedChangeHandler","innerLiquidityPercentage","setInnerLiquidityPercentage","mr","RedirectOldRemoveLiquidityPathStructure","ContainerRow","InputContainer","AddressInputPanel","withoutSpaces","autoCapitalize","FormattedPriceImpact","SwapModalFooter","onConfirm","swapErrorMessage","disabledConfirm","showInverted","setShowInverted","formatExecutionPrice","SwapModalHeader","showAcceptChanges","onAcceptChanges","priceImpactSeverity","ConfirmSwapModal","originalTrade","confirmationContent","px","py","my","flexWrap","isLastItem","ml","TradeSummary","AdvancedSwapDetails","showRoute","AdvancedDetailsFooter","AdvancedSwapDetailsDropdown","lastTrade","BetterTradeLink","linkDestination","TradePrice","formattedPrice","baseCurrency","quoteCurrency","WarningContainer","StyledWarningIcon","AlertTriangle","TokenWarningCard","tokenSymbol","duplicateNameOrSymbol","userToken","TokenWarningModal","understandChecked","setUnderstandChecked","toggleUnderstand","uc","handleDismiss","userSelect","checked","SwapCallbackState","WrapType","Grouping","CircleRow","Connector","prevConfirmed","ProgressCircles","steps","toHex","v1SwapArguments","inputETH","outputETH","ttl","floor","outputToken","output","useSwapCallArguments","recipientAddressOrName","recipientAddress","v1Exchange","tradeVersion","swapMethods","Router","swapCallParameters","feeOnTransfer","parameters","NOT_APPLICABLE","wrapType","useWrapCallback","wethContract","WETH_ABI","useWETHContract","sufficientBalance","WRAP","execute","deposit","txReceipt","UNWRAP","withdraw","Swap","loadedUrlParams","setResult","useDefaultsFromURLSearch","loadedInputCurrency","loadedOutputCurrency","dismissTokenWarning","setDismissTokenWarning","urlLoadedTokens","handleConfirmTokenWarning","toggleSettings","isExpertMode","swapInputError","onWrap","wrapInputError","showWrap","betterTradeLinkVersion","onCurrencySelection","onSwitchTokens","onChangeRecipient","useSwapActionHandlers","handleTypeInput","handleTypeOutput","tradeToConfirm","setSwapState","userHasSpecifiedInputOutput","noRoute","tradeIsV1","v1ExchangeAddress","useApproveCallbackFromTrade","approvalSubmitted","setApprovalSubmitted","maxAmountInput","atMaxAmountInput","swapCalls","VALID","gasEstimate","gasError","callStatic","callError","reason","estimatedCalls","successfulEstimation","el","ix","errorCalls","inputSymbol","outputSymbol","withRecipient","withVersion","useSwapCallback","swapCallback","swapCallbackError","handleSwap","confirm","confirmPriceImpactWithoutFee","showApproveFlow","handleConfirmDismiss","handleAcceptChanges","handleInputSelect","handleMaxInput","handleOutputSelect","RedirectPathToSwapOnly","RedirectToSwap","AppWrapper","HeaderWrapper","Marginer","App","fallback","component","exact","strict","createReducer","builder","addCase","payload","popup","updateVersion","currentTimestamp","pairKey","token0Address","token1Address","timestamp","lastUpdateVersionTimestamp","tokenAAddress","tokenBAddress","txs","lastCheckedBlockNumber","confirmedTime","otherField","DEFAULT_LIST_OF_LISTS","NEW_LIST_STATE","lastInitializedDefaultListOfLists","UNISWAP_DEFAULT_LIST","getVersionUpgrade","VersionUpgrade","NONE","lastInitializedSet","l","Set","newListOfListsSet","has","listeners","callListeners","fetchingBlockNumber","PERSISTED_KEYS","store","configureStore","reducer","middleware","getDefaultMiddleware","thunk","save","states","preloadedState","load","VISIBILITY_STATE_SUPPORTED","isWindowVisible","visibilityState","useIsWindowVisible","focused","setFocused","listener","Updater","windowVisible","blockNumberCallback","getBlockNumber","debouncedState","bump","PATCH","MINOR","minVersionBump","MAJOR","waitRandom","ms","round","random","CancelledError","RetryableError","chunk","minBlockNumber","aggregate","obj","resultsBlockNumber","returnData","toNumber","debouncedListeners","cancellations","listeningKeys","allListeners","keyListeners","previousMin","activeListeningKeys","unserializedOutdatedCallKeys","minDataBlockNumber","outdatedListeningKeys","serializedOutdatedCallKeys","outdatedCallKeys","chunkedCalls","items","maxChunkSize","numChunks","chunkSize","chunkArray","fn","rejectCancelled","n","minWait","maxWait","completed","cancel","retry","fetchChunk","fetchBlockNumber","firstCallKeyIndex","lastCallKeyIndex","lastBlockNumber","useAddPopup","blocksSinceCheck","minutesPending","shouldCheck","getTransactionReceipt","blockHash","contractAddress","transactionHash","transactionIndex","darkHandler","matches","matchMedia","addListener","getLibrary","Web3ProviderNetwork","createWeb3ReactRoot","autoRefreshOnNetworkChange","GOOGLE_ANALYTICS_ID","REACT_APP_GOOGLE_ANALYTICS_ID","Updaters","initialize","customBrowserType","testMode","exception","filename","lineno","colno","fatal","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c276edee.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/coinbaseWalletIcon.aa4c7a76.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/portisIcon.b234b2bf.png\";","module.exports = __webpack_public_path__ + \"static/media/walletConnectIcon.5e81cac2.svg\";","var map = {\n\t\"./arrow-down-blue.svg\": 376,\n\t\"./arrow-down-grey.svg\": 377,\n\t\"./arrow-right-white.png\": 378,\n\t\"./arrow-right.svg\": 379,\n\t\"./blue-loader.svg\": 158,\n\t\"./circle-grey.svg\": 380,\n\t\"./circle.svg\": 381,\n\t\"./coinbaseWalletIcon.svg\": 115,\n\t\"./dropdown-blue.svg\": 382,\n\t\"./dropdown.svg\": 383,\n\t\"./dropup-blue.svg\": 384,\n\t\"./ethereum-logo.png\": 159,\n\t\"./fortmaticIcon.png\": 116,\n\t\"./link.svg\": 385,\n\t\"./magnifying-glass.svg\": 386,\n\t\"./menu.svg\": 387,\n\t\"./metamask.png\": 160,\n\t\"./plus-blue.svg\": 388,\n\t\"./plus-grey.svg\": 389,\n\t\"./portisIcon.png\": 117,\n\t\"./question-mark.svg\": 390,\n\t\"./question.svg\": 391,\n\t\"./spinner.svg\": 392,\n\t\"./token-list/lists-dark.png\": 161,\n\t\"./token-list/lists-light.png\": 162,\n\t\"./trustWallet.png\": 393,\n\t\"./walletConnectIcon.svg\": 118,\n\t\"./x.svg\": 394\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 146;","module.exports = __webpack_public_path__ + \"static/media/blue-loader.e62a99c3.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAADd9JREFUeNrtXdtzE+cV38kweWpm+tI8JZP8EZ0pL+UhferkfyAzFqEpadq0hbRNUlsYQ2ycBEgCgQQIgVxMbC6BAHbEJZg7dW4OpeCWwDTNDOyuLFuybMsXfT2/tWVkWavd1e5K58g6M9+Q8cTS+ju//b5z/R1Nq0F5Ppr46cpm8xcroubyFU3m+oYmY39Do97d0KRfoH/76d/b9K9JP89Yy/pv62f9s/9PN34Hv4vPwGfhM7W68JNVUfWTp9fqv440Ge2RRqOXFHiPFKhCWfTZ+A58F74T313XQIUlGlUP0lv5RCRqtkQa9YukjMnQFO6w8N3WM9Cz4JnwbHUNhSQrovGlkSZ9K216vFoKdwGIOJ4Rz1rXWADyTDTxeCSqv0wbe5Or0kuA4SaeHX9DXZMepSFq/Jw28FBDo5GVpviFy8hafwv9TXXNOh3zzfov6Qjtka90u1NB78HfWNd0gUTWmr+yLPgaVfwCIMCToL+5/sZH44+Qa9W5WBRfxK3sxB4sRlduSSRqrKYjMbVolX//WkhhL7Ani+O4j+rL6Ai8ttgVX+RauIa9qfG3Xm+tDcs+RI+B9qjmToNVLfFHKWJ2vq5gt6eBfr5mbIPIWuNJK9lSV6zXZWLvJB/5D1AApK1+5PsOIrVhL8UlbMiy7agrMKArgfZSTKKpoc14iHLpMUkb/OZHQ6pxa5x5zID2lPaWefIm9TC5M32SlP/MOl0Zg1PqWG9aUY6fu6vY99yG1M94GnsticfozhqQdryeOJ9W09NZ9cU/Rq2TQIBdMIC9ZvfmS1T+39+Kq6mp7BwATl8dVX/caIoAAfaczZ0v7djPrYE7EwqSAwDW/u6UlMhhX9VtAlim0gy+3Np9KKlykg8ArPXvDApJJhmxqnkHlp8v1NV77hVDJUembQHQfSFtGYeCXMTKxwlmgjwy/erevlGVL4UAwHqna1hS+VlbFcK7MiN8698dVNls1hEAWC+8bsqJGFYqbIzEjtTY/oqorn64O6kKxQ4AB0+NIF8vJncA3YSf0hWc1YOFX0zsAIDVvichKosYaip5Jp8vU/l/ftVUY+NZzwCIXRpVz24wBOUN9NbQKnkkZ/a+vD6u7KQUALDeP5KUVlSyLISjX24Z16Z9Q6qUOAEA6+U344KuAuNaoFcBoWqNVOX/pllXOiV7/ALg6NkR9XRUVC3BmsBKtyVX70JxTuIGAFhvfDgkKDagpwIpKyPLskuq8l98I64mJ7OBAeD0lVH1fJshySvo8t2xI7mS5vr3GeVG3AIA6+MTKVF74KsDSXK7FkK5bsULALCatw9KMgh7y27UlKp8+O1DqenQAIAiEhiXYiKg5TSkSu7SxV3tRbwCAGt7p6Rkkd7jze2jXnapysfxDIWGDQCs1a+ZcvbGCz/BDDmDyEZLdefHCeVVygXAgZicZBF06rK+L/G41JDvh8eSqhwpFwBYbbsTYkLEruhqwGsjUfko5hwdm644AGKX0mrVehmxAejWTdh3QCIArvSPqXLFDwCwdh9OSrkGbjqFfZdKVP6rlLP3I34BgPXiFhnJopIUduC4k6b8ldTNc9ecrDoAjpwZsSqOBBjKW+0bOhmTMNqtw6dHlF8JAgBYSDsLuAbiRUvJQXUqTfl/3WyqiYksGwCcogDU71sNAdeA+UQR699skQaA7/6dUUFIUADAgivK3xswW4qlfS9KUv62/cMqKAkSAFjRbbyTRdD1/FJvoj2vJuu217WqxVCDw1NsAXD8XNoyThnbAZPzqO7BfS/p7f/8YloFKUEDAGtrB2+DEDrPj/23S1F+07a452RPNQBwhlrNUYrO+BRoF1n4ceuHiUCVjzax67cy6pOeVOAg6Pw8xdgOyCsUCXXMSoAL9flBSYbcR/QKwHWDsta+PahadyXU3qNJq54gKBBs2MnUICSdW8rHMCQJyod/PTI67VvxQ8lpdfGbsQVKBgByC/wAOw8Mqx6yNfwCAPbKb1t47qk1CAsTsSQA4MLXY74U/6M+qc5SW/gZG0XlAyC31lFxyVtkzKG03A8Idh7kWT0E3dP9bz7FXfk4msuVgTsZetud3+RiAMhfm/YlrDu9XBAgaskwIrgc+f8NrN0VSrDg7fUiE9QL8PUNut8vuz/CnQCQWxupAOSDz5IWoZQXACBnwa16CLrXZocqsgVAVyzlWvGgfbn07ZirN75cAMzZCUQ0sYuO9pgHO+G195lVD5HuWVf/riGGjvGMs89/15hUvV/a3+9hACC3mncMqm1kJxxzYSecujxq8ROxqhbmnAP45sZ4ScX/578ZdSYgl61cAOSvzWQnHIiVthP2HU3yygk0YF4uU/7eYjJJxI7f3oT/ng40aBMEAHKr/b2ElRW0sxMY8RL3a7NDk9nx95qJ+ckexACufDcWaJAmLADk1gayE3YfGlYnL80HKxteYtK9xpHwCdm0nNyLT6lzX83E1sNQfJgAmIsnUGBp+/4hdbz3PhCY8BKb2uz4dHb8vbf/NxG60isFgDmDkQJLW4hj4OCpFA9eYtI9OwAcOzcyF5+v5KoEAObZCXvIaPxgiAEAmF0BSKGCzq3WAfA3KiNn0GFssjQCc02ex3rTNQcAXHG/40I7N2sE9nMOA2+hYxIBFOkAQJ0g7nxm4WDLDbwggd17z6dJsQAA5zDLcTSke5wA3XL6AOIWf68UALxEJFVcawFmVze7ZJBT2hRH6Cs7E6rnAt9IICJ9bhpE/lBtxjErGcQsHbyRwqiXKaPnxL6BaCF6A05f5QOAKC14MU73fO5KA41dVesBmsz1aAlbzu1ogvWPmj3k0J1cJRhWHx1PVR0AuJ5WNjuWYltkk4hzcIgEWgUhHEvCYP3nqn+RE8Cb7vQ7OHaPfjFScQDArXvWBUEE3FqEuPFdqHHg4A1YJWFci0L/sokYP8bvF4HeuJ2xegKcBkKg6OLk5fABALfODWsorrL8knPQz3NpILWKQjmXhReSPaKBA/kBpw3EG7mLsnBhAQCFKk7E0Whfe/fAwmdYt2OQiwt4T0RjCEq4CyVNqWHc+06EDPC/u2KpwAAAo81pmhieCYwlsUsLvRSMqmPZGMK5NQxvkh6fsi31dlNnhzp/sHuWCwDYF25KuWAPgCnEjm5+JSN20XmtYdybQ3FsIkVsJ6gAdoofYPNhedsVlNi5dX9qd3brYAugAsiWZfwqvwlk85pDJbSHoya/lIAWHlY2TgynDiPU5TkBAEaoU4s3XFR0ATvFIl7fy6saeEF7uASCCLyFbujf0fq1y0Unzks0AubTvON6LnxLP3cCERbKvbpdRCM7GNLLLyCIkEIRg+M4lXbXH/g9VRS1OMwABqgQeUT/HlxMN6FZXDUHTrqLNyBczXHiWFGKGCkkUYikeWn9Rk8hgOMUVnbyKJDDf++wt4wko+pfZ5IoSTRxqA/wIpgXCHewHNoW+Pub93mvSeBKJ29LEyeJKBIWfbERsE4Cd9JLDB5eQDlVSchhcJ0wZksUKY0qFj53uRyB/yRGkFJzAJHR6yizLhGJHqcrhy1V7GxQ6KYUEMCd88MLhJxBfn0eijd2dA77yiqilV0sWbREuviv/jXuizgCXgVoYXLegB/lc+r7K5suXtrACIRo/XIGBsEShiCUU55AxMAIiSNjQNrghzpuMdDFux4ZI3Vo1Gdn01UDAJM+v9LLy9AoiWPjVkTL5xD0AwDkKLgPjvI8Nk7q4MgXCqqIwgYAcv4i6OHLGRwpdXSsl5GxfgHAprrHbeHHYhke7ZVTsBwAoORMwl74Gh49Wy/YKQ0ASOfei0+FBgBUH6+UMDuYdKf5FQodPkJGREoaCHA8T05lAwcAij/WCBgZC51Bd1oQEokaqyVeBU5VROUAgB3Xn23Uz1itBSWUPlxCxsQ1aQCwqohuZQIDwMcnUjL+btIVdKYFKRRHXiZxpjAyc2AQ9QsAq7pHxIhYIwtdaWEIfXCrxKsAJBN+AYD0s4yjX2/VwpKZq0A/LxEEpaqInADw9idCXD7STeBHf6Gsaok/ypFb0E8VUSkAHDrFt7qnkPAJutEqIZG1xpMS7QFUAWWKVBHZAQCnRtW5/Nze+6QTrZJC6cU2iVfB3iJVRHYAABOJDG/HaNMqLXTXPEC+ZodEEGBYlBMA9h5JSvH3O6ALrRqC8mLimYlJA0BhFVEhAPhX98xx/MRsS7wrJQ1txkMUeOiTBoK2vCqiQgCA7kVAsKcPe69xkGeiqYfJEBmQBgK0bBcCAJ1HAoy+Aey5xkkiLYnHpIEgV0WUA4CE6h7sMfZa4yhApbTrAH37YBxBdQ+neT52xz67N7+YTSDNMEQfH1i8uBt8bO58N96BVBeRsav3oCZJrDiBFSySFzFkFeGjPayanx9c2Fhe7oBDbL/i4d0wE0hSs4jVyupVLLFTwSthyUw9Qf1KcCjmaA09pVvVK4GqVSSWl1WijCu0Sh6OpwGhfY3EauMwqnexFzX91pcsOW/UuxbxXd8VWOm26GuBulcktqH5adfy3bFTkycCNTFK60r22qVbdqPmYhL0ss+QVNSCx2AFcw557s+vywxdzQxnkbxUs5W1o2d3TctSF0eDcSk47jiTWeLZ8IyOVGx18ZdoAtUp+G5BelxNlnN8t/UM9Cx4JnEJm5oIMxPtObjvMQDB8iTCHH9Dn21Z8PRd+M4FlOt14SEYhoSJWJFG8ylrLiINSIQFPkuJ3z87MNvE+HRrWf9t/ax/5lQhTwS/Q7+Lz8BnzQ1YqjH5P29N0rBVv2N5AAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo.21cfe09a.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo_white.c8490b24.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow-down-blue.114fab91.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow-down-grey.4d4a6a99.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow-right-white.337ad716.png\";","module.exports = __webpack_public_path__ + \"static/media/arrow-right.e96d8158.svg\";","module.exports = __webpack_public_path__ + \"static/media/circle-grey.5dd950ec.svg\";","module.exports = __webpack_public_path__ + \"static/media/circle.716403ba.svg\";","module.exports = __webpack_public_path__ + \"static/media/dropdown-blue.80a3ae25.svg\";","module.exports = __webpack_public_path__ + \"static/media/dropdown.50dbd07d.svg\";","module.exports = __webpack_public_path__ + \"static/media/dropup-blue.345dad74.svg\";","module.exports = __webpack_public_path__ + \"static/media/link.50c67f3c.svg\";","module.exports = __webpack_public_path__ + \"static/media/magnifying-glass.52eac682.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu.981ecca4.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus-blue.899a4aa9.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus-grey.62281ca8.svg\";","module.exports = __webpack_public_path__ + \"static/media/question-mark.1761ff9c.svg\";","module.exports = __webpack_public_path__ + \"static/media/question.63be1e24.svg\";","module.exports = __webpack_public_path__ + \"static/media/spinner.a9842492.svg\";","module.exports = __webpack_public_path__ + \"static/media/trustWallet.edcc1ab5.png\";","module.exports = __webpack_public_path__ + \"static/media/x.5b8e2186.svg\";","import { ChainId } from '@tianheng2017/dex-sdk'\r\nimport { FortmaticConnector as FortmaticConnectorCore } from '@web3-react/fortmatic-connector'\r\n\r\nexport const OVERLAY_READY = 'OVERLAY_READY'\r\n\r\ntype FormaticSupportedChains = Extract<ChainId, ChainId.MAINNET | ChainId.ROPSTEN | ChainId.RINKEBY | ChainId.KOVAN | ChainId.BSCTEST>\r\n\r\nconst CHAIN_ID_NETWORK_ARGUMENT: { readonly [chainId in FormaticSupportedChains]: string | undefined } = {\r\n  [ChainId.MAINNET]: undefined,\r\n  [ChainId.ROPSTEN]: 'ropsten',\r\n  [ChainId.RINKEBY]: 'rinkeby',\r\n  [ChainId.KOVAN]: 'kovan',\r\n  [ChainId.BSCTEST]: 'BscTest',\r\n}\r\n\r\nexport class FortmaticConnector extends FortmaticConnectorCore {\r\n  async activate() {\r\n    if (!this.fortmatic) {\r\n      const { default: Fortmatic } = await import('fortmatic')\r\n\r\n      const { apiKey, chainId } = this as any\r\n      if (chainId in CHAIN_ID_NETWORK_ARGUMENT) {\r\n        this.fortmatic = new Fortmatic(apiKey, CHAIN_ID_NETWORK_ARGUMENT[chainId as FormaticSupportedChains])\r\n      } else {\r\n        throw new Error(`ä¸æ”¯æŒçš„ç½‘ç»œID: ${chainId}`)\r\n      }\r\n    }\r\n\r\n    const provider = this.fortmatic.getProvider()\r\n\r\n    const pollForOverlayReady = new Promise(resolve => {\r\n      const interval = setInterval(() => {\r\n        if (provider.overlayReady) {\r\n          clearInterval(interval)\r\n          this.emit(OVERLAY_READY)\r\n          resolve()\r\n        }\r\n      }, 200)\r\n    })\r\n\r\n    const [account] = await Promise.all([\r\n      provider.enable().then((accounts: string[]) => accounts[0]),\r\n      pollForOverlayReady\r\n    ])\r\n\r\n    return { provider: this.fortmatic.getProvider(), chainId: (this as any).chainId, account }\r\n  }\r\n}\r\n","import { ConnectorUpdate } from '@web3-react/types'\r\nimport { AbstractConnector } from '@web3-react/abstract-connector'\r\nimport invariant from 'tiny-invariant'\r\n\r\ninterface NetworkConnectorArguments {\r\n  urls: { [chainId: number]: string }\r\n  defaultChainId?: number\r\n}\r\n\r\n// taken from ethers.js, compatible interface with web3 provider\r\ntype AsyncSendable = {\r\n  isMetaMask?: boolean\r\n  host?: string\r\n  path?: string\r\n  sendAsync?: (request: any, callback: (error: any, response: any) => void) => void\r\n  send?: (request: any, callback: (error: any, response: any) => void) => void\r\n}\r\n\r\nclass RequestError extends Error {\r\n  constructor(message: string, public code: number, public data?: unknown) {\r\n    super(message)\r\n  }\r\n}\r\n\r\ninterface BatchItem {\r\n  request: { jsonrpc: '2.0'; id: number; method: string; params: unknown }\r\n  resolve: (result: any) => void\r\n  reject: (error: Error) => void\r\n}\r\n\r\nclass MiniRpcProvider implements AsyncSendable {\r\n  public readonly isMetaMask: false = false\r\n  public readonly chainId: number\r\n  public readonly url: string\r\n  public readonly host: string\r\n  public readonly path: string\r\n  public readonly batchWaitTimeMs: number\r\n\r\n  private nextId = 1\r\n  private batchTimeoutId: ReturnType<typeof setTimeout> | null = null\r\n  private batch: BatchItem[] = []\r\n\r\n  constructor(chainId: number, url: string, batchWaitTimeMs?: number) {\r\n    this.chainId = chainId\r\n    this.url = url\r\n    const parsed = new URL(url)\r\n    this.host = parsed.host\r\n    this.path = parsed.pathname\r\n    // how long to wait to batch calls\r\n    this.batchWaitTimeMs = batchWaitTimeMs ?? 50\r\n  }\r\n\r\n  public readonly clearBatch = async () => {\r\n    console.debug('Clearing batch', this.batch)\r\n    const batch = this.batch\r\n    this.batch = []\r\n    this.batchTimeoutId = null\r\n    let response: Response\r\n    try {\r\n      response = await fetch(this.url, {\r\n        method: 'POST',\r\n        headers: { 'content-type': 'application/json', accept: 'application/json' },\r\n        body: JSON.stringify(batch.map(item => item.request))\r\n      })\r\n    } catch (error) {\r\n      batch.forEach(({ reject }) => reject(new Error('Failed to send batch call')))\r\n      return\r\n    }\r\n\r\n    if (!response.ok) {\r\n      batch.forEach(({ reject }) => reject(new RequestError(`${response.status}: ${response.statusText}`, -32000)))\r\n      return\r\n    }\r\n\r\n    let json\r\n    try {\r\n      json = await response.json()\r\n    } catch (error) {\r\n      batch.forEach(({ reject }) => reject(new Error('Failed to parse JSON response')))\r\n      return\r\n    }\r\n    const byKey = batch.reduce<{ [id: number]: BatchItem }>((memo, current) => {\r\n      memo[current.request.id] = current\r\n      return memo\r\n    }, {})\r\n    for (const result of json) {\r\n      const {\r\n        resolve,\r\n        reject,\r\n        request: { method }\r\n      } = byKey[result.id]\r\n      if (resolve && reject) {\r\n        if ('error' in result) {\r\n          reject(new RequestError(result?.error?.message, result?.error?.code, result?.error?.data))\r\n        } else if ('result' in result) {\r\n          resolve(result.result)\r\n        } else {\r\n          reject(new RequestError(`Received unexpected JSON-RPC response to ${method} request.`, -32000, result))\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public readonly sendAsync = (\r\n    request: { jsonrpc: '2.0'; id: number | string | null; method: string; params?: unknown[] | object },\r\n    callback: (error: any, response: any) => void\r\n  ): void => {\r\n    this.request(request.method, request.params)\r\n      .then(result => callback(null, { jsonrpc: '2.0', id: request.id, result }))\r\n      .catch(error => callback(error, null))\r\n  }\r\n\r\n  public readonly request = async (\r\n    method: string | { method: string; params: unknown[] },\r\n    params?: unknown[] | object\r\n  ): Promise<unknown> => {\r\n    if (typeof method !== 'string') {\r\n      return this.request(method.method, method.params)\r\n    }\r\n    if (method === 'eth_chainId') {\r\n      return `0x${this.chainId.toString(16)}`\r\n    }\r\n    const promise = new Promise((resolve, reject) => {\r\n      this.batch.push({\r\n        request: {\r\n          jsonrpc: '2.0',\r\n          id: this.nextId++,\r\n          method,\r\n          params\r\n        },\r\n        resolve,\r\n        reject\r\n      })\r\n    })\r\n    this.batchTimeoutId = this.batchTimeoutId ?? setTimeout(this.clearBatch, this.batchWaitTimeMs)\r\n    return promise\r\n  }\r\n}\r\n\r\nexport class NetworkConnector extends AbstractConnector {\r\n  private readonly providers: { [chainId: number]: MiniRpcProvider }\r\n  private currentChainId: number\r\n\r\n  constructor({ urls, defaultChainId }: NetworkConnectorArguments) {\r\n    invariant(defaultChainId || Object.keys(urls).length === 1, 'defaultChainId is a required argument with >1 url')\r\n    super({ supportedChainIds: Object.keys(urls).map((k): number => Number(k)) })\r\n\r\n    this.currentChainId = defaultChainId || Number(Object.keys(urls)[0])\r\n    this.providers = Object.keys(urls).reduce<{ [chainId: number]: MiniRpcProvider }>((accumulator, chainId) => {\r\n      accumulator[Number(chainId)] = new MiniRpcProvider(Number(chainId), urls[Number(chainId)])\r\n      return accumulator\r\n    }, {})\r\n  }\r\n\r\n  public get provider(): MiniRpcProvider {\r\n    return this.providers[this.currentChainId]\r\n  }\r\n\r\n  public async activate(): Promise<ConnectorUpdate> {\r\n    return { provider: this.providers[this.currentChainId], chainId: this.currentChainId, account: null }\r\n  }\r\n\r\n  public async getProvider(): Promise<MiniRpcProvider> {\r\n    return this.providers[this.currentChainId]\r\n  }\r\n\r\n  public async getChainId(): Promise<number> {\r\n    return this.currentChainId\r\n  }\r\n\r\n  public async getAccount(): Promise<null> {\r\n    return null\r\n  }\r\n\r\n  public deactivate() {\r\n    return\r\n  }\r\n}\r\n","import { Web3Provider } from '@ethersproject/providers'\r\nimport { InjectedConnector } from '@web3-react/injected-connector'\r\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\r\nimport { WalletLinkConnector } from '@web3-react/walletlink-connector'\r\nimport { PortisConnector } from '@web3-react/portis-connector'\r\n\r\nimport { FortmaticConnector } from './Fortmatic'\r\nimport { NetworkConnector } from './NetworkConnector'\r\n\r\nconst NETWORK_URL = process.env.REACT_APP_NETWORK_URL\r\nconst FORMATIC_KEY = process.env.REACT_APP_FORTMATIC_KEY\r\nconst PORTIS_ID = process.env.REACT_APP_PORTIS_ID\r\n\r\nexport const NETWORK_CHAIN_ID: number = parseInt(process.env.REACT_APP_CHAIN_ID ?? '97')\r\n\r\nif (typeof NETWORK_URL === 'undefined') {\r\n    throw new Error(`REACT_APP_NETWORK_URL å¿…é¡»æ˜¯ä¸€ä¸ªå·²å®šä¹‰çš„çŽ¯å¢ƒå˜é‡`)\r\n}\r\n\r\nexport const network = new NetworkConnector({\r\n  urls: { [NETWORK_CHAIN_ID]: NETWORK_URL }\r\n})\r\n\r\nlet networkLibrary: Web3Provider | undefined\r\nexport function getNetworkLibrary(): Web3Provider {\r\n  return (networkLibrary = networkLibrary ?? new Web3Provider(network.provider as any))\r\n}\r\n\r\nexport const injected = new InjectedConnector({\r\n  supportedChainIds: [97]\r\n})\r\n\r\n// mainnet only\r\nexport const walletconnect = new WalletConnectConnector({\r\n  rpc: { 1: NETWORK_URL },\r\n  bridge: 'https://bridge.walletconnect.org',\r\n  qrcode: true,\r\n  pollingInterval: 15000\r\n})\r\n\r\n// mainnet only\r\nexport const fortmatic = new FortmaticConnector({\r\n  apiKey: FORMATIC_KEY ?? '',\r\n  chainId: 1\r\n})\r\n\r\n// mainnet only\r\nexport const portis = new PortisConnector({\r\n  dAppId: PORTIS_ID ?? '',\r\n  networks: [1]\r\n})\r\n\r\n// mainnet only\r\nexport const walletlink = new WalletLinkConnector({\r\n  url: NETWORK_URL,\r\n  appName: 'Uniswap',\r\n  appLogoUrl:\r\n    'https://mpng.pngfly.com/20181202/bex/kisspng-emoji-domain-unicorn-pin-badges-sticker-unicorn-tumblr-emoji-unicorn-iphoneemoji-5c046729264a77.5671679315437924251569.jpg'\r\n})\r\n","import { ChainId, JSBI, Percent, Token, WETH } from '@tianheng2017/dex-sdk'\r\nimport { AbstractConnector } from '@web3-react/abstract-connector'\r\n\r\nimport { fortmatic, injected, portis, walletconnect, walletlink } from '../connectors'\r\n\r\n// è·¯ç”±åˆçº¦åœ°å€ï¼Œéƒ¨ç½²åˆçº¦åŽä¿®æ”¹\r\nexport const ROUTER_ADDRESS = '0xceBf2F2542E651CfD27fc4453458a9c4B2e01523'\r\n\r\ntype ChainTokenList = {\r\n    readonly [chainId in ChainId]: Token[]\r\n}\r\n\r\nexport const DAI = new Token(ChainId.MAINNET, '0x6B175474E89094C44Da98b954EedeAC495271d0F', 18, 'DAI', 'Dai Stablecoin')\r\nexport const USDC = new Token(ChainId.MAINNET, '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', 6, 'USDC', 'USD//C')\r\nexport const USDT = new Token(ChainId.MAINNET, '0xdAC17F958D2ee523a2206206994597C13D831ec7', 6, 'USDT', 'Tether USD')\r\nexport const COMP = new Token(ChainId.MAINNET, '0xc00e94Cb662C3520282E6f5717214004A7f26888', 18, 'COMP', 'Compound')\r\nexport const MKR = new Token(ChainId.MAINNET, '0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2', 18, 'MKR', 'Maker')\r\nexport const AMPL = new Token(ChainId.MAINNET, '0xD46bA6D942050d489DBd938a2C909A5d5039A161', 9, 'AMPL', 'Ampleforth')\r\n\r\nconst WETH_ONLY: ChainTokenList = {\r\n    [ChainId.MAINNET]: [WETH[ChainId.MAINNET]],\r\n    [ChainId.ROPSTEN]: [WETH[ChainId.ROPSTEN]],\r\n    [ChainId.RINKEBY]: [WETH[ChainId.RINKEBY]],\r\n    [ChainId.GÃ–RLI]: [WETH[ChainId.GÃ–RLI]],\r\n    [ChainId.KOVAN]: [WETH[ChainId.KOVAN]],\r\n    [ChainId.BSCTEST]: [WETH[ChainId.BSCTEST]],\r\n}\r\n\r\n// ç”¨äºŽæž„å»ºäº¤æ˜“çš„ä¸­ä»‹å¯¹\r\nexport const BASES_TO_CHECK_TRADES_AGAINST: ChainTokenList = {\r\n    ...WETH_ONLY,\r\n    [ChainId.MAINNET]: [...WETH_ONLY[ChainId.MAINNET], DAI, USDC, USDT, COMP, MKR]\r\n}\r\n\r\n// ä¸€äº›ä»£å¸åªèƒ½é€šè¿‡ç‰¹å®šçš„äº¤æ˜“å¯¹è¿›è¡Œå…‘æ¢ï¼Œå› æ­¤æˆ‘ä»¬è¦†ç›–äº†è€ƒè™‘è¿™äº›ä»£å¸çš„åŸºç¡€ä»£å¸åˆ—è¡¨ã€‚\r\nexport const CUSTOM_BASES: { [chainId in ChainId]?: { [tokenAddress: string]: Token[] } } = {\r\n    [ChainId.MAINNET]: {\r\n        [AMPL.address]: [DAI, WETH[ChainId.MAINNET]]\r\n    }\r\n}\r\n\r\n// ç”¨äºŽé»˜è®¤åˆ—è¡¨ä¸­çš„æ˜¾ç¤ºï¼Œå½“æ·»åŠ æµåŠ¨æ€§æ—¶ã€‚\r\nexport const SUGGESTED_BASES: ChainTokenList = {\r\n    ...WETH_ONLY,\r\n    [ChainId.MAINNET]: [...WETH_ONLY[ChainId.MAINNET], DAI, USDC, USDT]\r\n}\r\n\r\n// ç”¨äºŽå‰ç«¯æž„å»ºé»˜è®¤ pair åˆ—è¡¨çš„å‡½æ•°\r\nexport const BASES_TO_TRACK_LIQUIDITY_FOR: ChainTokenList = {\r\n    ...WETH_ONLY,\r\n    [ChainId.MAINNET]: [...WETH_ONLY[ChainId.MAINNET], DAI, USDC, USDT]\r\n}\r\n\r\nexport const PINNED_PAIRS: { readonly [chainId in ChainId]?: [Token, Token][] } = {\r\n    [ChainId.MAINNET]: [\r\n        [\r\n            new Token(ChainId.MAINNET, '0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643', 8, 'cDAI', 'Compound Dai'),\r\n            new Token(ChainId.MAINNET, '0x39AA39c021dfbaE8faC545936693aC917d5E7563', 8, 'cUSDC', 'Compound USD Coin')\r\n        ],\r\n        [USDC, USDT],\r\n        [DAI, USDT]\r\n    ]\r\n}\r\n\r\nexport interface WalletInfo {\r\n    connector?: AbstractConnector\r\n    name: string\r\n    iconName: string\r\n    description: string\r\n    href: string | null\r\n    color: string\r\n    primary?: true\r\n    mobile?: true\r\n    mobileOnly?: true\r\n}\r\n\r\nexport const SUPPORTED_WALLETS: { [key: string]: WalletInfo } = {\r\n    INJECTED: {\r\n        connector: injected,\r\n        name: 'Injected',\r\n        iconName: 'arrow-right.svg',\r\n        description: 'Injected web3 provider.',\r\n        href: null,\r\n        color: '#010101',\r\n        primary: true\r\n    },\r\n    METAMASK: {\r\n        connector: injected,\r\n        name: 'MetaMask',\r\n        iconName: 'metamask.png',\r\n        description: 'Easy-to-use browser extension.',\r\n        href: null,\r\n        color: '#E8831D'\r\n    },\r\n    WALLET_CONNECT: {\r\n        connector: walletconnect,\r\n        name: 'WalletConnect',\r\n        iconName: 'walletConnectIcon.svg',\r\n        description: 'Connect to Trust Wallet, Rainbow Wallet and more...',\r\n        href: null,\r\n        color: '#4196FC',\r\n        mobile: true\r\n    },\r\n    WALLET_LINK: {\r\n        connector: walletlink,\r\n        name: 'Coinbase Wallet',\r\n        iconName: 'coinbaseWalletIcon.svg',\r\n        description: 'Use Coinbase Wallet app on mobile device',\r\n        href: null,\r\n        color: '#315CF5'\r\n    },\r\n    COINBASE_LINK: {\r\n        name: 'Open in Coinbase Wallet',\r\n        iconName: 'coinbaseWalletIcon.svg',\r\n        description: 'Open in Coinbase Wallet app.',\r\n        href: 'https://go.cb-w.com/mtUDhEZPy1',\r\n        color: '#315CF5',\r\n        mobile: true,\r\n        mobileOnly: true\r\n    },\r\n    FORTMATIC: {\r\n        connector: fortmatic,\r\n        name: 'Fortmatic',\r\n        iconName: 'fortmaticIcon.png',\r\n        description: 'Login using Fortmatic hosted wallet',\r\n        href: null,\r\n        color: '#6748FF',\r\n        mobile: true\r\n    },\r\n    Portis: {\r\n        connector: portis,\r\n        name: 'Portis',\r\n        iconName: 'portisIcon.png',\r\n        description: 'Login using Portis hosted wallet',\r\n        href: null,\r\n        color: '#4A6C9B',\r\n        mobile: true\r\n    }\r\n}\r\n\r\nexport const NetworkContextName = 'NETWORK'\r\n\r\n// é»˜è®¤å…è®¸çš„æ»‘ç‚¹èŒƒå›´ï¼Œä»¥bipsï¼ˆåŸºç¡€è®¡é‡å•ä½ï¼‰ä¸ºå•ä½\r\nexport const INITIAL_ALLOWED_SLIPPAGE = 50\r\n// 20åˆ†é’Ÿï¼Œç”¨ç§’è¡¨ç¤ºçš„æ—¶é—´å•ä½\r\nexport const DEFAULT_DEADLINE_FROM_NOW = 60 * 20\r\n\r\n// ä¸€ä¸ªåŸºç‚¹ï¼Œé€šå¸¸ç”¨äºŽè¡¨ç¤ºæ¯”ä¾‹æ•°ï¼ˆå¦‚äº¤æ˜“è´¹çŽ‡ã€è‡ªåŠ¨åŒ–å¸‚åœºåˆ¶é€ å•†çš„ä»·æ ¼åå·®ç­‰ï¼‰ï¼Œç›¸å½“äºŽ0.01%ã€‚\r\nexport const ONE_BIPS = new Percent(JSBI.BigInt(1), JSBI.BigInt(10000))\r\nexport const BIPS_BASE = JSBI.BigInt(10000)\r\n// ç”¨äºŽè­¦ç¤ºçŠ¶æ€çš„å¸¸é‡å€¼å®šä¹‰\r\nexport const ALLOWED_PRICE_IMPACT_LOW: Percent = new Percent(JSBI.BigInt(100), BIPS_BASE) // 1%\r\nexport const ALLOWED_PRICE_IMPACT_MEDIUM: Percent = new Percent(JSBI.BigInt(300), BIPS_BASE) // 3%\r\nexport const ALLOWED_PRICE_IMPACT_HIGH: Percent = new Percent(JSBI.BigInt(500), BIPS_BASE) // 5%\r\n// å¦‚æžœä»·æ ¼ä¸‹æ»‘è¶…è¿‡æ­¤æ•°å­—ï¼Œåˆ™å¼ºåˆ¶ç”¨æˆ·è¾“å…¥â€œconfirmâ€æ¥æ‰§è¡Œ\r\nexport const PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN: Percent = new Percent(JSBI.BigInt(1000), BIPS_BASE) // 10%\r\n// åœ¨éžä¸“å®¶æ¨¡å¼ä¸‹ï¼Œç¦æ­¢è¶…è¿‡æ­¤æ•°é‡çš„äº¤æ˜“\r\nexport const BLOCKED_PRICE_IMPACT_NON_EXPERT: Percent = new Percent(JSBI.BigInt(1500), BIPS_BASE) // 15%\r\n\r\n// ç”¨äºŽç¡®ä¿ç”¨æˆ·ä¸ä¼šå‘é€è¿‡å¤šçš„ ETH å¯¼è‡´å…¶å°äºŽæœ€å°å€¼ï¼Œå•ä½ä¸º weiï¼ˆEth çš„ä¸€ä¸ªåå…«æ¬¡æ–¹ï¼‰\r\nexport const MIN_ETH: JSBI = JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(16)) // .01 ETH\r\nexport const BETTER_TRADE_LINK_THRESHOLD = new Percent(JSBI.BigInt(75), JSBI.BigInt(10000))\r\n","import i18next from 'i18next'\r\nimport { initReactI18next } from 'react-i18next'\r\nimport XHR from 'i18next-xhr-backend'\r\nimport LanguageDetector from 'i18next-browser-languagedetector'\r\n\r\ni18next\r\n  .use(XHR)\r\n  .use(LanguageDetector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    backend: {\r\n      loadPath: `./locales/{{lng}}.json`\r\n    },\r\n    react: {\r\n      useSuspense: true\r\n    },\r\n    fallbackLng: 'en',\r\n    preload: ['en'],\r\n    keySeparator: false,\r\n    interpolation: { escapeValue: false }\r\n  })\r\n\r\nexport default i18next\r\n","import { useEffect } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { RouteComponentProps } from 'react-router-dom'\r\n\r\n// fires a GA pageview every time the route changes\r\nexport default function GoogleAnalyticsReporter({ location: { pathname, search } }: RouteComponentProps): null {\r\n  useEffect(() => {\r\n    ReactGA.pageview(`${pathname}${search}`)\r\n  }, [pathname, search])\r\n  return null\r\n}\r\n","import { Web3Provider } from '@ethersproject/providers'\r\nimport { ChainId } from '@tianheng2017/dex-sdk'\r\nimport { useWeb3React as useWeb3ReactCore } from '@web3-react/core'\r\nimport { Web3ReactContextInterface } from '@web3-react/core/dist/types'\r\nimport { useEffect, useState } from 'react'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { injected } from '../connectors'\r\nimport { NetworkContextName } from '../constants'\r\n\r\nexport function useActiveWeb3React(): Web3ReactContextInterface<Web3Provider> & { chainId?: ChainId } {\r\n  const context = useWeb3ReactCore<Web3Provider>()\r\n  const contextNetwork = useWeb3ReactCore<Web3Provider>(NetworkContextName)\r\n  return context.active ? context : contextNetwork\r\n}\r\n\r\nexport function useEagerConnect() {\r\n  const { activate, active } = useWeb3ReactCore() // specifically using useWeb3ReactCore because of what this hook does\r\n  const [tried, setTried] = useState(false)\r\n\r\n  useEffect(() => {\r\n    injected.isAuthorized().then(isAuthorized => {\r\n      if (isAuthorized) {\r\n        activate(injected, undefined, true).catch(() => {\r\n          setTried(true)\r\n        })\r\n      } else {\r\n        if (isMobile && window.ethereum) {\r\n          activate(injected, undefined, true).catch(() => {\r\n            setTried(true)\r\n          })\r\n        } else {\r\n          setTried(true)\r\n        }\r\n      }\r\n    })\r\n  }, [activate]) // intentionally only running on mount (make sure it's only mounted once :))\r\n\r\n  // if the connection worked, wait until we get confirmation of that to flip the flag\r\n  useEffect(() => {\r\n    if (active) {\r\n      setTried(true)\r\n    }\r\n  }, [active])\r\n\r\n  return tried\r\n}\r\n\r\n/**\r\n * Use for network and injected - logs user in\r\n * and out after checking what network theyre on\r\n */\r\nexport function useInactiveListener(suppress = false) {\r\n  const { active, error, activate } = useWeb3ReactCore() // specifically using useWeb3React because of what this hook does\r\n\r\n  useEffect(() => {\r\n    const { ethereum } = window\r\n\r\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\r\n      const handleChainChanged = () => {\r\n        // eat errors\r\n        activate(injected, undefined, true).catch(error => {\r\n          console.error('Failed to activate after chain changed', error)\r\n        })\r\n      }\r\n\r\n      const handleAccountsChanged = (accounts: string[]) => {\r\n        if (accounts.length > 0) {\r\n          // eat errors\r\n          activate(injected, undefined, true).catch(error => {\r\n            console.error('Failed to activate after accounts changed', error)\r\n          })\r\n        }\r\n      }\r\n\r\n      ethereum.on('chainChanged', handleChainChanged)\r\n      ethereum.on('accountsChanged', handleAccountsChanged)\r\n\r\n      return () => {\r\n        if (ethereum.removeListener) {\r\n          ethereum.removeListener('chainChanged', handleChainChanged)\r\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\r\n        }\r\n      }\r\n    }\r\n    return undefined\r\n  }, [active, error, suppress, activate])\r\n}\r\n","import { ChainId, Token } from '@tianheng2017/dex-sdk'\r\nimport { Tags, TokenInfo, TokenList } from '@uniswap/token-lists'\r\nimport { useMemo } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { AppState } from '../index'\r\n\r\ntype TagDetails = Tags[keyof Tags]\r\nexport interface TagInfo extends TagDetails {\r\n  id: string\r\n}\r\n\r\n/**\r\n * Token instances created from token info.\r\n */\r\nexport class WrappedTokenInfo extends Token {\r\n  public readonly tokenInfo: TokenInfo\r\n  public readonly tags: TagInfo[]\r\n  constructor(tokenInfo: TokenInfo, tags: TagInfo[]) {\r\n    super(tokenInfo.chainId, tokenInfo.address, tokenInfo.decimals, tokenInfo.symbol, tokenInfo.name)\r\n    this.tokenInfo = tokenInfo\r\n    this.tags = tags\r\n  }\r\n  public get logoURI(): string | undefined {\r\n    return this.tokenInfo.logoURI\r\n  }\r\n}\r\n\r\nexport type TokenAddressMap = Readonly<{ [chainId in ChainId]: Readonly<{ [tokenAddress: string]: WrappedTokenInfo }> }>\r\n\r\n/**\r\n * An empty result, useful as a default.\r\n */\r\nconst EMPTY_LIST: TokenAddressMap = {\r\n  [ChainId.KOVAN]: {},\r\n  [ChainId.RINKEBY]: {},\r\n  [ChainId.ROPSTEN]: {},\r\n  [ChainId.GÃ–RLI]: {},\r\n  [ChainId.MAINNET]: {},\r\n  [ChainId.BSCTEST]: {},\r\n}\r\n\r\nconst listCache: WeakMap<TokenList, TokenAddressMap> | null =\r\n  typeof WeakMap !== 'undefined' ? new WeakMap<TokenList, TokenAddressMap>() : null\r\n\r\nexport function listToTokenMap(list: TokenList): TokenAddressMap {\r\n  const result = listCache?.get(list)\r\n  if (result) return result\r\n\r\n  const map = list.tokens.reduce<TokenAddressMap>(\r\n    (tokenMap, tokenInfo) => {\r\n      const tags: TagInfo[] =\r\n        tokenInfo.tags\r\n          ?.map(tagId => {\r\n            if (!list.tags?.[tagId]) return undefined\r\n            return { ...list.tags[tagId], id: tagId }\r\n          })\r\n          ?.filter((x): x is TagInfo => Boolean(x)) ?? []\r\n      const token = new WrappedTokenInfo(tokenInfo, tags)\r\n      if (tokenMap[token.chainId][token.address] !== undefined) throw Error('Duplicate tokens.')\r\n      return {\r\n        ...tokenMap,\r\n        [token.chainId]: {\r\n          ...tokenMap[token.chainId],\r\n          [token.address]: token\r\n        }\r\n      }\r\n    },\r\n    { ...EMPTY_LIST }\r\n  )\r\n  listCache?.set(list, map)\r\n  return map\r\n}\r\n\r\nexport function useTokenList(url: string | undefined): TokenAddressMap {\r\n  const lists = useSelector<AppState, AppState['lists']['byUrl']>(state => state.lists.byUrl)\r\n  return useMemo(() => {\r\n    if (!url) return EMPTY_LIST\r\n    const current = lists[url]?.current\r\n    if (!current) return EMPTY_LIST\r\n    try {\r\n      return listToTokenMap(current)\r\n    } catch (error) {\r\n      console.error('Could not show token list due to error', error)\r\n      return EMPTY_LIST\r\n    }\r\n  }, [lists, url])\r\n}\r\n\r\nexport function useSelectedListUrl(): string | undefined {\r\n  return useSelector<AppState, AppState['lists']['selectedListUrl']>(state => state.lists.selectedListUrl)\r\n}\r\n\r\nexport function useSelectedTokenList(): TokenAddressMap {\r\n  return useTokenList(useSelectedListUrl())\r\n}\r\n\r\nexport function useSelectedListInfo(): { current: TokenList | null; pending: TokenList | null; loading: boolean } {\r\n  const selectedUrl = useSelectedListUrl()\r\n  const listsByUrl = useSelector<AppState, AppState['lists']['byUrl']>(state => state.lists.byUrl)\r\n  const list = selectedUrl ? listsByUrl[selectedUrl] : undefined\r\n  return {\r\n    current: list?.current ?? null,\r\n    pending: list?.pendingUpdate ?? null,\r\n    loading: list?.loadingRequestId !== null\r\n  }\r\n}\r\n\r\n// returns all downloaded current lists\r\nexport function useAllLists(): TokenList[] {\r\n  const lists = useSelector<AppState, AppState['lists']['byUrl']>(state => state.lists.byUrl)\r\n\r\n  return useMemo(\r\n    () =>\r\n      Object.keys(lists)\r\n        .map(url => lists[url].current)\r\n        .filter((l): l is TokenList => Boolean(l)),\r\n    [lists]\r\n  )\r\n}\r\n","import { createAction } from '@reduxjs/toolkit'\r\nimport { TokenList } from '@uniswap/token-lists'\r\n\r\nexport type PopupContent =\r\n  | {\r\n      txn: {\r\n        hash: string\r\n        success: boolean\r\n        summary?: string\r\n      }\r\n    }\r\n  | {\r\n      listUpdate: {\r\n        listUrl: string\r\n        oldList: TokenList\r\n        newList: TokenList\r\n        auto: boolean\r\n      }\r\n    }\r\n\r\nexport const updateBlockNumber = createAction<{ chainId: number; blockNumber: number }>('app/updateBlockNumber')\r\nexport const toggleWalletModal = createAction<void>('app/toggleWalletModal')\r\nexport const toggleSettingsMenu = createAction<void>('app/toggleSettingsMenu')\r\nexport const addPopup = createAction<{ key?: string; removeAfterMs?: number | null; content: PopupContent }>(\r\n  'app/addPopup'\r\n)\r\nexport const removePopup = createAction<{ key: string }>('app/removePopup')\r\n","import { useCallback, useMemo } from 'react'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { addPopup, PopupContent, removePopup, toggleWalletModal, toggleSettingsMenu } from './actions'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { AppState } from '../index'\r\n\r\nexport function useBlockNumber(): number | undefined {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  return useSelector((state: AppState) => state.application.blockNumber[chainId ?? -1])\r\n}\r\n\r\nexport function useWalletModalOpen(): boolean {\r\n  return useSelector((state: AppState) => state.application.walletModalOpen)\r\n}\r\n\r\nexport function useWalletModalToggle(): () => void {\r\n  const dispatch = useDispatch()\r\n  return useCallback(() => dispatch(toggleWalletModal()), [dispatch])\r\n}\r\n\r\nexport function useSettingsMenuOpen(): boolean {\r\n  return useSelector((state: AppState) => state.application.settingsMenuOpen)\r\n}\r\n\r\nexport function useToggleSettingsMenu(): () => void {\r\n  const dispatch = useDispatch()\r\n  return useCallback(() => dispatch(toggleSettingsMenu()), [dispatch])\r\n}\r\n\r\n// returns a function that allows adding a popup\r\nexport function useAddPopup(): (content: PopupContent, key?: string) => void {\r\n  const dispatch = useDispatch()\r\n\r\n  return useCallback(\r\n    (content: PopupContent, key?: string) => {\r\n      dispatch(addPopup({ content, key }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\n// returns a function that allows removing a popup via its key\r\nexport function useRemovePopup(): (key: string) => void {\r\n  const dispatch = useDispatch()\r\n  return useCallback(\r\n    (key: string) => {\r\n      dispatch(removePopup({ key }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\n// get the list of active popups\r\nexport function useActivePopups(): AppState['application']['popupList'] {\r\n  const list = useSelector((state: AppState) => state.application.popupList)\r\n  return useMemo(() => list.filter(item => item.show), [list])\r\n}\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport interface Call {\r\n  address: string\r\n  callData: string\r\n}\r\n\r\nconst ADDRESS_REGEX = /^0x[a-fA-F0-9]{40}$/\r\nconst LOWER_HEX_REGEX = /^0x[a-f0-9]*$/\r\nexport function toCallKey(call: Call): string {\r\n  if (!ADDRESS_REGEX.test(call.address)) {\r\n    throw new Error(`Invalid address: ${call.address}`)\r\n  }\r\n  if (!LOWER_HEX_REGEX.test(call.callData)) {\r\n    throw new Error(`Invalid hex: ${call.callData}`)\r\n  }\r\n  return `${call.address}-${call.callData}`\r\n}\r\n\r\nexport function parseCallKey(callKey: string): Call {\r\n  const pcs = callKey.split('-')\r\n  if (pcs.length !== 2) {\r\n    throw new Error(`Invalid call key: ${callKey}`)\r\n  }\r\n  return {\r\n    address: pcs[0],\r\n    callData: pcs[1]\r\n  }\r\n}\r\n\r\nexport interface ListenerOptions {\r\n  // how often this data should be fetched, by default 1\r\n  readonly blocksPerFetch?: number\r\n}\r\n\r\nexport const addMulticallListeners = createAction<{ chainId: number; calls: Call[]; options?: ListenerOptions }>(\r\n  'multicall/addMulticallListeners'\r\n)\r\nexport const removeMulticallListeners = createAction<{ chainId: number; calls: Call[]; options?: ListenerOptions }>(\r\n  'multicall/removeMulticallListeners'\r\n)\r\nexport const fetchingMulticallResults = createAction<{ chainId: number; calls: Call[]; fetchingBlockNumber: number }>(\r\n  'multicall/fetchingMulticallResults'\r\n)\r\nexport const errorFetchingMulticallResults = createAction<{\r\n  chainId: number\r\n  calls: Call[]\r\n  fetchingBlockNumber: number\r\n}>('multicall/errorFetchingMulticallResults')\r\nexport const updateMulticallResults = createAction<{\r\n  chainId: number\r\n  blockNumber: number\r\n  results: {\r\n    [callKey: string]: string | null\r\n  }\r\n}>('multicall/updateMulticallResults')\r\n","import { Interface, FunctionFragment } from '@ethersproject/abi'\r\nimport { BigNumber } from '@ethersproject/bignumber'\r\nimport { Contract } from '@ethersproject/contracts'\r\nimport { useEffect, useMemo } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useBlockNumber } from '../application/hooks'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport {\r\n  addMulticallListeners,\r\n  Call,\r\n  removeMulticallListeners,\r\n  parseCallKey,\r\n  toCallKey,\r\n  ListenerOptions\r\n} from './actions'\r\n\r\nexport interface Result extends ReadonlyArray<any> {\r\n  readonly [key: string]: any\r\n}\r\n\r\ntype MethodArg = string | number | BigNumber\r\ntype MethodArgs = Array<MethodArg | MethodArg[]>\r\n\r\ntype OptionalMethodInputs = Array<MethodArg | MethodArg[] | undefined> | undefined\r\n\r\nfunction isMethodArg(x: unknown): x is MethodArg {\r\n  return ['string', 'number'].indexOf(typeof x) !== -1\r\n}\r\n\r\nfunction isValidMethodArgs(x: unknown): x is MethodArgs | undefined {\r\n  return (\r\n    x === undefined ||\r\n    (Array.isArray(x) && x.every(xi => isMethodArg(xi) || (Array.isArray(xi) && xi.every(isMethodArg))))\r\n  )\r\n}\r\n\r\ninterface CallResult {\r\n  readonly valid: boolean\r\n  readonly data: string | undefined\r\n  readonly blockNumber: number | undefined\r\n}\r\n\r\nconst INVALID_RESULT: CallResult = { valid: false, blockNumber: undefined, data: undefined }\r\n\r\n// use this options object\r\nexport const NEVER_RELOAD: ListenerOptions = {\r\n  blocksPerFetch: Infinity\r\n}\r\n\r\n// the lowest level call for subscribing to contract data\r\nfunction useCallsData(calls: (Call | undefined)[], options?: ListenerOptions): CallResult[] {\r\n  const { chainId } = useActiveWeb3React()\r\n  const callResults = useSelector<AppState, AppState['multicall']['callResults']>(state => state.multicall.callResults)\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  const serializedCallKeys: string = useMemo(\r\n    () =>\r\n      JSON.stringify(\r\n        calls\r\n          ?.filter((c): c is Call => Boolean(c))\r\n          ?.map(toCallKey)\r\n          ?.sort() ?? []\r\n      ),\r\n    [calls]\r\n  )\r\n\r\n  // update listeners when there is an actual change that persists for at least 100ms\r\n  useEffect(() => {\r\n    const callKeys: string[] = JSON.parse(serializedCallKeys)\r\n    if (!chainId || callKeys.length === 0) return undefined\r\n    const calls = callKeys.map(key => parseCallKey(key))\r\n    dispatch(\r\n      addMulticallListeners({\r\n        chainId,\r\n        calls,\r\n        options\r\n      })\r\n    )\r\n\r\n    return () => {\r\n      dispatch(\r\n        removeMulticallListeners({\r\n          chainId,\r\n          calls,\r\n          options\r\n        })\r\n      )\r\n    }\r\n  }, [chainId, dispatch, options, serializedCallKeys])\r\n\r\n  return useMemo(\r\n    () =>\r\n      calls.map<CallResult>(call => {\r\n        if (!chainId || !call) return INVALID_RESULT\r\n\r\n        const result = callResults[chainId]?.[toCallKey(call)]\r\n        let data\r\n        if (result?.data && result?.data !== '0x') {\r\n          data = result.data\r\n        }\r\n\r\n        return { valid: true, data, blockNumber: result?.blockNumber }\r\n      }),\r\n    [callResults, calls, chainId]\r\n  )\r\n}\r\n\r\ninterface CallState {\r\n  readonly valid: boolean\r\n  // the result, or undefined if loading or errored/no data\r\n  readonly result: Result | undefined\r\n  // true if the result has never been fetched\r\n  readonly loading: boolean\r\n  // true if the result is not for the latest block\r\n  readonly syncing: boolean\r\n  // true if the call was made and is synced, but the return data is invalid\r\n  readonly error: boolean\r\n}\r\n\r\nconst INVALID_CALL_STATE: CallState = { valid: false, result: undefined, loading: false, syncing: false, error: false }\r\nconst LOADING_CALL_STATE: CallState = { valid: true, result: undefined, loading: true, syncing: true, error: false }\r\n\r\nfunction toCallState(\r\n  callResult: CallResult | undefined,\r\n  contractInterface: Interface | undefined,\r\n  fragment: FunctionFragment | undefined,\r\n  latestBlockNumber: number | undefined\r\n): CallState {\r\n  if (!callResult) return INVALID_CALL_STATE\r\n  const { valid, data, blockNumber } = callResult\r\n  if (!valid) return INVALID_CALL_STATE\r\n  if (valid && !blockNumber) return LOADING_CALL_STATE\r\n  if (!contractInterface || !fragment || !latestBlockNumber) return LOADING_CALL_STATE\r\n  const success = data && data.length > 2\r\n  const syncing = (blockNumber ?? 0) < latestBlockNumber\r\n  let result: Result | undefined = undefined\r\n  if (success && data) {\r\n    try {\r\n      result = contractInterface.decodeFunctionResult(fragment, data)\r\n    } catch (error) {\r\n      console.debug('Result data parsing failed', fragment, data)\r\n      return {\r\n        valid: true,\r\n        loading: false,\r\n        error: true,\r\n        syncing,\r\n        result\r\n      }\r\n    }\r\n  }\r\n  return {\r\n    valid: true,\r\n    loading: false,\r\n    syncing,\r\n    result: result,\r\n    error: !success\r\n  }\r\n}\r\n\r\nexport function useSingleContractMultipleData(\r\n  contract: Contract | null | undefined,\r\n  methodName: string,\r\n  callInputs: OptionalMethodInputs[],\r\n  options?: ListenerOptions\r\n): CallState[] {\r\n  const fragment = useMemo(() => contract?.interface?.getFunction(methodName), [contract, methodName])\r\n\r\n  const calls = useMemo(\r\n    () =>\r\n      contract && fragment && callInputs && callInputs.length > 0\r\n        ? callInputs.map<Call>(inputs => {\r\n            return {\r\n              address: contract.address,\r\n              callData: contract.interface.encodeFunctionData(fragment, inputs)\r\n            }\r\n          })\r\n        : [],\r\n    [callInputs, contract, fragment]\r\n  )\r\n\r\n  const results = useCallsData(calls, options)\r\n\r\n  const latestBlockNumber = useBlockNumber()\r\n\r\n  return useMemo(() => {\r\n    return results.map(result => toCallState(result, contract?.interface, fragment, latestBlockNumber))\r\n  }, [fragment, contract, results, latestBlockNumber])\r\n}\r\n\r\nexport function useMultipleContractSingleData(\r\n  addresses: (string | undefined)[],\r\n  contractInterface: Interface,\r\n  methodName: string,\r\n  callInputs?: OptionalMethodInputs,\r\n  options?: ListenerOptions\r\n): CallState[] {\r\n  const fragment = useMemo(() => contractInterface.getFunction(methodName), [contractInterface, methodName])\r\n  const callData: string | undefined = useMemo(\r\n    () =>\r\n      fragment && isValidMethodArgs(callInputs)\r\n        ? contractInterface.encodeFunctionData(fragment, callInputs)\r\n        : undefined,\r\n    [callInputs, contractInterface, fragment]\r\n  )\r\n\r\n  const calls = useMemo(\r\n    () =>\r\n      fragment && addresses && addresses.length > 0 && callData\r\n        ? addresses.map<Call | undefined>(address => {\r\n            return address && callData\r\n              ? {\r\n                  address,\r\n                  callData\r\n                }\r\n              : undefined\r\n          })\r\n        : [],\r\n    [addresses, callData, fragment]\r\n  )\r\n\r\n  const results = useCallsData(calls, options)\r\n\r\n  const latestBlockNumber = useBlockNumber()\r\n\r\n  return useMemo(() => {\r\n    return results.map(result => toCallState(result, contractInterface, fragment, latestBlockNumber))\r\n  }, [fragment, results, contractInterface, latestBlockNumber])\r\n}\r\n\r\nexport function useSingleCallResult(\r\n  contract: Contract | null | undefined,\r\n  methodName: string,\r\n  inputs?: OptionalMethodInputs,\r\n  options?: ListenerOptions\r\n): CallState {\r\n  const fragment = useMemo(() => contract?.interface?.getFunction(methodName), [contract, methodName])\r\n\r\n  const calls = useMemo<Call[]>(() => {\r\n    return contract && fragment && isValidMethodArgs(inputs)\r\n      ? [\r\n          {\r\n            address: contract.address,\r\n            callData: contract.interface.encodeFunctionData(fragment, inputs)\r\n          }\r\n        ]\r\n      : []\r\n  }, [contract, fragment, inputs])\r\n\r\n  const result = useCallsData(calls, options)[0]\r\n  const latestBlockNumber = useBlockNumber()\r\n\r\n  return useMemo(() => {\r\n    return toCallState(result, contract?.interface, fragment, latestBlockNumber)\r\n  }, [result, contract, fragment, latestBlockNumber])\r\n}\r\n","import { Contract } from '@ethersproject/contracts'\r\nimport { getAddress } from '@ethersproject/address'\r\nimport { AddressZero } from '@ethersproject/constants'\r\nimport { JsonRpcSigner, Web3Provider } from '@ethersproject/providers'\r\nimport { BigNumber } from '@ethersproject/bignumber'\r\nimport { abi as IUniswapV2Router02ABI } from '@uniswap/v2-periphery/build/IUniswapV2Router02.json'\r\nimport { ROUTER_ADDRESS } from '../constants'\r\nimport { ChainId, JSBI, Percent, Token, CurrencyAmount, Currency, ETHER } from '@tianheng2017/dex-sdk'\r\nimport { TokenAddressMap } from '../state/lists/hooks'\r\n\r\n// returns the checksummed address if the address is valid, otherwise returns false\r\nexport function isAddress(value: any): string | false {\r\n    try {\r\n        return getAddress(value)\r\n    } catch {\r\n        return false\r\n    }\r\n}\r\n\r\nconst ETHERSCAN_PREFIXES: { [chainId in ChainId]: string } = {\r\n    1: 'https://etherscan.io',\r\n    3: 'https://ropsten.etherscan.io',\r\n    4: 'https://rinkeby.etherscan.io',\r\n    5: 'https://goerli.etherscan.io',\r\n    42: 'https://kovan.etherscan.io',\r\n    97: 'https://testnet.bscscan.com'\r\n}\r\n\r\nexport function getEtherscanLink(chainId: ChainId, data: string, type: 'transaction' | 'token' | 'address'): string {\r\n    const prefix = `${ETHERSCAN_PREFIXES[chainId] || ETHERSCAN_PREFIXES[97]}`\r\n\r\n    switch (type) {\r\n        case 'transaction': {\r\n            return `${prefix}/tx/${data}`\r\n        }\r\n        case 'token': {\r\n            return `${prefix}/token/${data}`\r\n        }\r\n        case 'address':\r\n        default: {\r\n            return `${prefix}/address/${data}`\r\n        }\r\n    }\r\n}\r\n\r\n// shorten the checksummed version of the input address to have 0x + 4 characters at start and end\r\nexport function shortenAddress(address: string, chars = 4): string {\r\n    const parsed = isAddress(address)\r\n    if (!parsed) {\r\n        throw Error(`Invalid 'address' parameter '${address}'.`)\r\n    }\r\n    return `${parsed.substring(0, chars + 2)}...${parsed.substring(42 - chars)}`\r\n}\r\n\r\n// add 10%\r\nexport function calculateGasMargin(value: BigNumber): BigNumber {\r\n    return value.mul(BigNumber.from(10000).add(BigNumber.from(1000))).div(BigNumber.from(10000))\r\n}\r\n\r\n// converts a basis points value to a sdk percent\r\nexport function basisPointsToPercent(num: number): Percent {\r\n    return new Percent(JSBI.BigInt(num), JSBI.BigInt(10000))\r\n}\r\n\r\nexport function calculateSlippageAmount(value: CurrencyAmount, slippage: number): [JSBI, JSBI] {\r\n    if (slippage < 0 || slippage > 10000) {\r\n        throw Error(`Unexpected slippage value: ${slippage}`)\r\n    }\r\n    return [\r\n        JSBI.divide(JSBI.multiply(value.raw, JSBI.BigInt(10000 - slippage)), JSBI.BigInt(10000)),\r\n        JSBI.divide(JSBI.multiply(value.raw, JSBI.BigInt(10000 + slippage)), JSBI.BigInt(10000))\r\n    ]\r\n}\r\n\r\n// account is not optional\r\nexport function getSigner(library: Web3Provider, account: string): JsonRpcSigner {\r\n    return library.getSigner(account).connectUnchecked()\r\n}\r\n\r\n// account is optional\r\nexport function getProviderOrSigner(library: Web3Provider, account?: string): Web3Provider | JsonRpcSigner {\r\n    return account ? getSigner(library, account) : library\r\n}\r\n\r\n// account is optional\r\nexport function getContract(address: string, ABI: any, library: Web3Provider, account?: string): Contract {\r\n    if (!isAddress(address) || address === AddressZero) {\r\n        throw Error(`Invalid 'address' parameter '${address}'.`)\r\n    }\r\n\r\n    return new Contract(address, ABI, getProviderOrSigner(library, account) as any)\r\n}\r\n\r\n// account is optional\r\nexport function getRouterContract(_: number, library: Web3Provider, account?: string): Contract {\r\n    return getContract(ROUTER_ADDRESS, IUniswapV2Router02ABI, library, account)\r\n}\r\n\r\nexport function escapeRegExp(string: string): string {\r\n    return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') // $& means the whole matched string\r\n}\r\n\r\nexport function isTokenOnList(defaultTokens: TokenAddressMap, currency?: Currency): boolean {\r\n    if (currency === ETHER) return true\r\n    return Boolean(currency instanceof Token && defaultTokens[currency.chainId]?.[currency.address])\r\n}\r\n","import { Interface } from '@ethersproject/abi'\r\nimport ERC20_ABI from './erc20.json'\r\nimport ERC20_BYTES32_ABI from './erc20_bytes32.json'\r\n\r\nconst ERC20_INTERFACE = new Interface(ERC20_ABI)\r\n\r\nconst ERC20_BYTES32_INTERFACE = new Interface(ERC20_BYTES32_ABI)\r\n\r\nexport default ERC20_INTERFACE\r\nexport { ERC20_ABI, ERC20_BYTES32_INTERFACE, ERC20_BYTES32_ABI }\r\n","import { ChainId } from '@tianheng2017/dex-sdk'\r\nimport MULTICALL_ABI from './abi.json'\r\n\r\nconst MULTICALL_NETWORKS: { [chainId in ChainId]: string } = {\r\n    [ChainId.MAINNET]: '0xeefBa1e63905eF1D7ACbA5a8513c70307C1cE441',\r\n    [ChainId.ROPSTEN]: '0x53C43764255c17BD724F74c4eF150724AC50a3ed',\r\n    [ChainId.KOVAN]: '0x2cc8688C5f75E365aaEEb4ea8D6a480405A48D2A',\r\n    [ChainId.RINKEBY]: '0x42Ad527de7d4e9d9d011aC45B31D8551f8Fe9821',\r\n    [ChainId.GÃ–RLI]: '0x77dCa2C955b15e9dE4dbBCf1246B4B85b651e50e',\r\n    [ChainId.BSCTEST]: '0x3079bc3911357086D1Cc9c612bdBF8cFC91009E4',\r\n}\r\n\r\nexport { MULTICALL_ABI, MULTICALL_NETWORKS }\r\n","import { Interface } from '@ethersproject/abi'\r\nimport { ChainId } from '@tianheng2017/dex-sdk'\r\nimport V1_EXCHANGE_ABI from './v1_exchange.json'\r\nimport V1_FACTORY_ABI from './v1_factory.json'\r\n\r\nconst V1_FACTORY_ADDRESSES: { [chainId in ChainId]: string } = {\r\n  [ChainId.MAINNET]: '0xc0a47dFe034B400B47bDaD5FecDa2621de6c4d95',\r\n  [ChainId.ROPSTEN]: '0x9c83dCE8CA20E9aAF9D3efc003b2ea62aBC08351',\r\n  [ChainId.RINKEBY]: '0xf5D915570BC477f9B8D6C0E980aA81757A3AaC36',\r\n  [ChainId.GÃ–RLI]: '0x6Ce570d02D73d4c384b46135E87f8C592A8c86dA',\r\n  [ChainId.KOVAN]: '0xD3E51Ef092B2845f10401a0159B2B96e8B6c3D30',\r\n  [ChainId.BSCTEST]: '',\r\n}\r\n\r\nconst V1_FACTORY_INTERFACE = new Interface(V1_FACTORY_ABI)\r\nconst V1_EXCHANGE_INTERFACE = new Interface(V1_EXCHANGE_ABI)\r\n\r\nexport { V1_FACTORY_ADDRESSES, V1_FACTORY_INTERFACE, V1_FACTORY_ABI, V1_EXCHANGE_INTERFACE, V1_EXCHANGE_ABI }\r\n","import { Contract } from '@ethersproject/contracts'\r\nimport { ChainId, WETH } from '@tianheng2017/dex-sdk'\r\nimport { abi as IUniswapV2PairABI } from '@uniswap/v2-core/build/IUniswapV2Pair.json'\r\nimport { useMemo } from 'react'\r\nimport ENS_ABI from '../constants/abis/ens-registrar.json'\r\nimport ENS_PUBLIC_RESOLVER_ABI from '../constants/abis/ens-public-resolver.json'\r\nimport { ERC20_BYTES32_ABI } from '../constants/abis/erc20'\r\nimport ERC20_ABI from '../constants/abis/erc20.json'\r\nimport { MIGRATOR_ABI, MIGRATOR_ADDRESS } from '../constants/abis/migrator'\r\nimport UNISOCKS_ABI from '../constants/abis/unisocks.json'\r\nimport WETH_ABI from '../constants/abis/weth.json'\r\nimport { MULTICALL_ABI, MULTICALL_NETWORKS } from '../constants/multicall'\r\nimport { V1_EXCHANGE_ABI, V1_FACTORY_ABI, V1_FACTORY_ADDRESSES } from '../constants/v1'\r\nimport { getContract } from '../utils'\r\nimport { useActiveWeb3React } from './index'\r\n\r\n// returns null on errors\r\nfunction useContract(address: string | undefined, ABI: any, withSignerIfPossible = true): Contract | null {\r\n  const { library, account } = useActiveWeb3React()\r\n\r\n  return useMemo(() => {\r\n    if (!address || !ABI || !library) return null\r\n    try {\r\n      return getContract(address, ABI, library, withSignerIfPossible && account ? account : undefined)\r\n    } catch (error) {\r\n      console.error('Failed to get contract', error)\r\n      return null\r\n    }\r\n  }, [address, ABI, library, withSignerIfPossible, account])\r\n}\r\n\r\nexport function useV1FactoryContract(): Contract | null {\r\n  const { chainId } = useActiveWeb3React()\r\n  return useContract(chainId && V1_FACTORY_ADDRESSES[chainId], V1_FACTORY_ABI, false)\r\n}\r\n\r\nexport function useV2MigratorContract(): Contract | null {\r\n  return useContract(MIGRATOR_ADDRESS, MIGRATOR_ABI, true)\r\n}\r\n\r\nexport function useV1ExchangeContract(address?: string, withSignerIfPossible?: boolean): Contract | null {\r\n  return useContract(address, V1_EXCHANGE_ABI, withSignerIfPossible)\r\n}\r\n\r\nexport function useTokenContract(tokenAddress?: string, withSignerIfPossible?: boolean): Contract | null {\r\n  return useContract(tokenAddress, ERC20_ABI, withSignerIfPossible)\r\n}\r\n\r\nexport function useWETHContract(withSignerIfPossible?: boolean): Contract | null {\r\n  const { chainId } = useActiveWeb3React()\r\n  return useContract(chainId ? WETH[chainId].address : undefined, WETH_ABI, withSignerIfPossible)\r\n}\r\n\r\nexport function useENSRegistrarContract(withSignerIfPossible?: boolean): Contract | null {\r\n  const { chainId } = useActiveWeb3React()\r\n  let address: string | undefined\r\n  if (chainId) {\r\n    switch (chainId) {\r\n      case ChainId.MAINNET:\r\n      case ChainId.GÃ–RLI:\r\n      case ChainId.ROPSTEN:\r\n      case ChainId.RINKEBY:\r\n        address = '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'\r\n        break\r\n    }\r\n  }\r\n  return useContract(address, ENS_ABI, withSignerIfPossible)\r\n}\r\n\r\nexport function useENSResolverContract(address: string | undefined, withSignerIfPossible?: boolean): Contract | null {\r\n  return useContract(address, ENS_PUBLIC_RESOLVER_ABI, withSignerIfPossible)\r\n}\r\n\r\nexport function useBytes32TokenContract(tokenAddress?: string, withSignerIfPossible?: boolean): Contract | null {\r\n  return useContract(tokenAddress, ERC20_BYTES32_ABI, withSignerIfPossible)\r\n}\r\n\r\nexport function usePairContract(pairAddress?: string, withSignerIfPossible?: boolean): Contract | null {\r\n  return useContract(pairAddress, IUniswapV2PairABI, withSignerIfPossible)\r\n}\r\n\r\nexport function useMulticallContract(): Contract | null {\r\n  const { chainId } = useActiveWeb3React()\r\n  return useContract(chainId && MULTICALL_NETWORKS[chainId], MULTICALL_ABI, false)\r\n}\r\n\r\nexport function useSocksController(): Contract | null {\r\n  const { chainId } = useActiveWeb3React()\r\n  return useContract(\r\n    chainId === ChainId.MAINNET ? '0x65770b5283117639760beA3F867b69b3697a91dd' : undefined,\r\n    UNISOCKS_ABI,\r\n    false\r\n  )\r\n}\r\n","import { parseBytes32String } from '@ethersproject/strings'\r\nimport { Currency, ETHER, Token, currencyEquals } from '@tianheng2017/dex-sdk'\r\nimport { useMemo } from 'react'\r\nimport { useSelectedTokenList } from '../state/lists/hooks'\r\nimport { NEVER_RELOAD, useSingleCallResult } from '../state/multicall/hooks'\r\nimport { useUserAddedTokens } from '../state/user/hooks'\r\nimport { isAddress } from '../utils'\r\n\r\nimport { useActiveWeb3React } from './index'\r\nimport { useBytes32TokenContract, useTokenContract } from './useContract'\r\n\r\nexport function useAllTokens(): { [address: string]: Token } {\r\n  const { chainId } = useActiveWeb3React()\r\n  const userAddedTokens = useUserAddedTokens()\r\n  const allTokens = useSelectedTokenList()\r\n\r\n  return useMemo(() => {\r\n    if (!chainId) return {}\r\n    return (\r\n      userAddedTokens\r\n        // reduce into all ALL_TOKENS filtered by the current chain\r\n        .reduce<{ [address: string]: Token }>(\r\n          (tokenMap, token) => {\r\n            tokenMap[token.address] = token\r\n            return tokenMap\r\n          },\r\n          // must make a copy because reduce modifies the map, and we do not\r\n          // want to make a copy in every iteration\r\n          { ...allTokens[chainId] }\r\n        )\r\n    )\r\n  }, [chainId, userAddedTokens, allTokens])\r\n}\r\n\r\n// Check if currency is included in custom list from user storage\r\nexport function useIsUserAddedToken(currency: Currency): boolean {\r\n  const userAddedTokens = useUserAddedTokens()\r\n  return !!userAddedTokens.find(token => currencyEquals(currency, token))\r\n}\r\n\r\n// parse a name or symbol from a token response\r\nconst BYTES32_REGEX = /^0x[a-fA-F0-9]{64}$/\r\nfunction parseStringOrBytes32(str: string | undefined, bytes32: string | undefined, defaultValue: string): string {\r\n  return str && str.length > 0\r\n    ? str\r\n    : bytes32 && BYTES32_REGEX.test(bytes32)\r\n    ? parseBytes32String(bytes32)\r\n    : defaultValue\r\n}\r\n\r\n// undefined if invalid or does not exist\r\n// null if loading\r\n// otherwise returns the token\r\nexport function useToken(tokenAddress?: string): Token | undefined | null {\r\n  const { chainId } = useActiveWeb3React()\r\n  const tokens = useAllTokens()\r\n\r\n  const address = isAddress(tokenAddress)\r\n\r\n  const tokenContract = useTokenContract(address ? address : undefined, false)\r\n  const tokenContractBytes32 = useBytes32TokenContract(address ? address : undefined, false)\r\n  const token: Token | undefined = address ? tokens[address] : undefined\r\n\r\n  const tokenName = useSingleCallResult(token ? undefined : tokenContract, 'name', undefined, NEVER_RELOAD)\r\n  const tokenNameBytes32 = useSingleCallResult(\r\n    token ? undefined : tokenContractBytes32,\r\n    'name',\r\n    undefined,\r\n    NEVER_RELOAD\r\n  )\r\n  const symbol = useSingleCallResult(token ? undefined : tokenContract, 'symbol', undefined, NEVER_RELOAD)\r\n  const symbolBytes32 = useSingleCallResult(token ? undefined : tokenContractBytes32, 'symbol', undefined, NEVER_RELOAD)\r\n  const decimals = useSingleCallResult(token ? undefined : tokenContract, 'decimals', undefined, NEVER_RELOAD)\r\n\r\n  return useMemo(() => {\r\n    if (token) return token\r\n    if (!chainId || !address) return undefined\r\n    if (decimals.loading || symbol.loading || tokenName.loading) return null\r\n    if (decimals.result) {\r\n      return new Token(\r\n        chainId,\r\n        address,\r\n        decimals.result[0],\r\n        parseStringOrBytes32(symbol.result?.[0], symbolBytes32.result?.[0], 'UNKNOWN'),\r\n        parseStringOrBytes32(tokenName.result?.[0], tokenNameBytes32.result?.[0], 'Unknown Token')\r\n      )\r\n    }\r\n    return undefined\r\n  }, [\r\n    address,\r\n    chainId,\r\n    decimals.loading,\r\n    decimals.result,\r\n    symbol.loading,\r\n    symbol.result,\r\n    symbolBytes32.result,\r\n    token,\r\n    tokenName.loading,\r\n    tokenName.result,\r\n    tokenNameBytes32.result\r\n  ])\r\n}\r\n\r\nexport function useCurrency(currencyId: string | undefined): Currency | null | undefined {\r\n  const isETH = currencyId?.toUpperCase() === 'ETH'\r\n  const token = useToken(isETH ? undefined : currencyId)\r\n  return isETH ? ETHER : token\r\n}\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport interface SerializedToken {\r\n  chainId: number\r\n  address: string\r\n  decimals: number\r\n  symbol?: string\r\n  name?: string\r\n}\r\n\r\nexport interface SerializedPair {\r\n  token0: SerializedToken\r\n  token1: SerializedToken\r\n}\r\n\r\nexport const updateMatchesDarkMode = createAction<{ matchesDarkMode: boolean }>('user/updateMatchesDarkMode')\r\nexport const updateUserDarkMode = createAction<{ userDarkMode: boolean }>('user/updateUserDarkMode')\r\nexport const updateUserExpertMode = createAction<{ userExpertMode: boolean }>('user/updateUserExpertMode')\r\nexport const updateUserSlippageTolerance = createAction<{ userSlippageTolerance: number }>(\r\n  'user/updateUserSlippageTolerance'\r\n)\r\nexport const updateUserDeadline = createAction<{ userDeadline: number }>('user/updateUserDeadline')\r\nexport const addSerializedToken = createAction<{ serializedToken: SerializedToken }>('user/addSerializedToken')\r\nexport const removeSerializedToken = createAction<{ chainId: number; address: string }>('user/removeSerializedToken')\r\nexport const addSerializedPair = createAction<{ serializedPair: SerializedPair }>('user/addSerializedPair')\r\nexport const removeSerializedPair = createAction<{ chainId: number; tokenAAddress: string; tokenBAddress: string }>(\r\n  'user/removeSerializedPair'\r\n)\r\n","import { ChainId, Pair, Token } from '@tianheng2017/dex-sdk'\r\nimport flatMap from 'lodash.flatmap'\r\nimport { useCallback, useMemo } from 'react'\r\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux'\r\nimport { BASES_TO_TRACK_LIQUIDITY_FOR, PINNED_PAIRS } from '../../constants'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useAllTokens } from '../../hooks/Tokens'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport {\r\n  addSerializedPair,\r\n  addSerializedToken,\r\n  removeSerializedToken,\r\n  SerializedPair,\r\n  SerializedToken,\r\n  updateUserDarkMode,\r\n  updateUserDeadline,\r\n  updateUserExpertMode,\r\n  updateUserSlippageTolerance\r\n} from './actions'\r\n\r\nfunction serializeToken(token: Token): SerializedToken {\r\n  return {\r\n    chainId: token.chainId,\r\n    address: token.address,\r\n    decimals: token.decimals,\r\n    symbol: token.symbol,\r\n    name: token.name\r\n  }\r\n}\r\n\r\nfunction deserializeToken(serializedToken: SerializedToken): Token {\r\n  return new Token(\r\n    serializedToken.chainId,\r\n    serializedToken.address,\r\n    serializedToken.decimals,\r\n    serializedToken.symbol,\r\n    serializedToken.name\r\n  )\r\n}\r\n\r\nexport function useIsDarkMode(): boolean {\r\n  const { userDarkMode, matchesDarkMode } = useSelector<\r\n    AppState,\r\n    { userDarkMode: boolean | null; matchesDarkMode: boolean }\r\n  >(\r\n    ({ user: { matchesDarkMode, userDarkMode } }) => ({\r\n      userDarkMode,\r\n      matchesDarkMode\r\n    }),\r\n    shallowEqual\r\n  )\r\n\r\n  return userDarkMode === null ? matchesDarkMode : userDarkMode\r\n}\r\n\r\nexport function useDarkModeManager(): [boolean, () => void] {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const darkMode = useIsDarkMode()\r\n\r\n  const toggleSetDarkMode = useCallback(() => {\r\n    dispatch(updateUserDarkMode({ userDarkMode: !darkMode }))\r\n  }, [darkMode, dispatch])\r\n\r\n  return [darkMode, toggleSetDarkMode]\r\n}\r\n\r\nexport function useIsExpertMode(): boolean {\r\n  return useSelector<AppState, AppState['user']['userExpertMode']>(state => state.user.userExpertMode)\r\n}\r\n\r\nexport function useExpertModeManager(): [boolean, () => void] {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const expertMode = useIsExpertMode()\r\n\r\n  const toggleSetExpertMode = useCallback(() => {\r\n    dispatch(updateUserExpertMode({ userExpertMode: !expertMode }))\r\n  }, [expertMode, dispatch])\r\n\r\n  return [expertMode, toggleSetExpertMode]\r\n}\r\n\r\nexport function useUserSlippageTolerance(): [number, (slippage: number) => void] {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const userSlippageTolerance = useSelector<AppState, AppState['user']['userSlippageTolerance']>(state => {\r\n    return state.user.userSlippageTolerance\r\n  })\r\n\r\n  const setUserSlippageTolerance = useCallback(\r\n    (userSlippageTolerance: number) => {\r\n      dispatch(updateUserSlippageTolerance({ userSlippageTolerance }))\r\n    },\r\n    [dispatch]\r\n  )\r\n\r\n  return [userSlippageTolerance, setUserSlippageTolerance]\r\n}\r\n\r\nexport function useUserDeadline(): [number, (slippage: number) => void] {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const userDeadline = useSelector<AppState, AppState['user']['userDeadline']>(state => {\r\n    return state.user.userDeadline\r\n  })\r\n\r\n  const setUserDeadline = useCallback(\r\n    (userDeadline: number) => {\r\n      dispatch(updateUserDeadline({ userDeadline }))\r\n    },\r\n    [dispatch]\r\n  )\r\n\r\n  return [userDeadline, setUserDeadline]\r\n}\r\n\r\nexport function useAddUserToken(): (token: Token) => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  return useCallback(\r\n    (token: Token) => {\r\n      dispatch(addSerializedToken({ serializedToken: serializeToken(token) }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\nexport function useRemoveUserAddedToken(): (chainId: number, address: string) => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  return useCallback(\r\n    (chainId: number, address: string) => {\r\n      dispatch(removeSerializedToken({ chainId, address }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\nexport function useUserAddedTokens(): Token[] {\r\n  const { chainId } = useActiveWeb3React()\r\n  const serializedTokensMap = useSelector<AppState, AppState['user']['tokens']>(({ user: { tokens } }) => tokens)\r\n\r\n  return useMemo(() => {\r\n    if (!chainId) return []\r\n    return Object.values(serializedTokensMap[chainId as ChainId] ?? {}).map(deserializeToken)\r\n  }, [serializedTokensMap, chainId])\r\n}\r\n\r\nfunction serializePair(pair: Pair): SerializedPair {\r\n  return {\r\n    token0: serializeToken(pair.token0),\r\n    token1: serializeToken(pair.token1)\r\n  }\r\n}\r\n\r\nexport function usePairAdder(): (pair: Pair) => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  return useCallback(\r\n    (pair: Pair) => {\r\n      dispatch(addSerializedPair({ serializedPair: serializePair(pair) }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\n/**\r\n * Given two tokens return the liquidity token that represents its liquidity shares\r\n * @param tokenA one of the two tokens\r\n * @param tokenB the other token\r\n */\r\nexport function toV2LiquidityToken([tokenA, tokenB]: [Token, Token]): Token {\r\n  return new Token(tokenA.chainId, Pair.getAddress(tokenA, tokenB), 18, 'UNI-V2', 'Uniswap V2')\r\n}\r\n\r\n/**\r\n * Returns all the pairs of tokens that are tracked by the user for the current chain ID.\r\n */\r\nexport function useTrackedTokenPairs(): [Token, Token][] {\r\n  const { chainId } = useActiveWeb3React()\r\n  const tokens = useAllTokens()\r\n\r\n  // pinned pairs\r\n  const pinnedPairs = useMemo(() => (chainId ? PINNED_PAIRS[chainId] ?? [] : []), [chainId])\r\n\r\n  // pairs for every token against every base\r\n  const generatedPairs: [Token, Token][] = useMemo(\r\n    () =>\r\n      chainId\r\n        ? flatMap(Object.keys(tokens), tokenAddress => {\r\n            const token = tokens[tokenAddress]\r\n            // for each token on the current chain,\r\n            return (\r\n              // loop though all bases on the current chain\r\n              (BASES_TO_TRACK_LIQUIDITY_FOR[chainId] ?? [])\r\n                // to construct pairs of the given token with each base\r\n                .map(base => {\r\n                  if (base.address === token.address) {\r\n                    return null\r\n                  } else {\r\n                    return [base, token]\r\n                  }\r\n                })\r\n                .filter((p): p is [Token, Token] => p !== null)\r\n            )\r\n          })\r\n        : [],\r\n    [tokens, chainId]\r\n  )\r\n\r\n  // pairs saved by users\r\n  const savedSerializedPairs = useSelector<AppState, AppState['user']['pairs']>(({ user: { pairs } }) => pairs)\r\n\r\n  const userPairs: [Token, Token][] = useMemo(() => {\r\n    if (!chainId || !savedSerializedPairs) return []\r\n    const forChain = savedSerializedPairs[chainId]\r\n    if (!forChain) return []\r\n\r\n    return Object.keys(forChain).map(pairId => {\r\n      return [deserializeToken(forChain[pairId].token0), deserializeToken(forChain[pairId].token1)]\r\n    })\r\n  }, [savedSerializedPairs, chainId])\r\n\r\n  const combinedList = useMemo(() => userPairs.concat(generatedPairs).concat(pinnedPairs), [\r\n    generatedPairs,\r\n    pinnedPairs,\r\n    userPairs\r\n  ])\r\n\r\n  return useMemo(() => {\r\n    // dedupes pairs of tokens in the combined list\r\n    const keyed = combinedList.reduce<{ [key: string]: [Token, Token] }>((memo, [tokenA, tokenB]) => {\r\n      const sorted = tokenA.sortsBefore(tokenB)\r\n      const key = sorted ? `${tokenA.address}:${tokenB.address}` : `${tokenB.address}:${tokenA.address}`\r\n      if (memo[key]) return memo\r\n      memo[key] = sorted ? [tokenA, tokenB] : [tokenB, tokenA]\r\n      return memo\r\n    }, {})\r\n\r\n    return Object.keys(keyed).map(key => keyed[key])\r\n  }, [combinedList])\r\n}\r\n","import { Currency, CurrencyAmount, ETHER, JSBI, Token, TokenAmount } from '@tianheng2017/dex-sdk'\r\nimport { useMemo } from 'react'\r\nimport ERC20_INTERFACE from '../../constants/abis/erc20'\r\nimport { useAllTokens } from '../../hooks/Tokens'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useMulticallContract } from '../../hooks/useContract'\r\nimport { isAddress } from '../../utils'\r\nimport { useSingleContractMultipleData, useMultipleContractSingleData } from '../multicall/hooks'\r\n\r\n/**\r\n * Returns a map of the given addresses to their eventually consistent ETH balances.\r\n */\r\nexport function useETHBalances(\r\n  uncheckedAddresses?: (string | undefined)[]\r\n): { [address: string]: CurrencyAmount | undefined } {\r\n  const multicallContract = useMulticallContract()\r\n\r\n  const addresses: string[] = useMemo(\r\n    () =>\r\n      uncheckedAddresses\r\n        ? uncheckedAddresses\r\n            .map(isAddress)\r\n            .filter((a): a is string => a !== false)\r\n            .sort()\r\n        : [],\r\n    [uncheckedAddresses]\r\n  )\r\n\r\n  const results = useSingleContractMultipleData(\r\n    multicallContract,\r\n    'getEthBalance',\r\n    addresses.map(address => [address])\r\n  )\r\n\r\n  return useMemo(\r\n    () =>\r\n      addresses.reduce<{ [address: string]: CurrencyAmount }>((memo, address, i) => {\r\n        const value = results?.[i]?.result?.[0]\r\n        if (value) memo[address] = CurrencyAmount.ether(JSBI.BigInt(value.toString()))\r\n        return memo\r\n      }, {}),\r\n    [addresses, results]\r\n  )\r\n}\r\n\r\n/**\r\n * Returns a map of token addresses to their eventually consistent token balances for a single account.\r\n */\r\nexport function useTokenBalancesWithLoadingIndicator(\r\n  address?: string,\r\n  tokens?: (Token | undefined)[]\r\n): [{ [tokenAddress: string]: TokenAmount | undefined }, boolean] {\r\n  const validatedTokens: Token[] = useMemo(\r\n    () => tokens?.filter((t?: Token): t is Token => isAddress(t?.address) !== false) ?? [],\r\n    [tokens]\r\n  )\r\n\r\n  const validatedTokenAddresses = useMemo(() => validatedTokens.map(vt => vt.address), [validatedTokens])\r\n\r\n  const balances = useMultipleContractSingleData(validatedTokenAddresses, ERC20_INTERFACE, 'balanceOf', [address])\r\n\r\n  const anyLoading: boolean = useMemo(() => balances.some(callState => callState.loading), [balances])\r\n\r\n  return [\r\n    useMemo(\r\n      () =>\r\n        address && validatedTokens.length > 0\r\n          ? validatedTokens.reduce<{ [tokenAddress: string]: TokenAmount | undefined }>((memo, token, i) => {\r\n              const value = balances?.[i]?.result?.[0]\r\n              const amount = value ? JSBI.BigInt(value.toString()) : undefined\r\n              if (amount) {\r\n                memo[token.address] = new TokenAmount(token, amount)\r\n              }\r\n              return memo\r\n            }, {})\r\n          : {},\r\n      [address, validatedTokens, balances]\r\n    ),\r\n    anyLoading\r\n  ]\r\n}\r\n\r\nexport function useTokenBalances(\r\n  address?: string,\r\n  tokens?: (Token | undefined)[]\r\n): { [tokenAddress: string]: TokenAmount | undefined } {\r\n  return useTokenBalancesWithLoadingIndicator(address, tokens)[0]\r\n}\r\n\r\n// get the balance for a single token/account combo\r\nexport function useTokenBalance(account?: string, token?: Token): TokenAmount | undefined {\r\n  const tokenBalances = useTokenBalances(account, [token])\r\n  if (!token) return undefined\r\n  return tokenBalances[token.address]\r\n}\r\n\r\nexport function useCurrencyBalances(\r\n  account?: string,\r\n  currencies?: (Currency | undefined)[]\r\n): (CurrencyAmount | undefined)[] {\r\n  const tokens = useMemo(() => currencies?.filter((currency): currency is Token => currency instanceof Token) ?? [], [\r\n    currencies\r\n  ])\r\n\r\n  const tokenBalances = useTokenBalances(account, tokens)\r\n  const containsETH: boolean = useMemo(() => currencies?.some(currency => currency === ETHER) ?? false, [currencies])\r\n  const ethBalance = useETHBalances(containsETH ? [account] : [])\r\n\r\n  return useMemo(\r\n    () =>\r\n      currencies?.map(currency => {\r\n        if (!account || !currency) return undefined\r\n        if (currency instanceof Token) return tokenBalances[currency.address]\r\n        if (currency === ETHER) return ethBalance[account]\r\n        return undefined\r\n      }) ?? [],\r\n    [account, currencies, ethBalance, tokenBalances]\r\n  )\r\n}\r\n\r\nexport function useCurrencyBalance(account?: string, currency?: Currency): CurrencyAmount | undefined {\r\n  return useCurrencyBalances(account, [currency])[0]\r\n}\r\n\r\n// mimics useAllBalances\r\nexport function useAllTokenBalances(): { [tokenAddress: string]: TokenAmount | undefined } {\r\n  const { account } = useActiveWeb3React()\r\n  const allTokens = useAllTokens()\r\n  const allTokensArray = useMemo(() => Object.values(allTokens ?? {}), [allTokens])\r\n  const balances = useTokenBalances(account ?? undefined, allTokensArray)\r\n  return balances ?? {}\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { CardProps, Text } from 'rebass'\r\nimport { Box } from 'rebass/styled-components'\r\n\r\nconst Card = styled(Box)<{ padding?: string; border?: string; borderRadius?: string }>`\r\n  width: 100%;\r\n  border-radius: 16px;\r\n  padding: 1.25rem;\r\n  padding: ${({ padding }) => padding};\r\n  border: ${({ border }) => border};\r\n  border-radius: ${({ borderRadius }) => borderRadius};\r\n`\r\nexport default Card\r\n\r\nexport const LightCard = styled(Card)`\r\n  border: 1px solid ${({ theme }) => theme.bg2};\r\n  background-color: ${({ theme }) => theme.bg1};\r\n`\r\n\r\nexport const GreyCard = styled(Card)`\r\n  background-color: ${({ theme }) => theme.bg3};\r\n`\r\n\r\nexport const OutlineCard = styled(Card)`\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n`\r\n\r\nexport const YellowCard = styled(Card)`\r\n  background-color: rgba(243, 132, 30, 0.05);\r\n  color: ${({ theme }) => theme.yellow2};\r\n  font-weight: 500;\r\n`\r\n\r\nexport const PinkCard = styled(Card)`\r\n  background-color: rgba(255, 0, 122, 0.03);\r\n  color: ${({ theme }) => theme.primary1};\r\n  font-weight: 500;\r\n`\r\n\r\nconst BlueCardStyled = styled(Card)`\r\n  background-color: ${({ theme }) => theme.primary5};\r\n  color: ${({ theme }) => theme.primary1};\r\n  border-radius: 12px;\r\n  width: fit-content;\r\n`\r\n\r\nexport const BlueCard = ({ children, ...rest }: CardProps) => {\r\n  return (\r\n    <BlueCardStyled {...rest}>\r\n      <Text fontWeight={500} color=\"#2172E5\">\r\n        {children}\r\n      </Text>\r\n    </BlueCardStyled>\r\n  )\r\n}\r\n","import { RefObject, useEffect, useRef } from 'react'\r\n\r\nexport function useOnClickOutside<T extends HTMLElement>(\r\n  node: RefObject<T | undefined>,\r\n  handler: undefined | (() => void)\r\n) {\r\n  const handlerRef = useRef<undefined | (() => void)>(handler)\r\n  useEffect(() => {\r\n    handlerRef.current = handler\r\n  }, [handler])\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e: MouseEvent) => {\r\n      if (node.current?.contains(e.target as Node) ?? false) {\r\n        return\r\n      }\r\n      if (handlerRef.current) handlerRef.current()\r\n    }\r\n\r\n    document.addEventListener('mousedown', handleClickOutside)\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside)\r\n    }\r\n  }, [node])\r\n}\r\n","import { useEffect, useRef } from 'react'\r\n\r\nexport default function useInterval(callback: () => void, delay: null | number, leading = true) {\r\n  const savedCallback = useRef<() => void>()\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback\r\n  }, [callback])\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      const current = savedCallback.current\r\n      current && current()\r\n    }\r\n\r\n    if (delay !== null) {\r\n      if (leading) tick()\r\n      const id = setInterval(tick, delay)\r\n      return () => clearInterval(id)\r\n    }\r\n    return undefined\r\n  }, [delay, leading])\r\n}\r\n","import { Placement } from '@popperjs/core'\r\nimport { transparentize } from 'polished'\r\nimport React, { useCallback, useState } from 'react'\r\nimport { usePopper } from 'react-popper'\r\nimport styled from 'styled-components'\r\nimport useInterval from '../../hooks/useInterval'\r\nimport Portal from '@reach/portal'\r\n\r\nconst PopoverContainer = styled.div<{ show: boolean }>`\r\n  z-index: 9999;\r\n\r\n  visibility: ${props => (props.show ? 'visible' : 'hidden')};\r\n  opacity: ${props => (props.show ? 1 : 0)};\r\n  transition: visibility 150ms linear, opacity 150ms linear;\r\n\r\n  background: ${({ theme }) => theme.bg2};\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.9, theme.shadow1)};\r\n  color: ${({ theme }) => theme.text2};\r\n  border-radius: 8px;\r\n`\r\n\r\nconst ReferenceElement = styled.div`\r\n  display: inline-block;\r\n`\r\n\r\nconst Arrow = styled.div`\r\n  width: 8px;\r\n  height: 8px;\r\n  z-index: 9998;\r\n\r\n  ::before {\r\n    position: absolute;\r\n    width: 8px;\r\n    height: 8px;\r\n    z-index: 9998;\r\n\r\n    content: '';\r\n    border: 1px solid ${({ theme }) => theme.bg3};\r\n    transform: rotate(45deg);\r\n    background: ${({ theme }) => theme.bg2};\r\n  }\r\n\r\n  &.arrow-top {\r\n    bottom: -5px;\r\n    ::before {\r\n      border-top: none;\r\n      border-left: none;\r\n    }\r\n  }\r\n\r\n  &.arrow-bottom {\r\n    top: -5px;\r\n    ::before {\r\n      border-bottom: none;\r\n      border-right: none;\r\n    }\r\n  }\r\n\r\n  &.arrow-left {\r\n    right: -5px;\r\n\r\n    ::before {\r\n      border-bottom: none;\r\n      border-left: none;\r\n    }\r\n  }\r\n\r\n  &.arrow-right {\r\n    left: -5px;\r\n    ::before {\r\n      border-right: none;\r\n      border-top: none;\r\n    }\r\n  }\r\n`\r\n\r\nexport interface PopoverProps {\r\n  content: React.ReactNode\r\n  show: boolean\r\n  children: React.ReactNode\r\n  placement?: Placement\r\n}\r\n\r\nexport default function Popover({ content, show, children, placement = 'auto' }: PopoverProps) {\r\n  const [referenceElement, setReferenceElement] = useState<HTMLDivElement | null>(null)\r\n  const [popperElement, setPopperElement] = useState<HTMLDivElement | null>(null)\r\n  const [arrowElement, setArrowElement] = useState<HTMLDivElement | null>(null)\r\n  const { styles, update, attributes } = usePopper(referenceElement, popperElement, {\r\n    placement,\r\n    strategy: 'fixed',\r\n    modifiers: [\r\n      { name: 'offset', options: { offset: [8, 8] } },\r\n      { name: 'arrow', options: { element: arrowElement } }\r\n    ]\r\n  })\r\n  const updateCallback = useCallback(() => {\r\n    update && update()\r\n  }, [update])\r\n  useInterval(updateCallback, show ? 100 : null)\r\n\r\n  return (\r\n    <>\r\n      <ReferenceElement ref={setReferenceElement as any}>{children}</ReferenceElement>\r\n      <Portal>\r\n        <PopoverContainer show={show} ref={setPopperElement as any} style={styles.popper} {...attributes.popper}>\r\n          {content}\r\n          <Arrow\r\n            className={`arrow-${attributes.popper?.['data-popper-placement'] ?? ''}`}\r\n            ref={setArrowElement as any}\r\n            style={styles.arrow}\r\n            {...attributes.arrow}\r\n          />\r\n        </PopoverContainer>\r\n      </Portal>\r\n    </>\r\n  )\r\n}\r\n","import React, { useCallback, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport Popover, { PopoverProps } from '../Popover'\r\n\r\nconst TooltipContainer = styled.div`\r\n  width: 228px;\r\n  padding: 0.6rem 1rem;\r\n  line-height: 150%;\r\n  font-weight: 400;\r\n`\r\n\r\ninterface TooltipProps extends Omit<PopoverProps, 'content'> {\r\n  text: string\r\n}\r\n\r\nexport default function Tooltip({ text, ...rest }: TooltipProps) {\r\n  return <Popover content={<TooltipContainer>{text}</TooltipContainer>} {...rest} />\r\n}\r\n\r\nexport function MouseoverTooltip({ children, ...rest }: Omit<TooltipProps, 'show'>) {\r\n  const [show, setShow] = useState(false)\r\n  const open = useCallback(() => setShow(true), [setShow])\r\n  const close = useCallback(() => setShow(false), [setShow])\r\n  return (\r\n    <Tooltip {...rest} show={show}>\r\n      <div onMouseEnter={open} onMouseLeave={close}>\r\n        {children}\r\n      </div>\r\n    </Tooltip>\r\n  )\r\n}\r\n","import React, { useCallback, useState } from 'react'\r\nimport { HelpCircle as Question } from 'react-feather'\r\nimport styled from 'styled-components'\r\nimport Tooltip from '../Tooltip'\r\n\r\nconst QuestionWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 0.2rem;\r\n  border: none;\r\n  background: none;\r\n  outline: none;\r\n  cursor: default;\r\n  border-radius: 36px;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  color: ${({ theme }) => theme.text2};\r\n\r\n  :hover,\r\n  :focus {\r\n    opacity: 0.7;\r\n  }\r\n`\r\n\r\nexport default function QuestionHelper({ text }: { text: string }) {\r\n  const [show, setShow] = useState<boolean>(false)\r\n\r\n  const open = useCallback(() => setShow(true), [setShow])\r\n  const close = useCallback(() => setShow(false), [setShow])\r\n\r\n  return (\r\n    <span style={{ marginLeft: 4 }}>\r\n      <Tooltip text={text} show={show}>\r\n        <QuestionWrapper onClick={open} onMouseEnter={open} onMouseLeave={close}>\r\n          <Question size={16} />\r\n        </QuestionWrapper>\r\n      </Tooltip>\r\n    </span>\r\n  )\r\n}\r\n","import React, { HTMLProps, useCallback } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { Link } from 'react-router-dom'\r\nimport styled, { keyframes } from 'styled-components'\r\nimport { darken } from 'polished'\r\nimport { ArrowLeft, X } from 'react-feather'\r\n\r\nexport const Button = styled.button.attrs<{ warning: boolean }, { backgroundColor: string }>(({ warning, theme }) => ({\r\n  backgroundColor: warning ? theme.red1 : theme.primary1\r\n}))`\r\n  padding: 1rem 2rem 1rem 2rem;\r\n  border-radius: 3rem;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  font-size: 1rem;\r\n  border: none;\r\n  outline: none;\r\n  background-color: ${({ backgroundColor }) => backgroundColor};\r\n  color: ${({ theme }) => theme.white};\r\n  width: 100%;\r\n\r\n  :hover,\r\n  :focus {\r\n    background-color: ${({ backgroundColor }) => darken(0.05, backgroundColor)};\r\n  }\r\n\r\n  :active {\r\n    background-color: ${({ backgroundColor }) => darken(0.1, backgroundColor)};\r\n  }\r\n\r\n  :disabled {\r\n    background-color: ${({ theme }) => theme.bg1};\r\n    color: ${({ theme }) => theme.text4};\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nexport const CloseIcon = styled(X)<{ onClick: () => void }>`\r\n  cursor: pointer;\r\n`\r\n\r\n// A button that triggers some onClick result, but looks like a link.\r\nexport const LinkStyledButton = styled.button<{ disabled?: boolean }>`\r\n  border: none;\r\n  text-decoration: none;\r\n  background: none;\r\n\r\n  cursor: ${({ disabled }) => (disabled ? 'default' : 'pointer')};\r\n  color: ${({ theme, disabled }) => (disabled ? theme.text2 : theme.primary1)};\r\n  font-weight: 500;\r\n\r\n  :hover {\r\n    text-decoration: ${({ disabled }) => (disabled ? null : 'underline')};\r\n  }\r\n\r\n  :focus {\r\n    outline: none;\r\n    text-decoration: ${({ disabled }) => (disabled ? null : 'underline')};\r\n  }\r\n\r\n  :active {\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\n// An internal link from the react-router-dom library that is correctly styled\r\nexport const StyledInternalLink = styled(Link)`\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  color: ${({ theme }) => theme.primary1};\r\n  font-weight: 500;\r\n\r\n  :hover {\r\n    text-decoration: underline;\r\n  }\r\n\r\n  :focus {\r\n    outline: none;\r\n    text-decoration: underline;\r\n  }\r\n\r\n  :active {\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\nconst StyledLink = styled.a`\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  color: ${({ theme }) => theme.primary1};\r\n  font-weight: 500;\r\n\r\n  :hover {\r\n    text-decoration: underline;\r\n  }\r\n\r\n  :focus {\r\n    outline: none;\r\n    text-decoration: underline;\r\n  }\r\n\r\n  :active {\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\n/**\r\n * Outbound link that handles firing google analytics events\r\n */\r\nexport function ExternalLink({\r\n  target = '_blank',\r\n  href,\r\n  rel = 'noopener noreferrer',\r\n  ...rest\r\n}: Omit<HTMLProps<HTMLAnchorElement>, 'as' | 'ref' | 'onClick'> & { href: string }) {\r\n  const handleClick = useCallback(\r\n    (event: React.MouseEvent<HTMLAnchorElement>) => {\r\n      // don't prevent default, don't redirect if it's a new tab\r\n      if (target === '_blank' || event.ctrlKey || event.metaKey) {\r\n        ReactGA.outboundLink({ label: href }, () => {\r\n          console.debug('Fired outbound link event', href)\r\n        })\r\n      } else {\r\n        event.preventDefault()\r\n        // send a ReactGA event and then trigger a location change\r\n        ReactGA.outboundLink({ label: href }, () => {\r\n          window.location.href = href\r\n        })\r\n      }\r\n    },\r\n    [href, target]\r\n  )\r\n  return <StyledLink target={target} rel={rel} href={href} onClick={handleClick} {...rest} />\r\n}\r\n\r\nconst rotate = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`\r\n\r\nexport const Spinner = styled.img`\r\n  animation: 2s ${rotate} linear infinite;\r\n  width: 16px;\r\n  height: 16px;\r\n`\r\n\r\nconst BackArrowLink = styled(StyledInternalLink)`\r\n  color: ${({ theme }) => theme.text1};\r\n`\r\nexport function BackArrow({ to }: { to: string }) {\r\n  return (\r\n    <BackArrowLink to={to}>\r\n      <ArrowLeft />\r\n    </BackArrowLink>\r\n  )\r\n}\r\n","import React, { useMemo } from 'react'\r\nimport styled, {\r\n  ThemeProvider as StyledComponentsThemeProvider,\r\n  createGlobalStyle,\r\n  css,\r\n  DefaultTheme\r\n} from 'styled-components'\r\nimport { useIsDarkMode } from '../state/user/hooks'\r\nimport { Text, TextProps } from 'rebass'\r\nimport { Colors } from './styled'\r\n\r\nexport * from './components'\r\n\r\nconst MEDIA_WIDTHS = {\r\n  upToExtraSmall: 500,\r\n  upToSmall: 600,\r\n  upToMedium: 960,\r\n  upToLarge: 1280\r\n}\r\n\r\nconst mediaWidthTemplates: { [width in keyof typeof MEDIA_WIDTHS]: typeof css } = Object.keys(MEDIA_WIDTHS).reduce(\r\n  (accumulator, size) => {\r\n    ;(accumulator as any)[size] = (a: any, b: any, c: any) => css`\r\n      @media (max-width: ${(MEDIA_WIDTHS as any)[size]}px) {\r\n        ${css(a, b, c)}\r\n      }\r\n    `\r\n    return accumulator\r\n  },\r\n  {}\r\n) as any\r\n\r\nconst white = '#FFFFFF'\r\nconst black = '#000000'\r\n\r\nexport function colors(darkMode: boolean): Colors {\r\n  return {\r\n    // base\r\n    white,\r\n    black,\r\n\r\n    // text\r\n    text1: darkMode ? '#FFFFFF' : '#000000',\r\n    text2: darkMode ? '#C3C5CB' : '#565A69',\r\n    text3: darkMode ? '#6C7284' : '#888D9B',\r\n    text4: darkMode ? '#565A69' : '#C3C5CB',\r\n    text5: darkMode ? '#2C2F36' : '#EDEEF2',\r\n\r\n    // backgrounds / greys\r\n    bg1: darkMode ? '#212429' : '#FFFFFF',\r\n    bg2: darkMode ? '#2C2F36' : '#F7F8FA',\r\n    bg3: darkMode ? '#40444F' : '#EDEEF2',\r\n    bg4: darkMode ? '#565A69' : '#CED0D9',\r\n    bg5: darkMode ? '#6C7284' : '#888D9B',\r\n\r\n    //specialty colors\r\n    modalBG: darkMode ? 'rgba(0,0,0,.425)' : 'rgba(0,0,0,0.3)',\r\n    advancedBG: darkMode ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.6)',\r\n\r\n    //primary colors\r\n    primary1: darkMode ? '#2172E5' : '#ff007a',\r\n    primary2: darkMode ? '#3680E7' : '#FF8CC3',\r\n    primary3: darkMode ? '#4D8FEA' : '#FF99C9',\r\n    primary4: darkMode ? '#376bad70' : '#F6DDE8',\r\n    primary5: darkMode ? '#153d6f70' : '#FDEAF1',\r\n\r\n    // color text\r\n    primaryText1: darkMode ? '#6da8ff' : '#ff007a',\r\n\r\n    // secondary colors\r\n    secondary1: darkMode ? '#2172E5' : '#ff007a',\r\n    secondary2: darkMode ? '#17000b26' : '#F6DDE8',\r\n    secondary3: darkMode ? '#17000b26' : '#FDEAF1',\r\n\r\n    // other\r\n    red1: '#FF6871',\r\n    red2: '#F82D3A',\r\n    green1: '#27AE60',\r\n    yellow1: '#FFE270',\r\n    yellow2: '#F3841E'\r\n\r\n    // dont wanna forget these blue yet\r\n    // blue4: darkMode ? '#153d6f70' : '#C4D9F8',\r\n    // blue5: darkMode ? '#153d6f70' : '#EBF4FF',\r\n  }\r\n}\r\n\r\nexport function theme(darkMode: boolean): DefaultTheme {\r\n  return {\r\n    ...colors(darkMode),\r\n\r\n    grids: {\r\n      sm: 8,\r\n      md: 12,\r\n      lg: 24\r\n    },\r\n\r\n    //shadows\r\n    shadow1: darkMode ? '#000' : '#2F80ED',\r\n\r\n    // media queries\r\n    mediaWidth: mediaWidthTemplates,\r\n\r\n    // css snippets\r\n    flexColumnNoWrap: css`\r\n      display: flex;\r\n      flex-flow: column nowrap;\r\n    `,\r\n    flexRowNoWrap: css`\r\n      display: flex;\r\n      flex-flow: row nowrap;\r\n    `\r\n  }\r\n}\r\n\r\nexport default function ThemeProvider({ children }: { children: React.ReactNode }) {\r\n  const darkMode = useIsDarkMode()\r\n\r\n  const themeObject = useMemo(() => theme(darkMode), [darkMode])\r\n\r\n  return <StyledComponentsThemeProvider theme={themeObject}>{children}</StyledComponentsThemeProvider>\r\n}\r\n\r\nconst TextWrapper = styled(Text)<{ color: keyof Colors }>`\r\n  color: ${({ color, theme }) => (theme as any)[color]};\r\n`\r\n\r\nexport const TYPE = {\r\n  main(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'text2'} {...props} />\r\n  },\r\n  link(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'primary1'} {...props} />\r\n  },\r\n  black(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'text1'} {...props} />\r\n  },\r\n  body(props: TextProps) {\r\n    return <TextWrapper fontWeight={400} fontSize={16} color={'text1'} {...props} />\r\n  },\r\n  largeHeader(props: TextProps) {\r\n    return <TextWrapper fontWeight={600} fontSize={24} {...props} />\r\n  },\r\n  mediumHeader(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} fontSize={20} {...props} />\r\n  },\r\n  subHeader(props: TextProps) {\r\n    return <TextWrapper fontWeight={400} fontSize={14} {...props} />\r\n  },\r\n  blue(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'primary1'} {...props} />\r\n  },\r\n  yellow(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'yellow1'} {...props} />\r\n  },\r\n  darkGray(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'text3'} {...props} />\r\n  },\r\n  gray(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'bg3'} {...props} />\r\n  },\r\n  italic(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} fontSize={12} fontStyle={'italic'} color={'text2'} {...props} />\r\n  },\r\n  error({ error, ...props }: { error: boolean } & TextProps) {\r\n    return <TextWrapper fontWeight={500} color={error ? 'red1' : 'text2'} {...props} />\r\n  }\r\n}\r\n\r\nexport const FixedGlobalStyle = createGlobalStyle`\r\nhtml, input, textarea, button {\r\n  font-family: 'Inter', sans-serif;\r\n  letter-spacing: -0.018em;\r\n  font-display: fallback;\r\n}\r\n@supports (font-variation-settings: normal) {\r\n  html, input, textarea, button {\r\n    font-family: 'Inter var', sans-serif;\r\n  }\r\n}\r\n\r\nhtml,\r\nbody {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\nbutton {\r\n  user-select: none;\r\n}\r\n\r\nhtml {\r\n  font-size: 16px;\r\n  font-variant: none;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\r\n}\r\n`\r\n\r\nexport const ThemedGlobalStyle = createGlobalStyle`\r\nhtml {\r\n  color: ${({ theme }) => theme.text1};\r\n  background-color: ${({ theme }) => theme.bg2};\r\n}\r\n\r\nbody {\r\n  min-height: 100vh;\r\n  background-repeat: no-repeat;\r\n  background: url('/images/bg.jpg') no-repeat;\r\n}\r\n`\r\n","import styled from 'styled-components'\r\n\r\nconst Column = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n`\r\nexport const ColumnCenter = styled(Column)`\r\n  width: 100%;\r\n  align-items: center;\r\n`\r\n\r\nexport const AutoColumn = styled.div<{\r\n  gap?: 'sm' | 'md' | 'lg' | string\r\n  justify?: 'stretch' | 'center' | 'start' | 'end' | 'flex-start' | 'flex-end' | 'space-between'\r\n}>`\r\n  display: grid;\r\n  grid-auto-rows: auto;\r\n  grid-row-gap: ${({ gap }) => (gap === 'sm' && '8px') || (gap === 'md' && '12px') || (gap === 'lg' && '24px') || gap};\r\n  justify-items: ${({ justify }) => justify && justify};\r\n`\r\n\r\nexport default Column\r\n","import styled from 'styled-components'\r\nimport { Box } from 'rebass/styled-components'\r\n\r\nconst Row = styled(Box)<{ align?: string; padding?: string; border?: string; borderRadius?: string }>`\r\n  width: 100%;\r\n  display: flex;\r\n  padding: 0;\r\n  align-items: ${({ align }) => (align ? align : 'center')};\r\n  padding: ${({ padding }) => padding};\r\n  border: ${({ border }) => border};\r\n  border-radius: ${({ borderRadius }) => borderRadius};\r\n`\r\n\r\nexport const RowBetween = styled(Row)`\r\n  justify-content: space-between;\r\n`\r\n\r\nexport const RowFlat = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n`\r\n\r\nexport const AutoRow = styled(Row)<{ gap?: string; justify?: string }>`\r\n  flex-wrap: wrap;\r\n  margin: ${({ gap }) => gap && `-${gap}`};\r\n  justify-content: ${({ justify }) => justify && justify};\r\n\r\n  & > * {\r\n    margin: ${({ gap }) => gap} !important;\r\n  }\r\n`\r\n\r\nexport const RowFixed = styled(Row)<{ gap?: string; justify?: string }>`\r\n  width: fit-content;\r\n  margin: ${({ gap }) => gap && `-${gap}`};\r\n`\r\n\r\nexport default Row\r\n","import React, { useState, useRef, useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\n\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport { TYPE } from '../../theme'\r\nimport { AutoColumn } from '../Column'\r\nimport { RowBetween, RowFixed } from '../Row'\r\n\r\nimport { darken } from 'polished'\r\n\r\nenum SlippageError {\r\n    InvalidInput = 'InvalidInput',\r\n    RiskyLow = 'RiskyLow',\r\n    RiskyHigh = 'RiskyHigh'\r\n}\r\n\r\nenum DeadlineError {\r\n    InvalidInput = 'InvalidInput'\r\n}\r\n\r\nconst FancyButton = styled.button`\r\n  color: ${({ theme }) => theme.text1};\r\n  align-items: center;\r\n  height: 2rem;\r\n  border-radius: 36px;\r\n  font-size: 12px;\r\n  width: auto;\r\n  min-width: 3rem;\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  outline: none;\r\n  background: ${({ theme }) => theme.bg1};\r\n  :hover {\r\n    border: 1px solid ${({ theme }) => theme.bg4};\r\n  }\r\n  :focus {\r\n    border: 1px solid ${({ theme }) => theme.primary1};\r\n  }\r\n`\r\n\r\nconst Option = styled(FancyButton) <{ active: boolean }>`\r\n  margin-right: 8px;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  background-color: ${({ active, theme }) => active && theme.primary1};\r\n  color: ${({ active, theme }) => (active ? theme.white : theme.text1)};\r\n`\r\n\r\nconst Input = styled.input`\r\n  background: ${({ theme }) => theme.bg1};\r\n  font-size: 16px;\r\n  width: auto;\r\n  outline: none;\r\n  &::-webkit-outer-spin-button,\r\n  &::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n  }\r\n  color: ${({ theme, color }) => (color === 'red' ? theme.red1 : theme.text1)};\r\n  text-align: right;\r\n`\r\n\r\nconst OptionCustom = styled(FancyButton) <{ active?: boolean; warning?: boolean }>`\r\n  height: 2rem;\r\n  position: relative;\r\n  padding: 0 0.75rem;\r\n  flex: 1;\r\n  border: ${({ theme, active, warning }) => active && `1px solid ${warning ? theme.red1 : theme.primary1}`};\r\n  :hover {\r\n    border: ${({ theme, active, warning }) =>\r\n        active && `1px solid ${warning ? darken(0.1, theme.red1) : darken(0.1, theme.primary1)}`};\r\n  }\r\n\r\n  input {\r\n    width: 100%;\r\n    height: 100%;\r\n    border: 0px;\r\n    border-radius: 2rem;\r\n  }\r\n`\r\n\r\nconst SlippageEmojiContainer = styled.span`\r\n  color: #f3841e;\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    display: none;  \r\n  `}\r\n`\r\n\r\nexport interface SlippageTabsProps {\r\n    rawSlippage: number\r\n    setRawSlippage: (rawSlippage: number) => void\r\n    deadline: number\r\n    setDeadline: (deadline: number) => void\r\n}\r\n\r\nexport default function SlippageTabs({ rawSlippage, setRawSlippage, deadline, setDeadline }: SlippageTabsProps) {\r\n    const theme = useContext(ThemeContext)\r\n\r\n    const inputRef = useRef<HTMLInputElement>()\r\n\r\n    const [slippageInput, setSlippageInput] = useState('')\r\n    const [deadlineInput, setDeadlineInput] = useState('')\r\n\r\n    const slippageInputIsValid =\r\n        slippageInput === '' || (rawSlippage / 100).toFixed(2) === Number.parseFloat(slippageInput).toFixed(2)\r\n    const deadlineInputIsValid = deadlineInput === '' || (deadline / 60).toString() === deadlineInput\r\n\r\n    let slippageError: SlippageError | undefined\r\n    if (slippageInput !== '' && !slippageInputIsValid) {\r\n        slippageError = SlippageError.InvalidInput\r\n    } else if (slippageInputIsValid && rawSlippage < 50) {\r\n        slippageError = SlippageError.RiskyLow\r\n    } else if (slippageInputIsValid && rawSlippage > 500) {\r\n        slippageError = SlippageError.RiskyHigh\r\n    } else {\r\n        slippageError = undefined\r\n    }\r\n\r\n    let deadlineError: DeadlineError | undefined\r\n    if (deadlineInput !== '' && !deadlineInputIsValid) {\r\n        deadlineError = DeadlineError.InvalidInput\r\n    } else {\r\n        deadlineError = undefined\r\n    }\r\n\r\n    function parseCustomSlippage(value: string) {\r\n        setSlippageInput(value)\r\n\r\n        try {\r\n            const valueAsIntFromRoundedFloat = Number.parseInt((Number.parseFloat(value) * 100).toString())\r\n            if (!Number.isNaN(valueAsIntFromRoundedFloat) && valueAsIntFromRoundedFloat < 5000) {\r\n                setRawSlippage(valueAsIntFromRoundedFloat)\r\n            }\r\n        } catch { }\r\n    }\r\n\r\n    function parseCustomDeadline(value: string) {\r\n        setDeadlineInput(value)\r\n\r\n        try {\r\n            const valueAsInt: number = Number.parseInt(value) * 60\r\n            if (!Number.isNaN(valueAsInt) && valueAsInt > 0) {\r\n                setDeadline(valueAsInt)\r\n            }\r\n        } catch { }\r\n    }\r\n\r\n    return (\r\n        <AutoColumn gap=\"md\">\r\n            <AutoColumn gap=\"sm\">\r\n                <RowFixed>\r\n                    <TYPE.black fontWeight={400} fontSize={14} color={theme.text2}>\r\n                        æ»‘ç‚¹å®¹å¿åº¦\r\n                    </TYPE.black>\r\n                    <QuestionHelper text=\"å¦‚æžœä»·æ ¼çš„ä¸åˆ©å˜åŒ–è¶…è¿‡è¿™ä¸ªç™¾åˆ†æ¯”ï¼Œåˆ™æ‚¨çš„äº¤æ˜“å°†å›žæ»š.\" />\r\n                </RowFixed>\r\n                <RowBetween>\r\n                    <Option\r\n                        onClick={() => {\r\n                            setSlippageInput('')\r\n                            setRawSlippage(10)\r\n                        }}\r\n                        active={rawSlippage === 10}\r\n                    >\r\n                        0.1%\r\n                    </Option>\r\n                    <Option\r\n                        onClick={() => {\r\n                            setSlippageInput('')\r\n                            setRawSlippage(50)\r\n                        }}\r\n                        active={rawSlippage === 50}\r\n                    >\r\n                        0.5%\r\n                    </Option>\r\n                    <Option\r\n                        onClick={() => {\r\n                            setSlippageInput('')\r\n                            setRawSlippage(100)\r\n                        }}\r\n                        active={rawSlippage === 100}\r\n                    >\r\n                        1%\r\n                    </Option>\r\n                    <OptionCustom active={![10, 50, 100].includes(rawSlippage)} warning={!slippageInputIsValid} tabIndex={-1}>\r\n                        <RowBetween>\r\n                            {!!slippageInput &&\r\n                                (slippageError === SlippageError.RiskyLow || slippageError === SlippageError.RiskyHigh) ? (\r\n                                <SlippageEmojiContainer>\r\n                                    <span role=\"img\" aria-label=\"warning\">\r\n                                        âš ï¸\r\n                                    </span>\r\n                                </SlippageEmojiContainer>\r\n                            ) : null}\r\n                            {/* https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30451 */}\r\n                            <Input\r\n                                ref={inputRef as any}\r\n                                placeholder={(rawSlippage / 100).toFixed(2)}\r\n                                value={slippageInput}\r\n                                onBlur={() => {\r\n                                    parseCustomSlippage((rawSlippage / 100).toFixed(2))\r\n                                }}\r\n                                onChange={e => parseCustomSlippage(e.target.value)}\r\n                                color={!slippageInputIsValid ? 'red' : ''}\r\n                            />\r\n                            %\r\n                        </RowBetween>\r\n                    </OptionCustom>\r\n                </RowBetween>\r\n                {!!slippageError && (\r\n                    <RowBetween\r\n                        style={{\r\n                            fontSize: '14px',\r\n                            paddingTop: '7px',\r\n                            color: slippageError === SlippageError.InvalidInput ? 'red' : '#F3841E'\r\n                        }}\r\n                    >\r\n                        {slippageError === SlippageError.InvalidInput\r\n                            ? 'è¾“å…¥æœ‰æ•ˆçš„æ»‘ç‚¹ç™¾åˆ†æ¯”'\r\n                            : slippageError === SlippageError.RiskyLow\r\n                                ? 'æ‚¨çš„äº¤æ˜“å¯èƒ½å¤±è´¥'\r\n                                : 'æ‚¨çš„äº¤æ˜“å¯èƒ½è¢«æŠ¢å…ˆ'}\r\n                    </RowBetween>\r\n                )}\r\n            </AutoColumn>\r\n\r\n            <AutoColumn gap=\"sm\">\r\n                <RowFixed>\r\n                    <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n                        äº¤æ˜“æœŸé™\r\n                    </TYPE.black>\r\n                    <QuestionHelper text=\"æ‚¨çš„äº¤æ˜“å¦‚æžœå¤„äºŽç­‰å¾…çŠ¶æ€è¶…è¿‡æ­¤æ—¶é—´å°†ä¼šå›žæ»š\" />\r\n                </RowFixed>\r\n                <RowFixed>\r\n                    <OptionCustom style={{ width: '80px' }} tabIndex={-1}>\r\n                        <Input\r\n                            color={!!deadlineError ? 'red' : undefined}\r\n                            onBlur={() => {\r\n                                parseCustomDeadline((deadline / 60).toString())\r\n                            }}\r\n                            placeholder={(deadline / 60).toString()}\r\n                            value={deadlineInput}\r\n                            onChange={e => parseCustomDeadline(e.target.value)}\r\n                        />\r\n                    </OptionCustom>\r\n                    <TYPE.body style={{ paddingLeft: '8px' }} fontSize={14}>\r\n                        åˆ†é’Ÿ\r\n                    </TYPE.body>\r\n                </RowFixed>\r\n            </AutoColumn>\r\n        </AutoColumn>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst ToggleElement = styled.span<{ isActive?: boolean; isOnSwitch?: boolean }>`\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 14px;\r\n  background: ${({ theme, isActive, isOnSwitch }) => (isActive ? (isOnSwitch ? theme.primary1 : theme.text4) : 'none')};\r\n  color: ${({ theme, isActive, isOnSwitch }) => (isActive ? (isOnSwitch ? theme.white : theme.text2) : theme.text3)};\r\n  font-size: 0.825rem;\r\n  font-weight: 400;\r\n`\r\n\r\nconst StyledToggle = styled.button<{ isActive?: boolean; activeElement?: boolean }>`\r\n  border-radius: 16px;\r\n  border: 1px solid ${({ theme, isActive }) => (isActive ? theme.primary5 : theme.text4)};\r\n  display: flex;\r\n  width: fit-content;\r\n  cursor: pointer;\r\n  outline: none;\r\n  padding: 0;\r\n  background-color: transparent;\r\n`\r\n\r\nexport interface ToggleProps {\r\n  id?: string\r\n  isActive: boolean\r\n  toggle: () => void\r\n}\r\n\r\nexport default function Toggle({ id, isActive, toggle }: ToggleProps) {\r\n  return (\r\n    <StyledToggle id={id} isActive={isActive} onClick={toggle}>\r\n      <ToggleElement isActive={isActive} isOnSwitch={true}>\r\n        å¼€\r\n      </ToggleElement>\r\n      <ToggleElement isActive={!isActive} isOnSwitch={false}>\r\n        å…³\r\n      </ToggleElement>\r\n    </StyledToggle>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { darken, lighten } from 'polished'\r\n\r\nimport { RowBetween } from '../Row'\r\nimport { ChevronDown } from 'react-feather'\r\nimport { Button as RebassButton, ButtonProps } from 'rebass/styled-components'\r\n\r\nconst Base = styled(RebassButton)<{\r\n  padding?: string\r\n  width?: string\r\n  borderRadius?: string\r\n  altDisabledStyle?: boolean\r\n}>`\r\n  padding: ${({ padding }) => (padding ? padding : '18px')};\r\n  width: ${({ width }) => (width ? width : '100%')};\r\n  font-weight: 500;\r\n  text-align: center;\r\n  border-radius: 20px;\r\n  border-radius: ${({ borderRadius }) => borderRadius && borderRadius};\r\n  outline: none;\r\n  border: 1px solid transparent;\r\n  color: white;\r\n  text-decoration: none;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: nowrap;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  position: relative;\r\n  z-index: 1;\r\n  &:disabled {\r\n    cursor: auto;\r\n  }\r\n\r\n  > * {\r\n    user-select: none;\r\n  }\r\n`\r\n\r\nexport const ButtonPrimary = styled(Base)`\r\n  background-color: ${({ theme }) => theme.primary1};\r\n  color: white;\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.05, theme.primary1)};\r\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.1, theme.primary1)};\r\n    background-color: ${({ theme }) => darken(0.1, theme.primary1)};\r\n  }\r\n  &:disabled {\r\n    background-color: ${({ theme, altDisabledStyle }) => (altDisabledStyle ? theme.primary1 : theme.bg3)};\r\n    color: ${({ theme, altDisabledStyle }) => (altDisabledStyle ? 'white' : theme.text3)};\r\n    cursor: auto;\r\n    box-shadow: none;\r\n    border: 1px solid transparent;\r\n    outline: none;\r\n    opacity: ${({ altDisabledStyle }) => (altDisabledStyle ? '0.7' : '1')};\r\n  }\r\n`\r\n\r\nexport const ButtonLight = styled(Base)`\r\n  background-color: ${({ theme }) => theme.primary5};\r\n  color: ${({ theme }) => theme.primaryText1};\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme, disabled }) => !disabled && darken(0.03, theme.primary5)};\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.03, theme.primary5)};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.03, theme.primary5)};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme, disabled }) => !disabled && darken(0.05, theme.primary5)};\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.05, theme.primary5)};\r\n  }\r\n  :disabled {\r\n    opacity: 0.4;\r\n    :hover {\r\n      cursor: auto;\r\n      background-color: ${({ theme }) => theme.primary5};\r\n      box-shadow: none;\r\n      border: 1px solid transparent;\r\n      outline: none;\r\n    }\r\n  }\r\n`\r\n\r\nexport const ButtonGray = styled(Base)`\r\n  background-color: ${({ theme }) => theme.bg3};\r\n  color: ${({ theme }) => theme.text2};\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme, disabled }) => !disabled && darken(0.05, theme.bg2)};\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.05, theme.bg2)};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.05, theme.bg2)};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme, disabled }) => !disabled && darken(0.1, theme.bg2)};\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.1, theme.bg2)};\r\n  }\r\n`\r\n\r\nexport const ButtonSecondary = styled(Base)`\r\n  background-color: ${({ theme }) => theme.primary5};\r\n  color: ${({ theme }) => theme.primaryText1};\r\n  font-size: 16px;\r\n  border-radius: 8px;\r\n  padding: ${({ padding }) => (padding ? padding : '10px')};\r\n\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => theme.primary4};\r\n    background-color: ${({ theme }) => theme.primary4};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.primary4};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => theme.primary4};\r\n    background-color: ${({ theme }) => theme.primary4};\r\n  }\r\n  &:disabled {\r\n    background-color: ${({ theme }) => theme.primary5};\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nexport const ButtonPink = styled(Base)`\r\n  background-color: ${({ theme }) => theme.primary1};\r\n  color: white;\r\n\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.05, theme.primary1)};\r\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.1, theme.primary1)};\r\n    background-color: ${({ theme }) => darken(0.1, theme.primary1)};\r\n  }\r\n  &:disabled {\r\n    background-color: ${({ theme }) => theme.primary1};\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nexport const ButtonOutlined = styled(Base)`\r\n  border: 1px solid ${({ theme }) => theme.bg2};\r\n  background-color: transparent;\r\n  color: ${({ theme }) => theme.text1};\r\n\r\n  &:focus {\r\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.bg4};\r\n  }\r\n  &:hover {\r\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.bg4};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.bg4};\r\n  }\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nexport const ButtonEmpty = styled(Base)`\r\n  background-color: transparent;\r\n  color: ${({ theme }) => theme.primary1};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  &:focus {\r\n    background-color: ${({ theme }) => theme.advancedBG};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.advancedBG};\r\n  }\r\n  &:active {\r\n    background-color: ${({ theme }) => theme.advancedBG};\r\n  }\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nexport const ButtonWhite = styled(Base)`\r\n  border: 1px solid #edeef2;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  color: black;\r\n\r\n  &:focus {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    box-shadow: 0 0 0 1pt ${darken(0.05, '#edeef2')};\r\n  }\r\n  &:hover {\r\n    box-shadow: 0 0 0 1pt ${darken(0.1, '#edeef2')};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${darken(0.1, '#edeef2')};\r\n  }\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nconst ButtonConfirmedStyle = styled(Base)`\r\n  background-color: ${({ theme }) => lighten(0.5, theme.green1)};\r\n  color: ${({ theme }) => theme.green1};\r\n  border: 1px solid ${({ theme }) => theme.green1};\r\n\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nconst ButtonErrorStyle = styled(Base)`\r\n  background-color: ${({ theme }) => theme.red1};\r\n  border: 1px solid ${({ theme }) => theme.red1};\r\n\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.05, theme.red1)};\r\n    background-color: ${({ theme }) => darken(0.05, theme.red1)};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme }) => darken(0.05, theme.red1)};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.1, theme.red1)};\r\n    background-color: ${({ theme }) => darken(0.1, theme.red1)};\r\n  }\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n    box-shadow: none;\r\n    background-color: ${({ theme }) => theme.red1};\r\n    border: 1px solid ${({ theme }) => theme.red1};\r\n  }\r\n`\r\n\r\nexport function ButtonConfirmed({\r\n  confirmed,\r\n  altDisabledStyle,\r\n  ...rest\r\n}: { confirmed?: boolean; altDisabledStyle?: boolean } & ButtonProps) {\r\n  if (confirmed) {\r\n    return <ButtonConfirmedStyle {...rest} />\r\n  } else {\r\n    return <ButtonPrimary {...rest} altDisabledStyle={altDisabledStyle} />\r\n  }\r\n}\r\n\r\nexport function ButtonError({ error, ...rest }: { error?: boolean } & ButtonProps) {\r\n  if (error) {\r\n    return <ButtonErrorStyle {...rest} />\r\n  } else {\r\n    return <ButtonPrimary {...rest} />\r\n  }\r\n}\r\n\r\nexport function ButtonDropdown({ disabled = false, children, ...rest }: { disabled?: boolean } & ButtonProps) {\r\n  return (\r\n    <ButtonPrimary {...rest} disabled={disabled}>\r\n      <RowBetween>\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>{children}</div>\r\n        <ChevronDown size={24} />\r\n      </RowBetween>\r\n    </ButtonPrimary>\r\n  )\r\n}\r\n\r\nexport function ButtonDropdownLight({ disabled = false, children, ...rest }: { disabled?: boolean } & ButtonProps) {\r\n  return (\r\n    <ButtonOutlined {...rest} disabled={disabled}>\r\n      <RowBetween>\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>{children}</div>\r\n        <ChevronDown size={24} />\r\n      </RowBetween>\r\n    </ButtonOutlined>\r\n  )\r\n}\r\n\r\nexport function ButtonRadio({ active, ...rest }: { active?: boolean } & ButtonProps) {\r\n  if (!active) {\r\n    return <ButtonWhite {...rest} />\r\n  } else {\r\n    return <ButtonPrimary {...rest} />\r\n  }\r\n}\r\n","import React from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { animated, useTransition, useSpring } from 'react-spring'\r\nimport { DialogOverlay, DialogContent } from '@reach/dialog'\r\nimport { isMobile } from 'react-device-detect'\r\nimport '@reach/dialog/styles.css'\r\nimport { transparentize } from 'polished'\r\nimport { useGesture } from 'react-use-gesture'\r\n\r\nconst AnimatedDialogOverlay = animated(DialogOverlay)\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay)`\r\n  &[data-reach-dialog-overlay] {\r\n    z-index: 2;\r\n    background-color: transparent;\r\n    overflow: hidden;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    background-color: ${({ theme }) => theme.modalBG};\r\n  }\r\n`\r\n\r\nconst AnimatedDialogContent = animated(DialogContent)\r\n// destructure to not pass custom props to Dialog DOM element\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nconst StyledDialogContent = styled(({ minHeight, maxHeight, mobile, isOpen, ...rest }) => (\r\n  <AnimatedDialogContent {...rest} />\r\n)).attrs({\r\n  'aria-label': 'dialog'\r\n})`\r\n  &[data-reach-dialog-content] {\r\n    margin: 0 0 2rem 0;\r\n    border: 1px solid ${({ theme }) => theme.bg1};\r\n    background-color: ${({ theme }) => theme.bg1};\r\n    box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadow1)};\r\n    padding: 0px;\r\n    width: 50vw;\r\n    overflow: hidden;\r\n\r\n    align-self: ${({ mobile }) => (mobile ? 'flex-end' : 'center')};\r\n\r\n    max-width: 420px;\r\n    ${({ maxHeight }) =>\r\n      maxHeight &&\r\n      css`\r\n        max-height: ${maxHeight}vh;\r\n      `}\r\n    ${({ minHeight }) =>\r\n      minHeight &&\r\n      css`\r\n        min-height: ${minHeight}vh;\r\n      `}\r\n    display: flex;\r\n    border-radius: 20px;\r\n    ${({ theme }) => theme.mediaWidth.upToMedium`\r\n      width: 65vw;\r\n      margin: 0;\r\n    `}\r\n    ${({ theme, mobile }) => theme.mediaWidth.upToSmall`\r\n      width:  85vw;\r\n      ${mobile &&\r\n        css`\r\n          width: 100vw;\r\n          border-radius: 20px;\r\n          border-bottom-left-radius: 0;\r\n          border-bottom-right-radius: 0;\r\n        `}\r\n    `}\r\n  }\r\n`\r\n\r\ninterface ModalProps {\r\n  isOpen: boolean\r\n  onDismiss: () => void\r\n  minHeight?: number | false\r\n  maxHeight?: number\r\n  initialFocusRef?: React.RefObject<any>\r\n  children?: React.ReactNode\r\n}\r\n\r\nexport default function Modal({\r\n  isOpen,\r\n  onDismiss,\r\n  minHeight = false,\r\n  maxHeight = 50,\r\n  initialFocusRef,\r\n  children\r\n}: ModalProps) {\r\n  const fadeTransition = useTransition(isOpen, null, {\r\n    config: { duration: 200 },\r\n    from: { opacity: 0 },\r\n    enter: { opacity: 1 },\r\n    leave: { opacity: 0 }\r\n  })\r\n\r\n  const [{ y }, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }))\r\n  const bind = useGesture({\r\n    onDrag: state => {\r\n      set({\r\n        y: state.down ? state.movement[1] : 0\r\n      })\r\n      if (state.movement[1] > 300 || (state.velocity > 3 && state.direction[1] > 0)) {\r\n        onDismiss()\r\n      }\r\n    }\r\n  })\r\n\r\n  return (\r\n    <>\r\n      {fadeTransition.map(\r\n        ({ item, key, props }) =>\r\n          item && (\r\n            <StyledDialogOverlay key={key} style={props} onDismiss={onDismiss} initialFocusRef={initialFocusRef}>\r\n              <StyledDialogContent\r\n                {...(isMobile\r\n                  ? {\r\n                      ...bind(),\r\n                      style: { transform: y.interpolate(y => `translateY(${y > 0 ? y : 0}px)`) }\r\n                    }\r\n                  : {})}\r\n                aria-label=\"dialog content\"\r\n                minHeight={minHeight}\r\n                maxHeight={maxHeight}\r\n                mobile={isMobile}\r\n              >\r\n                {/* prevents the automatic focusing of inputs on mobile by the reach dialog */}\r\n                {!initialFocusRef && isMobile ? <div tabIndex={1} /> : null}\r\n                {children}\r\n              </StyledDialogContent>\r\n            </StyledDialogOverlay>\r\n          )\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import React, { useRef, useContext, useState } from 'react'\r\nimport { Settings, X } from 'react-feather'\r\nimport styled from 'styled-components'\r\nimport { useOnClickOutside } from '../../hooks/useOnClickOutside'\r\nimport {\r\n    useUserSlippageTolerance,\r\n    useExpertModeManager,\r\n    useUserDeadline,\r\n    useDarkModeManager\r\n} from '../../state/user/hooks'\r\nimport TransactionSettings from '../TransactionSettings'\r\nimport { RowFixed, RowBetween } from '../Row'\r\nimport { TYPE } from '../../theme'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport Toggle from '../Toggle'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { AutoColumn } from '../Column'\r\nimport { ButtonError } from '../Button'\r\nimport { useSettingsMenuOpen, useToggleSettingsMenu } from '../../state/application/hooks'\r\nimport { Text } from 'rebass'\r\nimport Modal from '../Modal'\r\n\r\nconst StyledMenuIcon = styled(Settings)`\r\n  height: 20px;\r\n  width: 20px;\r\n\r\n  > * {\r\n    stroke: ${({ theme }) => theme.text1};\r\n  }\r\n`\r\n\r\nconst StyledCloseIcon = styled(X)`\r\n  height: 20px;\r\n  width: 20px;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  > * {\r\n    stroke: ${({ theme }) => theme.text1};\r\n  }\r\n`\r\n\r\nconst StyledMenuButton = styled.button`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  border: none;\r\n  background-color: transparent;\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 35px;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n\r\n  padding: 0.15rem 0.5rem;\r\n  border-radius: 0.5rem;\r\n\r\n  :hover,\r\n  :focus {\r\n    cursor: pointer;\r\n    outline: none;\r\n    background-color: ${({ theme }) => theme.bg4};\r\n  }\r\n\r\n  svg {\r\n    margin-top: 2px;\r\n  }\r\n`\r\nconst EmojiWrapper = styled.div`\r\n  position: absolute;\r\n  bottom: -6px;\r\n  right: 0px;\r\n  font-size: 14px;\r\n`\r\n\r\nconst StyledMenu = styled.div`\r\n  margin-left: 0.5rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  border: none;\r\n  text-align: left;\r\n`\r\n\r\nconst MenuFlyout = styled.span`\r\n  min-width: 20.125rem;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\r\n    0px 24px 32px rgba(0, 0, 0, 0.01);\r\n\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n\r\n  border-radius: 0.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 1rem;\r\n  position: absolute;\r\n  top: 3rem;\r\n  right: 0rem;\r\n  z-index: 100;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    min-width: 18.125rem;\r\n    right: -46px;\r\n  `};\r\n`\r\n\r\nconst Break = styled.div`\r\n  width: 100%;\r\n  height: 1px;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n`\r\n\r\nconst ModalContentWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 2rem 0;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  border-radius: 20px;\r\n`\r\n\r\nexport default function SettingsTab() {\r\n    const node = useRef<HTMLDivElement>()\r\n    const open = useSettingsMenuOpen()\r\n    const toggle = useToggleSettingsMenu()\r\n\r\n    const theme = useContext(ThemeContext)\r\n    const [userSlippageTolerance, setUserslippageTolerance] = useUserSlippageTolerance()\r\n\r\n    const [deadline, setDeadline] = useUserDeadline()\r\n\r\n    const [expertMode, toggleExpertMode] = useExpertModeManager()\r\n\r\n    const [darkMode, toggleDarkMode] = useDarkModeManager()\r\n\r\n    // show confirmation view before turning on\r\n    const [showConfirmation, setShowConfirmation] = useState(false)\r\n\r\n    useOnClickOutside(node, open ? toggle : undefined)\r\n\r\n    return (\r\n        // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30451\r\n        <StyledMenu ref={node as any}>\r\n            <Modal isOpen={showConfirmation} onDismiss={() => setShowConfirmation(false)} maxHeight={100}>\r\n                <ModalContentWrapper>\r\n                    <AutoColumn gap=\"lg\">\r\n                        <RowBetween style={{ padding: '0 2rem' }}>\r\n                            <div />\r\n                            <Text fontWeight={500} fontSize={20}>\r\n                                ä½ ç¡®å®šå—?\r\n                            </Text>\r\n                            <StyledCloseIcon onClick={() => setShowConfirmation(false)} />\r\n                        </RowBetween>\r\n                        <Break />\r\n                        <AutoColumn gap=\"lg\" style={{ padding: '0 2rem' }}>\r\n                            <Text fontWeight={500} fontSize={20}>\r\n                                ä¸“å®¶æ¨¡å¼ä¼šå…³é—­ç¡®è®¤äº¤æ˜“æç¤ºï¼Œå¹¶å…è®¸é«˜æ»‘ç‚¹äº¤æ˜“ï¼Œè¿™å¾€å¾€å¯¼è‡´ç³Ÿç³•çš„æ±‡çŽ‡å’Œèµ„é‡‘æŸå¤±\r\n                            </Text>\r\n                            <Text fontWeight={600} fontSize={20}>\r\n                                åªæœ‰æ‚¨çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆæ—¶æ‰å¯ä»¥ä½¿ç”¨æ­¤æ¨¡å¼\r\n                            </Text>\r\n                            <ButtonError\r\n                                error={true}\r\n                                padding={'12px'}\r\n                                onClick={() => {\r\n                                    if (window.prompt(`è¯·è¾“å…¥å•è¯\"confirm\"æ¥å¼€å¯ä¸“å®¶æ¨¡å¼`) === 'confirm') {\r\n                                        toggleExpertMode()\r\n                                        setShowConfirmation(false)\r\n                                    }\r\n                                }}\r\n                            >\r\n                                <Text fontSize={20} fontWeight={500} id=\"confirm-expert-mode\">\r\n                                    æ‰“å¼€ä¸“å®¶æ¨¡å¼\r\n                                </Text>\r\n                            </ButtonError>\r\n                        </AutoColumn>\r\n                    </AutoColumn>\r\n                </ModalContentWrapper>\r\n            </Modal>\r\n            <StyledMenuButton onClick={toggle} id=\"open-settings-dialog-button\">\r\n                <StyledMenuIcon />\r\n                {expertMode && (\r\n                    <EmojiWrapper>\r\n                        <span role=\"img\" aria-label=\"wizard-icon\">\r\n                            ðŸ§™\r\n                        </span>\r\n                    </EmojiWrapper>\r\n                )}\r\n            </StyledMenuButton>\r\n            {open && (\r\n                <MenuFlyout>\r\n                    <AutoColumn gap=\"md\" style={{ padding: '1rem' }}>\r\n                        <Text fontWeight={600} fontSize={14}>\r\n                            è®¾ç½®\r\n                        </Text>\r\n                        <TransactionSettings\r\n                            rawSlippage={userSlippageTolerance}\r\n                            setRawSlippage={setUserslippageTolerance}\r\n                            deadline={deadline}\r\n                            setDeadline={setDeadline}\r\n                        />\r\n                        <Text fontWeight={600} fontSize={14}>\r\n                            ç•Œé¢è®¾ç½®\r\n                        </Text>\r\n                        <RowBetween>\r\n                            <RowFixed>\r\n                                <TYPE.black fontWeight={400} fontSize={14} color={theme.text2}>\r\n                                    åˆ‡æ¢ä¸“å®¶æ¨¡å¼\r\n                                </TYPE.black>\r\n                                <QuestionHelper text=\"ç»•è¿‡ç¡®è®¤å¯¹è¯æ¡†å¹¶å…è®¸é«˜æ»‘ç‚¹äº¤æ˜“ã€‚ è¯·è‡ªè¡Œå†³å®šæ˜¯å¦ä½¿ç”¨\" />\r\n                            </RowFixed>\r\n                            <Toggle\r\n                                id=\"toggle-expert-mode-button\"\r\n                                isActive={expertMode}\r\n                                toggle={\r\n                                    expertMode\r\n                                        ? () => {\r\n                                            toggleExpertMode()\r\n                                            setShowConfirmation(false)\r\n                                        }\r\n                                        : () => {\r\n                                            toggle()\r\n                                            setShowConfirmation(true)\r\n                                        }\r\n                                }\r\n                            />\r\n                        </RowBetween>\r\n                        <RowBetween>\r\n                            <RowFixed>\r\n                                <TYPE.black fontWeight={400} fontSize={14} color={theme.text2}>\r\n                                    åˆ‡æ¢æš—æ¨¡å¼\r\n                                </TYPE.black>\r\n                            </RowFixed>\r\n                            <Toggle isActive={darkMode} toggle={toggleDarkMode} />\r\n                        </RowBetween>\r\n                    </AutoColumn>\r\n                </MenuFlyout>\r\n            )}\r\n        </StyledMenu>\r\n    )\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z\",\n  stroke: \"black\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z\",\n  stroke: \"black\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z\",\n  stroke: \"black\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgMenu = function SvgMenu(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMenu, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/menu.981ecca4.svg\";\nexport { ForwardRef as ReactComponent };","import { useCallback, useState } from 'react'\r\n\r\nexport default function useToggle(initialState = false): [boolean, () => void] {\r\n  const [state, setState] = useState(initialState)\r\n  const toggle = useCallback(() => setState(state => !state), [])\r\n  return [state, toggle]\r\n}\r\n","import React, { useRef } from 'react'\r\nimport { Info, BookOpen } from 'react-feather'\r\nimport styled from 'styled-components'\r\nimport { ReactComponent as MenuIcon } from '../../assets/images/menu.svg'\r\nimport { useOnClickOutside } from '../../hooks/useOnClickOutside'\r\nimport useToggle from '../../hooks/useToggle'\r\n\r\nimport { ExternalLink } from '../../theme'\r\n\r\nconst StyledMenuIcon = styled(MenuIcon)`\r\n  path {\r\n    stroke: ${({ theme }) => theme.text1};\r\n  }\r\n`\r\n\r\nconst StyledMenuButton = styled.button`\r\n  width: 100%;\r\n  height: 100%;\r\n  border: none;\r\n  background-color: transparent;\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 35px;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n\r\n  padding: 0.15rem 0.5rem;\r\n  border-radius: 0.5rem;\r\n\r\n  :hover,\r\n  :focus {\r\n    cursor: pointer;\r\n    outline: none;\r\n    background-color: ${({ theme }) => theme.bg4};\r\n  }\r\n\r\n  svg {\r\n    margin-top: 2px;\r\n  }\r\n`\r\n\r\nconst StyledMenu = styled.div`\r\n  margin-left: 0.5rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  border: none;\r\n  text-align: left;\r\n`\r\n\r\nconst MenuFlyout = styled.span`\r\n  min-width: 13.125rem;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\r\n    0px 24px 32px rgba(0, 0, 0, 0.01);\r\n  border-radius: 0.5rem;\r\n  padding: 0.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 1rem;\r\n  position: absolute;\r\n  top: 3rem;\r\n  right: 0rem;\r\n  z-index: 100;\r\n`\r\n\r\nconst MenuItem = styled(ExternalLink)`\r\n  flex: 1;\r\n  padding: 0.5rem 0.5rem;\r\n  color: ${({ theme }) => theme.text2};\r\n  :hover {\r\n    color: ${({ theme }) => theme.text1};\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n  }\r\n  > svg {\r\n    margin-right: 8px;\r\n  }\r\n`\r\n\r\nexport default function Menu() {\r\n    const node = useRef<HTMLDivElement>()\r\n    const [open, toggle] = useToggle(false)\r\n\r\n    useOnClickOutside(node, open ? toggle : undefined)\r\n\r\n    return (\r\n        <StyledMenu ref={node as any}>\r\n            <StyledMenuButton onClick={toggle}>\r\n                <StyledMenuIcon />\r\n            </StyledMenuButton>\r\n            {open && (\r\n                <MenuFlyout>\r\n                    <MenuItem id=\"link\" href=\"https://testnet.bnbchain.org/faucet-smart\">\r\n                        <Info size={14} />\r\n                        BSCæµ‹è¯•ç½‘æ°´é¾™å¤´\r\n                    </MenuItem>\r\n                    <MenuItem id=\"link\" href=\"https://testnet.bscscan.com/\">\r\n                        <BookOpen size={14} />\r\n                        æµ‹è¯•ç½‘åŒºå—æµè§ˆå™¨\r\n                    </MenuItem>\r\n                    <MenuItem id=\"link\" href=\"https://learnblockchain.cn/docs/hardhat/guides/scripts.html\">\r\n                        <BookOpen size={14} />\r\n                        hardhatä¸­æ–‡æ–‡æ¡£\r\n                    </MenuItem>\r\n                    <MenuItem id=\"link\" href=\"https://remix.ethereum.org/\">\r\n                        <BookOpen size={14} />\r\n                        remixæ™ºèƒ½åˆçº¦IDE\r\n                    </MenuItem>\r\n                    <MenuItem id=\"link\" href=\"https://learnblockchain.cn/docs/solidity/\">\r\n                        <BookOpen size={14} />\r\n                        solidityä¸­æ–‡æ–‡æ¡£\r\n                    </MenuItem>\r\n                </MenuFlyout>\r\n            )}\r\n        </StyledMenu>\r\n    )\r\n}\r\n","/**\r\n * Returns true if the string value is zero in hex\r\n * @param hexNumberString\r\n */\r\nexport default function isZero(hexNumberString: string) {\r\n  return /^0x0*$/.test(hexNumberString)\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\n// modified from https://usehooks.com/useDebounce/\r\nexport default function useDebounce<T>(value: T, delay: number): T {\r\n  const [debouncedValue, setDebouncedValue] = useState<T>(value)\r\n\r\n  useEffect(() => {\r\n    // Update debounced value after delay\r\n    const handler = setTimeout(() => {\r\n      setDebouncedValue(value)\r\n    }, delay)\r\n\r\n    // Cancel the timeout if value changes (also on delay change or unmount)\r\n    // This is how we prevent debounced value from updating if value is changed ...\r\n    // .. within the delay period. Timeout gets cleared and restarted.\r\n    return () => {\r\n      clearTimeout(handler)\r\n    }\r\n  }, [value, delay])\r\n\r\n  return debouncedValue\r\n}\r\n","import { namehash } from 'ethers/lib/utils'\r\nimport { useMemo } from 'react'\r\nimport { useSingleCallResult } from '../state/multicall/hooks'\r\nimport { isAddress } from '../utils'\r\nimport isZero from '../utils/isZero'\r\nimport { useENSRegistrarContract, useENSResolverContract } from './useContract'\r\nimport useDebounce from './useDebounce'\r\n\r\n/**\r\n * Does a reverse lookup for an address to find its ENS name.\r\n * Note this is not the same as looking up an ENS name to find an address.\r\n */\r\nexport default function useENSName(address?: string): { ENSName: string | null; loading: boolean } {\r\n  const debouncedAddress = useDebounce(address, 200)\r\n  const ensNodeArgument = useMemo(() => {\r\n    if (!debouncedAddress || !isAddress(debouncedAddress)) return [undefined]\r\n    try {\r\n      return debouncedAddress ? [namehash(`${debouncedAddress.toLowerCase().substr(2)}.addr.reverse`)] : [undefined]\r\n    } catch (error) {\r\n      return [undefined]\r\n    }\r\n  }, [debouncedAddress])\r\n  const registrarContract = useENSRegistrarContract(false)\r\n  const resolverAddress = useSingleCallResult(registrarContract, 'resolver', ensNodeArgument)\r\n  const resolverAddressResult = resolverAddress.result?.[0]\r\n  const resolverContract = useENSResolverContract(\r\n    resolverAddressResult && !isZero(resolverAddressResult) ? resolverAddressResult : undefined,\r\n    false\r\n  )\r\n  const name = useSingleCallResult(resolverContract, 'name', ensNodeArgument)\r\n\r\n  const changed = debouncedAddress !== address\r\n  return {\r\n    ENSName: changed ? null : name.result?.[0] ?? null,\r\n    loading: changed || resolverAddress.loading || name.loading\r\n  }\r\n}\r\n","import { JSBI } from '@tianheng2017/dex-sdk'\r\nimport { useMemo } from 'react'\r\nimport { NEVER_RELOAD, useSingleCallResult } from '../state/multicall/hooks'\r\nimport { useActiveWeb3React } from './index'\r\nimport { useSocksController } from './useContract'\r\n\r\nexport default function useSocksBalance(): JSBI | undefined {\r\n  const { account } = useActiveWeb3React()\r\n  const socksContract = useSocksController()\r\n\r\n  const { result } = useSingleCallResult(socksContract, 'balanceOf', [account ?? undefined], NEVER_RELOAD)\r\n  const data = result?.[0]\r\n  return data ? JSBI.BigInt(data.toString()) : undefined\r\n}\r\n\r\nexport function useHasSocks(): boolean | undefined {\r\n  const balance = useSocksBalance()\r\n  return useMemo(() => balance && JSBI.greaterThan(balance, JSBI.BigInt(0)), [balance])\r\n}\r\n","import { createAction } from '@reduxjs/toolkit'\r\nimport { ChainId } from '@tianheng2017/dex-sdk'\r\n\r\nexport interface SerializableTransactionReceipt {\r\n  to: string\r\n  from: string\r\n  contractAddress: string\r\n  transactionIndex: number\r\n  blockHash: string\r\n  transactionHash: string\r\n  blockNumber: number\r\n  status?: number\r\n}\r\n\r\nexport const addTransaction = createAction<{\r\n  chainId: ChainId\r\n  hash: string\r\n  from: string\r\n  approval?: { tokenAddress: string; spender: string }\r\n  summary?: string\r\n}>('transactions/addTransaction')\r\nexport const clearAllTransactions = createAction<{ chainId: ChainId }>('transactions/clearAllTransactions')\r\nexport const finalizeTransaction = createAction<{\r\n  chainId: ChainId\r\n  hash: string\r\n  receipt: SerializableTransactionReceipt\r\n}>('transactions/finalizeTransaction')\r\nexport const checkedTransaction = createAction<{\r\n  chainId: ChainId\r\n  hash: string\r\n  blockNumber: number\r\n}>('transactions/checkedTransaction')\r\n","import { TransactionResponse } from '@ethersproject/providers'\r\nimport { useCallback, useMemo } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { addTransaction } from './actions'\r\nimport { TransactionDetails } from './reducer'\r\n\r\n// helper that can take a ethers library transaction response and add it to the list of transactions\r\nexport function useTransactionAdder(): (\r\n  response: TransactionResponse,\r\n  customData?: { summary?: string; approval?: { tokenAddress: string; spender: string } }\r\n) => void {\r\n  const { chainId, account } = useActiveWeb3React()\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  return useCallback(\r\n    (\r\n      response: TransactionResponse,\r\n      { summary, approval }: { summary?: string; approval?: { tokenAddress: string; spender: string } } = {}\r\n    ) => {\r\n      if (!account) return\r\n      if (!chainId) return\r\n\r\n      const { hash } = response\r\n      if (!hash) {\r\n        throw Error('No transaction hash found.')\r\n      }\r\n      dispatch(addTransaction({ hash, from: account, chainId, approval, summary }))\r\n    },\r\n    [dispatch, chainId, account]\r\n  )\r\n}\r\n\r\n// returns all the transactions for the current chain\r\nexport function useAllTransactions(): { [txHash: string]: TransactionDetails } {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const state = useSelector<AppState, AppState['transactions']>(state => state.transactions)\r\n\r\n  return chainId ? state[chainId] ?? {} : {}\r\n}\r\n\r\nexport function useIsTransactionPending(transactionHash?: string): boolean {\r\n  const transactions = useAllTransactions()\r\n\r\n  if (!transactionHash || !transactions[transactionHash]) return false\r\n\r\n  return !transactions[transactionHash].receipt\r\n}\r\n\r\n/**\r\n * Returns whether a transaction happened in the last day (86400 seconds * 1000 milliseconds / second)\r\n * @param tx to check for recency\r\n */\r\nexport function isTransactionRecent(tx: TransactionDetails): boolean {\r\n  return new Date().getTime() - tx.addedTime < 86_400_000\r\n}\r\n\r\n// returns whether a token has a pending approval transaction\r\nexport function useHasPendingApproval(tokenAddress: string | undefined, spender: string | undefined): boolean {\r\n  const allTransactions = useAllTransactions()\r\n  return useMemo(\r\n    () =>\r\n      typeof tokenAddress === 'string' &&\r\n      typeof spender === 'string' &&\r\n      Object.keys(allTransactions).some(hash => {\r\n        const tx = allTransactions[hash]\r\n        if (!tx) return false\r\n        if (tx.receipt) {\r\n          return false\r\n        } else {\r\n          const approval = tx.approval\r\n          if (!approval) return false\r\n          return approval.spender === spender && approval.tokenAddress === tokenAddress && isTransactionRecent(tx)\r\n        }\r\n      }),\r\n    [allTransactions, spender, tokenAddress]\r\n  )\r\n}\r\n","import React, { useEffect, useRef } from 'react'\r\n\r\nimport styled from 'styled-components'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport Jazzicon from 'jazzicon'\r\n\r\nconst StyledIdenticonContainer = styled.div`\r\n  height: 1rem;\r\n  width: 1rem;\r\n  border-radius: 1.125rem;\r\n  background-color: ${({ theme }) => theme.bg4};\r\n`\r\n\r\nexport default function Identicon() {\r\n  const ref = useRef<HTMLDivElement>()\r\n\r\n  const { account } = useActiveWeb3React()\r\n\r\n  useEffect(() => {\r\n    if (account && ref.current) {\r\n      ref.current.innerHTML = ''\r\n      ref.current.appendChild(Jazzicon(16, parseInt(account.slice(2, 10), 16)))\r\n    }\r\n  }, [account])\r\n\r\n  // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30451\r\n  return <StyledIdenticonContainer ref={ref as any} />\r\n}\r\n","import React from 'react'\r\n\r\nimport styled, { keyframes } from 'styled-components'\r\n\r\nconst rotate = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`\r\n\r\nconst StyledSVG = styled.svg<{ size: string; stroke?: string }>`\r\n  animation: 2s ${rotate} linear infinite;\r\n  height: ${({ size }) => size};\r\n  width: ${({ size }) => size};\r\n  path {\r\n    stroke: ${({ stroke, theme }) => stroke ?? theme.primary1};\r\n  }\r\n`\r\n\r\n/**\r\n * Takes in custom size and stroke for circle color, default to primary color as fill,\r\n * need ...rest for layered styles on top\r\n */\r\nexport default function Loader({ size = '16px', stroke, ...rest }: { size?: string; stroke?: string }) {\r\n  return (\r\n    <StyledSVG viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" size={size} stroke={stroke} {...rest}>\r\n      <path\r\n        d=\"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 9.27455 20.9097 6.80375 19.1414 5\"\r\n        strokeWidth=\"2.5\"\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      />\r\n    </StyledSVG>\r\n  )\r\n}\r\n","import { useEffect, useRef } from 'react'\r\n\r\n// modified from https://usehooks.com/usePrevious/\r\nexport default function usePrevious<T>(value: T) {\r\n  // The ref object is a generic container whose current property is mutable ...\r\n  // ... and can hold any value, similar to an instance property on a class\r\n  const ref = useRef<T>()\r\n\r\n  // Store current value in ref\r\n  useEffect(() => {\r\n    ref.current = value\r\n  }, [value]) // Only re-run if value changes\r\n\r\n  // Return previous value (happens before update in useEffect above)\r\n  return ref.current\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport useCopyClipboard from '../../hooks/useCopyClipboard'\r\n\r\nimport { LinkStyledButton } from '../../theme'\r\nimport { CheckCircle, Copy } from 'react-feather'\r\n\r\nconst CopyIcon = styled(LinkStyledButton)`\r\n  color: ${({ theme }) => theme.text3};\r\n  flex-shrink: 0;\r\n  display: flex;\r\n  text-decoration: none;\r\n  font-size: 0.825rem;\r\n  :hover,\r\n  :active,\r\n  :focus {\r\n    text-decoration: none;\r\n    color: ${({ theme }) => theme.text2};\r\n  }\r\n`\r\nconst TransactionStatusText = styled.span`\r\n  margin-left: 0.25rem;\r\n  font-size: 0.825rem;\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  align-items: center;\r\n`\r\n\r\nexport default function CopyHelper(props: { toCopy: string; children?: React.ReactNode }) {\r\n  const [isCopied, setCopied] = useCopyClipboard()\r\n\r\n  return (\r\n    <CopyIcon onClick={() => setCopied(props.toCopy)}>\r\n      {isCopied ? (\r\n        <TransactionStatusText>\r\n          <CheckCircle size={'16'} />\r\n          <TransactionStatusText>Copied</TransactionStatusText>\r\n        </TransactionStatusText>\r\n      ) : (\r\n        <TransactionStatusText>\r\n          <Copy size={'16'} />\r\n        </TransactionStatusText>\r\n      )}\r\n      {isCopied ? '' : props.children}\r\n    </CopyIcon>\r\n  )\r\n}\r\n","import copy from 'copy-to-clipboard'\r\nimport { useCallback, useEffect, useState } from 'react'\r\n\r\nexport default function useCopyClipboard(timeout = 500): [boolean, (toCopy: string) => void] {\r\n  const [isCopied, setIsCopied] = useState(false)\r\n\r\n  const staticCopy = useCallback(text => {\r\n    const didCopy = copy(text)\r\n    setIsCopied(didCopy)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (isCopied) {\r\n      const hide = setTimeout(() => {\r\n        setIsCopied(false)\r\n      }, timeout)\r\n\r\n      return () => {\r\n        clearTimeout(hide)\r\n      }\r\n    }\r\n    return undefined\r\n  }, [isCopied, setIsCopied, timeout])\r\n\r\n  return [isCopied, staticCopy]\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { CheckCircle, Triangle } from 'react-feather'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { getEtherscanLink } from '../../utils'\r\nimport { ExternalLink } from '../../theme'\r\nimport { useAllTransactions } from '../../state/transactions/hooks'\r\nimport { RowFixed } from '../Row'\r\nimport Loader from '../Loader'\r\n\r\nconst TransactionWrapper = styled.div``\r\n\r\nconst TransactionStatusText = styled.div`\r\n  margin-right: 0.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n  :hover {\r\n    text-decoration: underline;\r\n  }\r\n`\r\n\r\nconst TransactionState = styled(ExternalLink)<{ pending: boolean; success?: boolean }>`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  text-decoration: none !important;\r\n  border-radius: 0.5rem;\r\n  padding: 0.25rem 0rem;\r\n  font-weight: 500;\r\n  font-size: 0.825rem;\r\n  color: ${({ theme }) => theme.primary1};\r\n`\r\n\r\nconst IconWrapper = styled.div<{ pending: boolean; success?: boolean }>`\r\n  color: ${({ pending, success, theme }) => (pending ? theme.primary1 : success ? theme.green1 : theme.red1)};\r\n`\r\n\r\nexport default function Transaction({ hash }: { hash: string }) {\r\n  const { chainId } = useActiveWeb3React()\r\n  const allTransactions = useAllTransactions()\r\n\r\n  const tx = allTransactions?.[hash]\r\n  const summary = tx?.summary\r\n  const pending = !tx?.receipt\r\n  const success = !pending && tx && (tx.receipt?.status === 1 || typeof tx.receipt?.status === 'undefined')\r\n\r\n  if (!chainId) return null\r\n\r\n  return (\r\n    <TransactionWrapper>\r\n      <TransactionState href={getEtherscanLink(chainId, hash, 'transaction')} pending={pending} success={success}>\r\n        <RowFixed>\r\n          <TransactionStatusText>{summary ?? hash} â†—</TransactionStatusText>\r\n        </RowFixed>\r\n        <IconWrapper pending={pending} success={success}>\r\n          {pending ? <Loader /> : success ? <CheckCircle size=\"16\" /> : <Triangle size=\"16\" />}\r\n        </IconWrapper>\r\n      </TransactionState>\r\n    </TransactionWrapper>\r\n  )\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 18,\n  y1: 6,\n  x2: 6,\n  y2: 18\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 6,\n  y1: 6,\n  x2: 18,\n  y2: 18\n});\n\nvar SvgX = function SvgX(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-x\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgX, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/x.5b8e2186.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback, useContext } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { AppDispatch } from '../../state'\r\nimport { clearAllTransactions } from '../../state/transactions/actions'\r\nimport { shortenAddress } from '../../utils'\r\nimport { AutoRow } from '../Row'\r\nimport Copy from './Copy'\r\nimport Transaction from './Transaction'\r\n\r\nimport { SUPPORTED_WALLETS } from '../../constants'\r\nimport { ReactComponent as Close } from '../../assets/images/x.svg'\r\nimport { getEtherscanLink } from '../../utils'\r\nimport { injected, walletconnect, walletlink, fortmatic, portis } from '../../connectors'\r\nimport CoinbaseWalletIcon from '../../assets/images/coinbaseWalletIcon.svg'\r\nimport WalletConnectIcon from '../../assets/images/walletConnectIcon.svg'\r\nimport FortmaticIcon from '../../assets/images/fortmaticIcon.png'\r\nimport PortisIcon from '../../assets/images/portisIcon.png'\r\nimport Identicon from '../Identicon'\r\nimport { ButtonSecondary } from '../Button'\r\nimport { ExternalLink as LinkIcon } from 'react-feather'\r\nimport { ExternalLink, LinkStyledButton, TYPE } from '../../theme'\r\n\r\nconst HeaderRow = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  padding: 1rem 1rem;\r\n  font-weight: 500;\r\n  color: ${props => (props.color === 'blue' ? ({ theme }) => theme.primary1 : 'inherit')};\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    padding: 1rem;\r\n  `};\r\n`\r\n\r\nconst UpperSection = styled.div`\r\n  position: relative;\r\n\r\n  h5 {\r\n    margin: 0;\r\n    margin-bottom: 0.5rem;\r\n    font-size: 1rem;\r\n    font-weight: 400;\r\n  }\r\n\r\n  h5:last-child {\r\n    margin-bottom: 0px;\r\n  }\r\n\r\n  h4 {\r\n    margin-top: 0;\r\n    font-weight: 500;\r\n  }\r\n`\r\n\r\nconst InfoCard = styled.div`\r\n  padding: 1rem;\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  border-radius: 20px;\r\n  position: relative;\r\n  display: grid;\r\n  grid-row-gap: 12px;\r\n  margin-bottom: 20px;\r\n`\r\n\r\nconst AccountGroupingRow = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-weight: 400;\r\n  color: ${({ theme }) => theme.text1};\r\n\r\n  div {\r\n    ${({ theme }) => theme.flexRowNoWrap}\r\n    align-items: center;\r\n  }\r\n`\r\n\r\nconst AccountSection = styled.div`\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  padding: 0rem 1rem;\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`padding: 0rem 1rem 1.5rem 1rem;`};\r\n`\r\n\r\nconst YourAccount = styled.div`\r\n  h5 {\r\n    margin: 0 0 1rem 0;\r\n    font-weight: 400;\r\n  }\r\n\r\n  h4 {\r\n    margin: 0;\r\n    font-weight: 500;\r\n  }\r\n`\r\n\r\nconst LowerSection = styled.div`\r\n  ${({ theme }) => theme.flexColumnNoWrap}\r\n  padding: 1.5rem;\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  border-bottom-left-radius: 25px;\r\n  border-bottom-right-radius: 20px;\r\n\r\n  h5 {\r\n    margin: 0;\r\n    font-weight: 400;\r\n    color: ${({ theme }) => theme.text3};\r\n  }\r\n`\r\n\r\nconst AccountControl = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  min-width: 0;\r\n  width: 100%;\r\n\r\n  font-weight: 500;\r\n  font-size: 1.25rem;\r\n\r\n  a:hover {\r\n    text-decoration: underline;\r\n  }\r\n\r\n  p {\r\n    min-width: 0;\r\n    margin: 0;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n`\r\n\r\nconst AddressLink = styled(ExternalLink) <{ hasENS: boolean; isENS: boolean }>`\r\n  font-size: 0.825rem;\r\n  color: ${({ theme }) => theme.text3};\r\n  margin-left: 1rem;\r\n  font-size: 0.825rem;\r\n  display: flex;\r\n  :hover {\r\n    color: ${({ theme }) => theme.text2};\r\n  }\r\n`\r\n\r\nconst CloseIcon = styled.div`\r\n  position: absolute;\r\n  right: 1rem;\r\n  top: 14px;\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n`\r\n\r\nconst CloseColor = styled(Close)`\r\n  path {\r\n    stroke: ${({ theme }) => theme.text4};\r\n  }\r\n`\r\n\r\nconst WalletName = styled.div`\r\n  width: initial;\r\n  font-size: 0.825rem;\r\n  font-weight: 500;\r\n  color: ${({ theme }) => theme.text3};\r\n`\r\n\r\nconst IconWrapper = styled.div<{ size?: number }>`\r\n  ${({ theme }) => theme.flexColumnNoWrap};\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 8px;\r\n  & > img,\r\n  span {\r\n    height: ${({ size }) => (size ? size + 'px' : '32px')};\r\n    width: ${({ size }) => (size ? size + 'px' : '32px')};\r\n  }\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    align-items: flex-end;\r\n  `};\r\n`\r\n\r\nconst TransactionListWrapper = styled.div`\r\n  ${({ theme }) => theme.flexColumnNoWrap};\r\n`\r\n\r\nconst WalletAction = styled(ButtonSecondary)`\r\n  width: fit-content;\r\n  font-weight: 400;\r\n  margin-left: 8px;\r\n  font-size: 0.825rem;\r\n  padding: 4px 6px;\r\n  :hover {\r\n    cursor: pointer;\r\n    text-decoration: underline;\r\n  }\r\n`\r\n\r\nconst MainWalletAction = styled(WalletAction)`\r\n  color: ${({ theme }) => theme.primary1};\r\n`\r\n\r\nfunction renderTransactions(transactions: string[]) {\r\n    return (\r\n        <TransactionListWrapper>\r\n            {transactions.map((hash, i) => {\r\n                return <Transaction key={i} hash={hash} />\r\n            })}\r\n        </TransactionListWrapper>\r\n    )\r\n}\r\n\r\ninterface AccountDetailsProps {\r\n    toggleWalletModal: () => void\r\n    pendingTransactions: string[]\r\n    confirmedTransactions: string[]\r\n    ENSName?: string\r\n    openOptions: () => void\r\n}\r\n\r\nexport default function AccountDetails({\r\n    toggleWalletModal,\r\n    pendingTransactions,\r\n    confirmedTransactions,\r\n    ENSName,\r\n    openOptions\r\n}: AccountDetailsProps) {\r\n    const { chainId, account, connector } = useActiveWeb3React()\r\n    const theme = useContext(ThemeContext)\r\n    const dispatch = useDispatch<AppDispatch>()\r\n\r\n    function formatConnectorName() {\r\n        const { ethereum } = window\r\n        const isMetaMask = !!(ethereum && ethereum.isMetaMask)\r\n        const name = Object.keys(SUPPORTED_WALLETS)\r\n            .filter(\r\n                k =>\r\n                    SUPPORTED_WALLETS[k].connector === connector && (connector !== injected || isMetaMask === (k === 'METAMASK'))\r\n            )\r\n            .map(k => SUPPORTED_WALLETS[k].name)[0]\r\n        return <WalletName>å·²è¿žæŽ¥åˆ° {name}</WalletName>\r\n    }\r\n\r\n    function getStatusIcon() {\r\n        if (connector === injected) {\r\n            return (\r\n                <IconWrapper size={16}>\r\n                    <Identicon />\r\n                </IconWrapper>\r\n            )\r\n        } else if (connector === walletconnect) {\r\n            return (\r\n                <IconWrapper size={16}>\r\n                    <img src={WalletConnectIcon} alt={'wallet connect logo'} />\r\n                </IconWrapper>\r\n            )\r\n        } else if (connector === walletlink) {\r\n            return (\r\n                <IconWrapper size={16}>\r\n                    <img src={CoinbaseWalletIcon} alt={'coinbase wallet logo'} />\r\n                </IconWrapper>\r\n            )\r\n        } else if (connector === fortmatic) {\r\n            return (\r\n                <IconWrapper size={16}>\r\n                    <img src={FortmaticIcon} alt={'fortmatic logo'} />\r\n                </IconWrapper>\r\n            )\r\n        } else if (connector === portis) {\r\n            return (\r\n                <>\r\n                    <IconWrapper size={16}>\r\n                        <img src={PortisIcon} alt={'portis logo'} />\r\n                        <MainWalletAction\r\n                            onClick={() => {\r\n                                portis.portis.showPortis()\r\n                            }}\r\n                        >\r\n                            Show Portis\r\n                        </MainWalletAction>\r\n                    </IconWrapper>\r\n                </>\r\n            )\r\n        }\r\n        return null\r\n    }\r\n\r\n    const clearAllTransactionsCallback = useCallback(() => {\r\n        if (chainId) dispatch(clearAllTransactions({ chainId }))\r\n    }, [dispatch, chainId])\r\n\r\n    return (\r\n        <>\r\n            <UpperSection>\r\n                <CloseIcon onClick={toggleWalletModal}>\r\n                    <CloseColor />\r\n                </CloseIcon>\r\n                <HeaderRow>è´¦æˆ·</HeaderRow>\r\n                <AccountSection>\r\n                    <YourAccount>\r\n                        <InfoCard>\r\n                            <AccountGroupingRow>\r\n                                {formatConnectorName()}\r\n                                <div>\r\n                                    {connector !== injected && connector !== walletlink && (\r\n                                        <WalletAction\r\n                                            style={{ fontSize: '.825rem', fontWeight: 400, marginRight: '8px' }}\r\n                                            onClick={() => {\r\n                                                ; (connector as any).close()\r\n                                            }}\r\n                                        >\r\n                                            Disconnect\r\n                                        </WalletAction>\r\n                                    )}\r\n                                    <WalletAction\r\n                                        style={{ fontSize: '.825rem', fontWeight: 400 }}\r\n                                        onClick={() => {\r\n                                            openOptions()\r\n                                        }}\r\n                                    >\r\n                                        åˆ‡æ¢\r\n                                    </WalletAction>\r\n                                </div>\r\n                            </AccountGroupingRow>\r\n                            <AccountGroupingRow id=\"web3-account-identifier-row\">\r\n                                <AccountControl>\r\n                                    {ENSName ? (\r\n                                        <>\r\n                                            <div>\r\n                                                {getStatusIcon()}\r\n                                                <p> {ENSName}</p>\r\n                                            </div>\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <div>\r\n                                                {getStatusIcon()}\r\n                                                <p> {account && shortenAddress(account)}</p>\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n                                </AccountControl>\r\n                            </AccountGroupingRow>\r\n                            <AccountGroupingRow>\r\n                                {ENSName ? (\r\n                                    <>\r\n                                        <AccountControl>\r\n                                            <div>\r\n                                                {account && (\r\n                                                    <Copy toCopy={account}>\r\n                                                        <span style={{ marginLeft: '4px' }}>å¤åˆ¶åœ°å€</span>\r\n                                                    </Copy>\r\n                                                )}\r\n                                                {chainId && account && (\r\n                                                    <AddressLink\r\n                                                        hasENS={!!ENSName}\r\n                                                        isENS={true}\r\n                                                        href={chainId && getEtherscanLink(chainId, ENSName, 'address')}\r\n                                                    >\r\n                                                        <LinkIcon size={16} />\r\n                                                        <span style={{ marginLeft: '4px' }}>æŸ¥çœ‹Bscscan</span>\r\n                                                    </AddressLink>\r\n                                                )}\r\n                                            </div>\r\n                                        </AccountControl>\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <AccountControl>\r\n                                            <div>\r\n                                                {account && (\r\n                                                    <Copy toCopy={account}>\r\n                                                        <span style={{ marginLeft: '4px' }}>å¤åˆ¶åœ°å€</span>\r\n                                                    </Copy>\r\n                                                )}\r\n                                                {chainId && account && (\r\n                                                    <AddressLink\r\n                                                        hasENS={!!ENSName}\r\n                                                        isENS={false}\r\n                                                        href={getEtherscanLink(chainId, account, 'address')}\r\n                                                    >\r\n                                                        <LinkIcon size={16} />\r\n                                                        <span style={{ marginLeft: '4px' }}>æŸ¥çœ‹Bscscan</span>\r\n                                                    </AddressLink>\r\n                                                )}\r\n                                            </div>\r\n                                        </AccountControl>\r\n                                    </>\r\n                                )}\r\n                            </AccountGroupingRow>\r\n                        </InfoCard>\r\n                    </YourAccount>\r\n                </AccountSection>\r\n            </UpperSection>\r\n            {!!pendingTransactions.length || !!confirmedTransactions.length ? (\r\n                <LowerSection>\r\n                    <AutoRow mb={'1rem'} style={{ justifyContent: 'space-between' }}>\r\n                        <TYPE.body>æœ€è¿‘äº¤æ˜“</TYPE.body>\r\n                        <LinkStyledButton onClick={clearAllTransactionsCallback}>(å…¨éƒ¨æ¸…é™¤)</LinkStyledButton>\r\n                    </AutoRow>\r\n                    {renderTransactions(pendingTransactions)}\r\n                    {renderTransactions(confirmedTransactions)}\r\n                </LowerSection>\r\n            ) : (\r\n                <LowerSection>\r\n                    <TYPE.body color={theme.text1}>æ‚¨çš„äº¤æ˜“å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</TYPE.body>\r\n                </LowerSection>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { ExternalLink } from '../../theme'\r\n\r\nconst InfoCard = styled.button<{ active?: boolean }>`\r\n  background-color: ${({ theme, active }) => (active ? theme.bg3 : theme.bg2)};\r\n  padding: 1rem;\r\n  outline: none;\r\n  border: 1px solid;\r\n  border-radius: 12px;\r\n  width: 100% !important;\r\n  &:focus {\r\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.primary1};\r\n  }\r\n  border-color: ${({ theme, active }) => (active ? 'transparent' : theme.bg3)};\r\n`\r\n\r\nconst OptionCard = styled(InfoCard as any)`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 2rem;\r\n  padding: 1rem;\r\n`\r\n\r\nconst OptionCardLeft = styled.div`\r\n  ${({ theme }) => theme.flexColumnNoWrap};\r\n  justify-content: center;\r\n  height: 100%;\r\n`\r\n\r\nconst OptionCardClickable = styled(OptionCard as any)<{ clickable?: boolean }>`\r\n  margin-top: 0;\r\n  &:hover {\r\n    cursor: ${({ clickable }) => (clickable ? 'pointer' : '')};\r\n    border: ${({ clickable, theme }) => (clickable ? `1px solid ${theme.primary1}` : ``)};\r\n  }\r\n  opacity: ${({ disabled }) => (disabled ? '0.5' : '1')};\r\n`\r\n\r\nconst GreenCircle = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  &:first-child {\r\n    height: 8px;\r\n    width: 8px;\r\n    margin-right: 8px;\r\n    background-color: ${({ theme }) => theme.green1};\r\n    border-radius: 50%;\r\n  }\r\n`\r\n\r\nconst CircleWrapper = styled.div`\r\n  color: ${({ theme }) => theme.green1};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst HeaderText = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  color: ${props => (props.color === 'blue' ? ({ theme }) => theme.primary1 : ({ theme }) => theme.text1)};\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n`\r\n\r\nconst SubHeader = styled.div`\r\n  color: ${({ theme }) => theme.text1};\r\n  margin-top: 10px;\r\n  font-size: 12px;\r\n`\r\n\r\nconst IconWrapper = styled.div<{ size?: number | null }>`\r\n  ${({ theme }) => theme.flexColumnNoWrap};\r\n  align-items: center;\r\n  justify-content: center;\r\n  & > img,\r\n  span {\r\n    height: ${({ size }) => (size ? size + 'px' : '24px')};\r\n    width: ${({ size }) => (size ? size + 'px' : '24px')};\r\n  }\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    align-items: flex-end;\r\n  `};\r\n`\r\n\r\nexport default function Option({\r\n  link = null,\r\n  clickable = true,\r\n  size,\r\n  onClick = null,\r\n  color,\r\n  header,\r\n  subheader = null,\r\n  icon,\r\n  active = false,\r\n  id\r\n}: {\r\n  link?: string | null\r\n  clickable?: boolean\r\n  size?: number | null\r\n  onClick?: null | (() => void)\r\n  color: string\r\n  header: React.ReactNode\r\n  subheader: React.ReactNode | null\r\n  icon: string\r\n  active?: boolean\r\n  id: string\r\n}) {\r\n  const content = (\r\n    <OptionCardClickable id={id} onClick={onClick} clickable={clickable && !active} active={active}>\r\n      <OptionCardLeft>\r\n        <HeaderText color={color}>\r\n          {active ? (\r\n            <CircleWrapper>\r\n              <GreenCircle>\r\n                <div />\r\n              </GreenCircle>\r\n            </CircleWrapper>\r\n          ) : (\r\n            ''\r\n          )}\r\n          {header}\r\n        </HeaderText>\r\n        {subheader && <SubHeader>{subheader}</SubHeader>}\r\n      </OptionCardLeft>\r\n      <IconWrapper size={size}>\r\n        <img src={icon} alt={'Icon'} />\r\n      </IconWrapper>\r\n    </OptionCardClickable>\r\n  )\r\n  if (link) {\r\n    return <ExternalLink href={link}>{content}</ExternalLink>\r\n  }\r\n\r\n  return content\r\n}\r\n","import { AbstractConnector } from '@web3-react/abstract-connector'\r\nimport React from 'react'\r\nimport styled from 'styled-components'\r\nimport Option from './Option'\r\nimport { SUPPORTED_WALLETS } from '../../constants'\r\nimport { injected } from '../../connectors'\r\nimport { darken } from 'polished'\r\nimport Loader from '../Loader'\r\n\r\nconst PendingSection = styled.div`\r\n  ${({ theme }) => theme.flexColumnNoWrap};\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  & > * {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst StyledLoader = styled(Loader)`\r\n  margin-right: 1rem;\r\n`\r\n\r\nconst LoadingMessage = styled.div<{ error?: boolean }>`\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  border-radius: 12px;\r\n  margin-bottom: 20px;\r\n  color: ${({ theme, error }) => (error ? theme.red1 : 'inherit')};\r\n  border: 1px solid ${({ theme, error }) => (error ? theme.red1 : theme.text4)};\r\n\r\n  & > * {\r\n    padding: 1rem;\r\n  }\r\n`\r\n\r\nconst ErrorGroup = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n`\r\n\r\nconst ErrorButton = styled.div`\r\n  border-radius: 8px;\r\n  font-size: 12px;\r\n  color: ${({ theme }) => theme.text1};\r\n  background-color: ${({ theme }) => theme.bg4};\r\n  margin-left: 1rem;\r\n  padding: 0.5rem;\r\n  font-weight: 600;\r\n  user-select: none;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background-color: ${({ theme }) => darken(0.1, theme.text4)};\r\n  }\r\n`\r\n\r\nconst LoadingWrapper = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nexport default function PendingView({\r\n  connector,\r\n  error = false,\r\n  setPendingError,\r\n  tryActivation\r\n}: {\r\n  connector?: AbstractConnector\r\n  error?: boolean\r\n  setPendingError: (error: boolean) => void\r\n  tryActivation: (connector: AbstractConnector) => void\r\n}) {\r\n  const isMetamask = window?.ethereum?.isMetaMask\r\n\r\n  return (\r\n    <PendingSection>\r\n      <LoadingMessage error={error}>\r\n        <LoadingWrapper>\r\n          {error ? (\r\n            <ErrorGroup>\r\n              <div>Error connecting.</div>\r\n              <ErrorButton\r\n                onClick={() => {\r\n                  setPendingError(false)\r\n                  connector && tryActivation(connector)\r\n                }}\r\n              >\r\n                Try Again\r\n              </ErrorButton>\r\n            </ErrorGroup>\r\n          ) : (\r\n            <>\r\n              <StyledLoader />\r\n              Initializing...\r\n            </>\r\n          )}\r\n        </LoadingWrapper>\r\n      </LoadingMessage>\r\n      {Object.keys(SUPPORTED_WALLETS).map(key => {\r\n        const option = SUPPORTED_WALLETS[key]\r\n        if (option.connector === connector) {\r\n          if (option.connector === injected) {\r\n            if (isMetamask && option.name !== 'MetaMask') {\r\n              return null\r\n            }\r\n            if (!isMetamask && option.name === 'MetaMask') {\r\n              return null\r\n            }\r\n          }\r\n          return (\r\n            <Option\r\n              id={`connect-${key}`}\r\n              key={key}\r\n              clickable={false}\r\n              color={option.color}\r\n              header={option.name}\r\n              subheader={option.description}\r\n              icon={require('../../assets/images/' + option.iconName)}\r\n            />\r\n          )\r\n        }\r\n        return null\r\n      })}\r\n    </PendingSection>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport styled from 'styled-components'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { UnsupportedChainIdError, useWeb3React } from '@web3-react/core'\r\nimport usePrevious from '../../hooks/usePrevious'\r\nimport { useWalletModalOpen, useWalletModalToggle } from '../../state/application/hooks'\r\n\r\nimport Modal from '../Modal'\r\nimport AccountDetails from '../AccountDetails'\r\nimport PendingView from './PendingView'\r\nimport Option from './Option'\r\nimport { SUPPORTED_WALLETS } from '../../constants'\r\n// import { ExternalLink } from '../../theme'\r\nimport MetamaskIcon from '../../assets/images/metamask.png'\r\nimport { ReactComponent as Close } from '../../assets/images/x.svg'\r\nimport { injected, fortmatic, portis } from '../../connectors'\r\nimport { OVERLAY_READY } from '../../connectors/Fortmatic'\r\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\r\nimport { AbstractConnector } from '@web3-react/abstract-connector'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nconst CloseIcon = styled.div`\r\n  position: absolute;\r\n  right: 1rem;\r\n  top: 14px;\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n`\r\n\r\nconst CloseColor = styled(Close)`\r\n  path {\r\n    stroke: ${({ theme }) => theme.text4};\r\n  }\r\n`\r\n\r\nconst Wrapper = styled.div`\r\n  ${({ theme }) => theme.flexColumnNoWrap}\r\n  margin: 0;\r\n  padding: 0;\r\n  width: 100%;\r\n`\r\n\r\nconst HeaderRow = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  padding: 1rem 1rem;\r\n  font-weight: 500;\r\n  color: ${props => (props.color === 'blue' ? ({ theme }) => theme.primary1 : 'inherit')};\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    padding: 1rem;\r\n  `};\r\n`\r\n\r\nconst ContentWrapper = styled.div`\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  padding: 2rem;\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`padding: 1rem`};\r\n`\r\n\r\nconst UpperSection = styled.div`\r\n  position: relative;\r\n\r\n  h5 {\r\n    margin: 0;\r\n    margin-bottom: 0.5rem;\r\n    font-size: 1rem;\r\n    font-weight: 400;\r\n  }\r\n\r\n  h5:last-child {\r\n    margin-bottom: 0px;\r\n  }\r\n\r\n  h4 {\r\n    margin-top: 0;\r\n    font-weight: 500;\r\n  }\r\n`\r\n\r\n// const Blurb = styled.div`\r\n//   ${({ theme }) => theme.flexRowNoWrap}\r\n//   align-items: center;\r\n//   justify-content: center;\r\n//   flex-wrap: wrap;\r\n//   margin-top: 2rem;\r\n//   ${({ theme }) => theme.mediaWidth.upToMedium`\r\n//     margin: 1rem;\r\n//     font-size: 12px;\r\n//   `};\r\n// `\r\n\r\nconst OptionGrid = styled.div`\r\n  display: grid;\r\n  grid-gap: 10px;\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    grid-template-columns: 1fr;\r\n    grid-gap: 10px;\r\n  `};\r\n`\r\n\r\nconst HoverText = styled.div`\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst WALLET_VIEWS = {\r\n    OPTIONS: 'options',\r\n    OPTIONS_SECONDARY: 'options_secondary',\r\n    ACCOUNT: 'account',\r\n    PENDING: 'pending'\r\n}\r\n\r\nexport default function WalletModal({\r\n    pendingTransactions,\r\n    confirmedTransactions,\r\n    ENSName\r\n}: {\r\n    pendingTransactions: string[] // hashes of pending\r\n    confirmedTransactions: string[] // hashes of confirmed\r\n    ENSName?: string\r\n}) {\r\n    const { t } = useTranslation()\r\n\r\n    // important that these are destructed from the account-specific web3-react context\r\n    const { active, account, connector, activate, error } = useWeb3React()\r\n\r\n    const [walletView, setWalletView] = useState(WALLET_VIEWS.ACCOUNT)\r\n\r\n    const [pendingWallet, setPendingWallet] = useState<AbstractConnector | undefined>()\r\n\r\n    const [pendingError, setPendingError] = useState<boolean>()\r\n\r\n    const walletModalOpen = useWalletModalOpen()\r\n    const toggleWalletModal = useWalletModalToggle()\r\n\r\n    const previousAccount = usePrevious(account)\r\n\r\n    // close on connection, when logged out before\r\n    useEffect(() => {\r\n        if (account && !previousAccount && walletModalOpen) {\r\n            toggleWalletModal()\r\n        }\r\n    }, [account, previousAccount, toggleWalletModal, walletModalOpen])\r\n\r\n    // always reset to account view\r\n    useEffect(() => {\r\n        if (walletModalOpen) {\r\n            setPendingError(false)\r\n            setWalletView(WALLET_VIEWS.ACCOUNT)\r\n        }\r\n    }, [walletModalOpen])\r\n\r\n    // close modal when a connection is successful\r\n    const activePrevious = usePrevious(active)\r\n    const connectorPrevious = usePrevious(connector)\r\n    useEffect(() => {\r\n        if (walletModalOpen && ((active && !activePrevious) || (connector && connector !== connectorPrevious && !error))) {\r\n            setWalletView(WALLET_VIEWS.ACCOUNT)\r\n        }\r\n    }, [setWalletView, active, error, connector, walletModalOpen, activePrevious, connectorPrevious])\r\n\r\n    const tryActivation = async (connector: AbstractConnector | undefined) => {\r\n        let name = ''\r\n        Object.keys(SUPPORTED_WALLETS).map(key => {\r\n            if (connector === SUPPORTED_WALLETS[key].connector) {\r\n                return (name = SUPPORTED_WALLETS[key].name)\r\n            }\r\n            return true\r\n        })\r\n        // log selected wallet\r\n        ReactGA.event({\r\n            category: 'Wallet',\r\n            action: 'Change Wallet',\r\n            label: name\r\n        })\r\n        setPendingWallet(connector) // set wallet for pending view\r\n        setWalletView(WALLET_VIEWS.PENDING)\r\n\r\n        // if the connector is walletconnect and the user has already tried to connect, manually reset the connector\r\n        if (connector instanceof WalletConnectConnector && connector.walletConnectProvider?.wc?.uri) {\r\n            connector.walletConnectProvider = undefined\r\n        }\r\n\r\n        connector &&\r\n            activate(connector, undefined, true).catch(error => {\r\n                if (error instanceof UnsupportedChainIdError) {\r\n                    activate(connector) // a little janky...can't use setError because the connector isn't set\r\n                } else {\r\n                    setPendingError(true)\r\n                }\r\n            })\r\n    }\r\n\r\n    // close wallet modal if fortmatic modal is active\r\n    useEffect(() => {\r\n        fortmatic.on(OVERLAY_READY, () => {\r\n            toggleWalletModal()\r\n        })\r\n    }, [toggleWalletModal])\r\n\r\n    // get wallets user can switch too, depending on device/browser\r\n    function getOptions() {\r\n        const isMetamask = window.ethereum && window.ethereum.isMetaMask\r\n        return Object.keys(SUPPORTED_WALLETS).map(key => {\r\n            const option = SUPPORTED_WALLETS[key]\r\n            // check for mobile options\r\n            if (isMobile) {\r\n                //disable portis on mobile for now\r\n                if (option.connector === portis) {\r\n                    return null\r\n                }\r\n\r\n                if (!window.web3 && !window.ethereum && option.mobile) {\r\n                    return (\r\n                        <Option\r\n                            onClick={() => {\r\n                                option.connector !== connector && !option.href && tryActivation(option.connector)\r\n                            }}\r\n                            id={`connect-${key}`}\r\n                            key={key}\r\n                            active={option.connector && option.connector === connector}\r\n                            color={option.color}\r\n                            link={option.href}\r\n                            header={option.name}\r\n                            subheader={null}\r\n                            icon={require('../../assets/images/' + option.iconName)}\r\n                        />\r\n                    )\r\n                }\r\n                return null\r\n            }\r\n\r\n            // overwrite injected when needed\r\n            if (option.connector === injected) {\r\n                // don't show injected if there's no injected provider\r\n                if (!(window.web3 || window.ethereum)) {\r\n                    if (option.name === 'MetaMask') {\r\n                        return (\r\n                            <Option\r\n                                id={`connect-${key}`}\r\n                                key={key}\r\n                                color={'#E8831D'}\r\n                                header={'Install Metamask'}\r\n                                subheader={null}\r\n                                link={'https://metamask.io/'}\r\n                                icon={MetamaskIcon}\r\n                            />\r\n                        )\r\n                    } else {\r\n                        return null //dont want to return install twice\r\n                    }\r\n                }\r\n                // don't return metamask if injected provider isn't metamask\r\n                else if (option.name === 'MetaMask' && !isMetamask) {\r\n                    return null\r\n                }\r\n                // likewise for generic\r\n                else if (option.name === 'Injected' && isMetamask) {\r\n                    return null\r\n                }\r\n            }\r\n\r\n            // return rest of options\r\n            return (\r\n                !isMobile &&\r\n                !option.mobileOnly && (\r\n                    <Option\r\n                        id={`connect-${key}`}\r\n                        onClick={() => {\r\n                            option.connector === connector\r\n                                ? setWalletView(WALLET_VIEWS.ACCOUNT)\r\n                                : !option.href && tryActivation(option.connector)\r\n                        }}\r\n                        key={key}\r\n                        active={option.connector === connector}\r\n                        color={option.color}\r\n                        link={option.href}\r\n                        header={option.name}\r\n                        subheader={null} //use option.descriptio to bring back multi-line\r\n                        icon={require('../../assets/images/' + option.iconName)}\r\n                    />\r\n                )\r\n            )\r\n        })\r\n    }\r\n\r\n    function getModalContent() {\r\n        if (error) {\r\n            return (\r\n                <UpperSection>\r\n                    <CloseIcon onClick={toggleWalletModal}>\r\n                        <CloseColor />\r\n                    </CloseIcon>\r\n                    <HeaderRow>{error instanceof UnsupportedChainIdError ? 'ç½‘ç»œä¸æ”¯æŒ' : 'è¿žæŽ¥å‡ºé”™'}</HeaderRow>\r\n                    <ContentWrapper>\r\n                        {error instanceof UnsupportedChainIdError ? (\r\n                            <h5>è¯·åˆ‡æ¢åˆ°å¸å®‰é“¾æµ‹è¯•ç½‘ï¼Œå¦‚æžœæ²¡æœ‰å°±æ‰“å¼€ç½‘é¡µ: https://testnet.bscscan.comï¼Œç‚¹å‡»å³ä¸‹è§’Add BSC Networkæ·»åŠ ç½‘ç»œ</h5>\r\n                        ) : (\r\n                            'ç½‘ç»œé”™è¯¯ï¼Œè¯·åˆ·æ–°é¡µé¢'\r\n                        )}\r\n                    </ContentWrapper>\r\n                </UpperSection>\r\n            )\r\n        }\r\n        if (account && walletView === WALLET_VIEWS.ACCOUNT) {\r\n            return (\r\n                <AccountDetails\r\n                    toggleWalletModal={toggleWalletModal}\r\n                    pendingTransactions={pendingTransactions}\r\n                    confirmedTransactions={confirmedTransactions}\r\n                    ENSName={ENSName}\r\n                    openOptions={() => setWalletView(WALLET_VIEWS.OPTIONS)}\r\n                />\r\n            )\r\n        }\r\n        return (\r\n            <UpperSection>\r\n                <CloseIcon onClick={toggleWalletModal}>\r\n                    <CloseColor />\r\n                </CloseIcon>\r\n                {walletView !== WALLET_VIEWS.ACCOUNT ? (\r\n                    <HeaderRow color=\"blue\">\r\n                        <HoverText\r\n                            onClick={() => {\r\n                                setPendingError(false)\r\n                                setWalletView(WALLET_VIEWS.ACCOUNT)\r\n                            }}\r\n                        >\r\n                            è¿”å›ž\r\n                        </HoverText>\r\n                    </HeaderRow>\r\n                ) : (\r\n                    <HeaderRow>\r\n                        <HoverText>{t('connectWallet')}</HoverText>\r\n                    </HeaderRow>\r\n                )}\r\n                <ContentWrapper>\r\n                    {walletView === WALLET_VIEWS.PENDING ? (\r\n                        <PendingView\r\n                            connector={pendingWallet}\r\n                            error={pendingError}\r\n                            setPendingError={setPendingError}\r\n                            tryActivation={tryActivation}\r\n                        />\r\n                    ) : (\r\n                        <OptionGrid>{getOptions()}</OptionGrid>\r\n                    )}\r\n                </ContentWrapper>\r\n            </UpperSection>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Modal isOpen={walletModalOpen} onDismiss={toggleWalletModal} minHeight={false} maxHeight={90}>\r\n            <Wrapper>{getModalContent()}</Wrapper>\r\n        </Modal>\r\n    )\r\n}\r\n","import { AbstractConnector } from '@web3-react/abstract-connector'\r\nimport { UnsupportedChainIdError, useWeb3React } from '@web3-react/core'\r\nimport { darken, lighten } from 'polished'\r\nimport React, { useMemo } from 'react'\r\nimport { Activity } from 'react-feather'\r\nimport { useTranslation } from 'react-i18next'\r\nimport styled, { css } from 'styled-components'\r\nimport CoinbaseWalletIcon from '../../assets/images/coinbaseWalletIcon.svg'\r\nimport FortmaticIcon from '../../assets/images/fortmaticIcon.png'\r\nimport PortisIcon from '../../assets/images/portisIcon.png'\r\nimport WalletConnectIcon from '../../assets/images/walletConnectIcon.svg'\r\nimport { fortmatic, injected, portis, walletconnect, walletlink } from '../../connectors'\r\nimport { NetworkContextName } from '../../constants'\r\nimport useENSName from '../../hooks/useENSName'\r\nimport { useHasSocks } from '../../hooks/useSocksBalance'\r\nimport { useWalletModalToggle } from '../../state/application/hooks'\r\nimport { isTransactionRecent, useAllTransactions } from '../../state/transactions/hooks'\r\nimport { TransactionDetails } from '../../state/transactions/reducer'\r\nimport { shortenAddress } from '../../utils'\r\nimport { ButtonSecondary } from '../Button'\r\n\r\nimport Identicon from '../Identicon'\r\nimport Loader from '../Loader'\r\n\r\nimport { RowBetween } from '../Row'\r\nimport WalletModal from '../WalletModal'\r\n\r\nconst IconWrapper = styled.div<{ size?: number }>`\r\n  ${({ theme }) => theme.flexColumnNoWrap};\r\n  align-items: center;\r\n  justify-content: center;\r\n  & > * {\r\n    height: ${({ size }) => (size ? size + 'px' : '32px')};\r\n    width: ${({ size }) => (size ? size + 'px' : '32px')};\r\n  }\r\n`\r\n\r\nconst Web3StatusGeneric = styled(ButtonSecondary)`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  width: 100%;\r\n  align-items: center;\r\n  padding: 0.5rem;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  :focus {\r\n    outline: none;\r\n  }\r\n`\r\nconst Web3StatusError = styled(Web3StatusGeneric)`\r\n  background-color: ${({ theme }) => theme.red1};\r\n  border: 1px solid ${({ theme }) => theme.red1};\r\n  color: ${({ theme }) => theme.white};\r\n  font-weight: 500;\r\n  :hover,\r\n  :focus {\r\n    background-color: ${({ theme }) => darken(0.1, theme.red1)};\r\n  }\r\n`\r\n\r\nconst Web3StatusConnect = styled(Web3StatusGeneric)<{ faded?: boolean }>`\r\n  background-color: ${({ theme }) => theme.primary4};\r\n  border: none;\r\n  color: ${({ theme }) => theme.primaryText1};\r\n  font-weight: 500;\r\n\r\n  :hover,\r\n  :focus {\r\n    border: 1px solid ${({ theme }) => darken(0.05, theme.primary4)};\r\n    color: ${({ theme }) => theme.primaryText1};\r\n  }\r\n\r\n  ${({ faded }) =>\r\n    faded &&\r\n    css`\r\n      background-color: ${({ theme }) => theme.primary5};\r\n      border: 1px solid ${({ theme }) => theme.primary5};\r\n      color: ${({ theme }) => theme.primaryText1};\r\n\r\n      :hover,\r\n      :focus {\r\n        border: 1px solid ${({ theme }) => darken(0.05, theme.primary4)};\r\n        color: ${({ theme }) => darken(0.05, theme.primaryText1)};\r\n      }\r\n    `}\r\n`\r\n\r\nconst Web3StatusConnected = styled(Web3StatusGeneric)<{ pending?: boolean }>`\r\n  background-color: ${({ pending, theme }) => (pending ? theme.primary1 : theme.bg2)};\r\n  border: 1px solid ${({ pending, theme }) => (pending ? theme.primary1 : theme.bg3)};\r\n  color: ${({ pending, theme }) => (pending ? theme.white : theme.text1)};\r\n  font-weight: 500;\r\n  :hover,\r\n  :focus {\r\n    background-color: ${({ pending, theme }) => (pending ? darken(0.05, theme.primary1) : lighten(0.05, theme.bg2))};\r\n\r\n    :focus {\r\n      border: 1px solid ${({ pending, theme }) => (pending ? darken(0.1, theme.primary1) : darken(0.1, theme.bg3))};\r\n    }\r\n  }\r\n`\r\n\r\nconst Text = styled.p`\r\n  flex: 1 1 auto;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  margin: 0 0.5rem 0 0.25rem;\r\n  font-size: 1rem;\r\n  width: fit-content;\r\n  font-weight: 500;\r\n`\r\n\r\nconst NetworkIcon = styled(Activity)`\r\n  margin-left: 0.25rem;\r\n  margin-right: 0.5rem;\r\n  width: 16px;\r\n  height: 16px;\r\n`\r\n\r\n// we want the latest one to come first, so return negative if a is after b\r\nfunction newTransactionsFirst(a: TransactionDetails, b: TransactionDetails) {\r\n  return b.addedTime - a.addedTime\r\n}\r\n\r\nconst SOCK = (\r\n  <span role=\"img\" aria-label=\"has socks emoji\" style={{ marginTop: -4, marginBottom: -4 }}>\r\n    ðŸ§¦\r\n  </span>\r\n)\r\n\r\n// eslint-disable-next-line react/prop-types\r\nfunction StatusIcon({ connector }: { connector: AbstractConnector }) {\r\n  if (connector === injected) {\r\n    return <Identicon />\r\n  } else if (connector === walletconnect) {\r\n    return (\r\n      <IconWrapper size={16}>\r\n        <img src={WalletConnectIcon} alt={''} />\r\n      </IconWrapper>\r\n    )\r\n  } else if (connector === walletlink) {\r\n    return (\r\n      <IconWrapper size={16}>\r\n        <img src={CoinbaseWalletIcon} alt={''} />\r\n      </IconWrapper>\r\n    )\r\n  } else if (connector === fortmatic) {\r\n    return (\r\n      <IconWrapper size={16}>\r\n        <img src={FortmaticIcon} alt={''} />\r\n      </IconWrapper>\r\n    )\r\n  } else if (connector === portis) {\r\n    return (\r\n      <IconWrapper size={16}>\r\n        <img src={PortisIcon} alt={''} />\r\n      </IconWrapper>\r\n    )\r\n  }\r\n  return null\r\n}\r\n\r\nfunction Web3StatusInner() {\r\n  const { t } = useTranslation()\r\n  const { account, connector, error } = useWeb3React()\r\n\r\n  const { ENSName } = useENSName(account ?? undefined)\r\n\r\n  const allTransactions = useAllTransactions()\r\n\r\n  const sortedRecentTransactions = useMemo(() => {\r\n    const txs = Object.values(allTransactions)\r\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\r\n  }, [allTransactions])\r\n\r\n  const pending = sortedRecentTransactions.filter(tx => !tx.receipt).map(tx => tx.hash)\r\n\r\n  const hasPendingTransactions = !!pending.length\r\n  const hasSocks = useHasSocks()\r\n  const toggleWalletModal = useWalletModalToggle()\r\n\r\n  if (account) {\r\n    return (\r\n      <Web3StatusConnected id=\"web3-status-connected\" onClick={toggleWalletModal} pending={hasPendingTransactions}>\r\n        {hasPendingTransactions ? (\r\n          <RowBetween>\r\n            <Text>{pending?.length} Pending</Text> <Loader stroke=\"white\" />\r\n          </RowBetween>\r\n        ) : (\r\n          <>\r\n            {hasSocks ? SOCK : null}\r\n            <Text>{ENSName || shortenAddress(account)}</Text>\r\n          </>\r\n        )}\r\n        {!hasPendingTransactions && connector && <StatusIcon connector={connector} />}\r\n      </Web3StatusConnected>\r\n    )\r\n  } else if (error) {\r\n    return (\r\n      <Web3StatusError onClick={toggleWalletModal}>\r\n        <NetworkIcon />\r\n            <Text>{error instanceof UnsupportedChainIdError ? 'ç½‘ç»œä¸æ”¯æŒ' : 'é”™è¯¯'}</Text>\r\n      </Web3StatusError>\r\n    )\r\n  } else {\r\n    return (\r\n      <Web3StatusConnect id=\"connect-wallet\" onClick={toggleWalletModal} faded={!account}>\r\n        <Text>{t('Connect to a wallet')}</Text>\r\n      </Web3StatusConnect>\r\n    )\r\n  }\r\n}\r\n\r\nexport default function Web3Status() {\r\n  const { active, account } = useWeb3React()\r\n  const contextNetwork = useWeb3React(NetworkContextName)\r\n\r\n  const { ENSName } = useENSName(account ?? undefined)\r\n\r\n  const allTransactions = useAllTransactions()\r\n\r\n  const sortedRecentTransactions = useMemo(() => {\r\n    const txs = Object.values(allTransactions)\r\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\r\n  }, [allTransactions])\r\n\r\n  const pending = sortedRecentTransactions.filter(tx => !tx.receipt).map(tx => tx.hash)\r\n  const confirmed = sortedRecentTransactions.filter(tx => tx.receipt).map(tx => tx.hash)\r\n\r\n  if (!contextNetwork.active && !active) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Web3StatusInner />\r\n      <WalletModal ENSName={ENSName ?? undefined} pendingTransactions={pending} confirmedTransactions={confirmed} />\r\n    </>\r\n  )\r\n}\r\n","import { ChainId } from '@tianheng2017/dex-sdk'\r\nimport React from 'react'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { Text } from 'rebass'\r\n\r\nimport styled from 'styled-components'\r\n\r\nimport Logo from '../../assets/svg/logo.svg'\r\nimport LogoDark from '../../assets/svg/logo_white.svg'\r\n// import Wordmark from '../../assets/svg/wordmark.svg'\r\n// import WordmarkDark from '../../assets/svg/wordmark_white.svg'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useDarkModeManager } from '../../state/user/hooks'\r\nimport { useETHBalances } from '../../state/wallet/hooks'\r\n\r\nimport { YellowCard } from '../Card'\r\nimport Settings from '../Settings'\r\nimport Menu from '../Menu'\r\n\r\nimport { RowBetween } from '../Row'\r\nimport Web3Status from '../Web3Status'\r\n// import VersionSwitch from './VersionSwitch'\r\n\r\nconst HeaderFrame = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  top: 0;\r\n  position: absolute;\r\n  z-index: 2;\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    padding: 12px 0 0 0;\r\n    width: calc(100%);\r\n    position: relative;\r\n  `};\r\n`\r\n\r\nconst HeaderElement = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nconst HeaderElementWrap = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    margin-top: 0.5rem;\r\n`};\r\n`\r\n\r\nconst Title = styled.a`\r\n  display: flex;\r\n  align-items: center;\r\n  pointer-events: auto;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst AccountElement = styled.div<{ active: boolean }>`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  background-color: ${({ theme, active }) => (!active ? theme.bg1 : theme.bg3)};\r\n  border-radius: 12px;\r\n  white-space: nowrap;\r\n  width: 100%;\r\n\r\n  :focus {\r\n    border: 1px solid blue;\r\n  }\r\n`\r\n\r\nconst TestnetWrapper = styled.div`\r\n  white-space: nowrap;\r\n  width: fit-content;\r\n  margin-left: 10px;\r\n  pointer-events: auto;\r\n`\r\n\r\nconst NetworkCard = styled(YellowCard)`\r\n  width: fit-content;\r\n  margin-right: 10px;\r\n  border-radius: 12px;\r\n  padding: 8px 12px;\r\n`\r\n\r\nconst UniIcon = styled.div`\r\n  transition: transform 0.3s ease;\r\n  :hover {\r\n    transform: rotate(-5deg);\r\n  }\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    img { \r\n      width: 4.5rem;\r\n    }\r\n  `};\r\n`\r\n\r\nconst HeaderControls = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n  `};\r\n`\r\n\r\nconst BalanceText = styled(Text)`\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    display: none;\r\n  `};\r\n`\r\n\r\nconst NETWORK_LABELS: { [chainId in ChainId]: string | null } = {\r\n  [ChainId.MAINNET]: null,\r\n  [ChainId.RINKEBY]: 'Rinkeby',\r\n  [ChainId.ROPSTEN]: 'Ropsten',\r\n  [ChainId.GÃ–RLI]: 'GÃ¶rli',\r\n  [ChainId.KOVAN]: 'Kovan',\r\n  [ChainId.BSCTEST]: 'BSCæµ‹è¯•ç½‘',\r\n}\r\n\r\nexport default function Header() {\r\n  const { account, chainId } = useActiveWeb3React()\r\n\r\n  const userEthBalance = useETHBalances(account ? [account] : [])?.[account ?? '']\r\n  const [isDark] = useDarkModeManager()\r\n\r\n  return (\r\n    <HeaderFrame>\r\n      <RowBetween style={{ alignItems: 'flex-start' }} padding=\"1rem 1rem 0 1rem\">\r\n        <HeaderElement>\r\n          <Title href=\".\">\r\n            <UniIcon>\r\n              <img src={isDark ? LogoDark : Logo} alt=\"logo\" />\r\n            </UniIcon>\r\n          </Title>\r\n        </HeaderElement>\r\n        <HeaderControls>\r\n          <HeaderElement>\r\n            <TestnetWrapper>\r\n              {!isMobile && chainId && NETWORK_LABELS[chainId] && <NetworkCard>{NETWORK_LABELS[chainId]}</NetworkCard>}\r\n            </TestnetWrapper>\r\n            <AccountElement active={!!account} style={{ pointerEvents: 'auto' }}>\r\n              {account && userEthBalance ? (\r\n                <BalanceText style={{ flexShrink: 0 }} pl=\"0.75rem\" pr=\"0.5rem\" fontWeight={500}>\r\n                  {userEthBalance?.toSignificant(4)} ETH\r\n                </BalanceText>\r\n              ) : null}\r\n              <Web3Status />\r\n            </AccountElement>\r\n          </HeaderElement>\r\n          <HeaderElementWrap>\r\n            <Settings />\r\n            <Menu />\r\n          </HeaderElementWrap>\r\n        </HeaderControls>\r\n      </RowBetween>\r\n    </HeaderFrame>\r\n  )\r\n}\r\n","import { ActionCreatorWithPayload, createAction } from '@reduxjs/toolkit'\r\nimport { TokenList, Version } from '@uniswap/token-lists'\r\n\r\nexport const fetchTokenList: Readonly<{\r\n  pending: ActionCreatorWithPayload<{ url: string; requestId: string }>\r\n  fulfilled: ActionCreatorWithPayload<{ url: string; tokenList: TokenList; requestId: string }>\r\n  rejected: ActionCreatorWithPayload<{ url: string; errorMessage: string; requestId: string }>\r\n}> = {\r\n  pending: createAction('lists/fetchTokenList/pending'),\r\n  fulfilled: createAction('lists/fetchTokenList/fulfilled'),\r\n  rejected: createAction('lists/fetchTokenList/rejected')\r\n}\r\n\r\nexport const acceptListUpdate = createAction<string>('lists/acceptListUpdate')\r\nexport const addList = createAction<string>('lists/addList')\r\nexport const removeList = createAction<string>('lists/removeList')\r\nexport const selectList = createAction<string>('lists/selectList')\r\nexport const rejectVersionUpdate = createAction<Version>('lists/rejectVersionUpdate')\r\n","import { Version } from '@uniswap/token-lists'\r\n\r\nexport default function listVersionLabel(version: Version): string {\r\n  return `v${version.major}.${version.minor}.${version.patch}`\r\n}\r\n","import { diffTokenLists, TokenList } from '@uniswap/token-lists'\r\nimport React, { useCallback, useMemo } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Text } from 'rebass'\r\nimport { AppDispatch } from '../../state'\r\nimport { useRemovePopup } from '../../state/application/hooks'\r\nimport { acceptListUpdate } from '../../state/lists/actions'\r\nimport { TYPE } from '../../theme'\r\nimport listVersionLabel from '../../utils/listVersionLabel'\r\nimport { ButtonSecondary } from '../Button'\r\nimport { AutoColumn } from '../Column'\r\nimport { AutoRow } from '../Row'\r\n\r\nexport default function ListUpdatePopup({\r\n  popKey,\r\n  listUrl,\r\n  oldList,\r\n  newList,\r\n  auto\r\n}: {\r\n  popKey: string\r\n  listUrl: string\r\n  oldList: TokenList\r\n  newList: TokenList\r\n  auto: boolean\r\n}) {\r\n  const removePopup = useRemovePopup()\r\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup])\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  const handleAcceptUpdate = useCallback(() => {\r\n    if (auto) return\r\n    ReactGA.event({\r\n      category: 'Lists',\r\n      action: 'Update List from Popup',\r\n      label: listUrl\r\n    })\r\n    dispatch(acceptListUpdate(listUrl))\r\n    removeThisPopup()\r\n  }, [auto, dispatch, listUrl, removeThisPopup])\r\n\r\n  const { added: tokensAdded, changed: tokensChanged, removed: tokensRemoved } = useMemo(() => {\r\n    return diffTokenLists(oldList.tokens, newList.tokens)\r\n  }, [newList.tokens, oldList.tokens])\r\n  const numTokensChanged = useMemo(\r\n    () =>\r\n      Object.keys(tokensChanged).reduce((memo, chainId: any) => memo + Object.keys(tokensChanged[chainId]).length, 0),\r\n    [tokensChanged]\r\n  )\r\n\r\n  return (\r\n    <AutoRow>\r\n      <AutoColumn style={{ flex: '1' }} gap=\"8px\">\r\n        {auto ? (\r\n          <TYPE.body fontWeight={500}>\r\n            The token list &quot;{oldList.name}&quot; has been updated to{' '}\r\n            <strong>{listVersionLabel(newList.version)}</strong>.\r\n          </TYPE.body>\r\n        ) : (\r\n          <>\r\n            <div>\r\n              <Text>\r\n                An update is available for the token list &quot;{oldList.name}&quot; (\r\n                {listVersionLabel(oldList.version)} to {listVersionLabel(newList.version)}).\r\n              </Text>\r\n              <ul>\r\n                {tokensAdded.length > 0 ? (\r\n                  <li>\r\n                    {tokensAdded.map((token, i) => (\r\n                      <React.Fragment key={`${token.chainId}-${token.address}`}>\r\n                        <strong title={token.address}>{token.symbol}</strong>\r\n                        {i === tokensAdded.length - 1 ? null : ', '}\r\n                      </React.Fragment>\r\n                    ))}{' '}\r\n                    added\r\n                  </li>\r\n                ) : null}\r\n                {tokensRemoved.length > 0 ? (\r\n                  <li>\r\n                    {tokensRemoved.map((token, i) => (\r\n                      <React.Fragment key={`${token.chainId}-${token.address}`}>\r\n                        <strong title={token.address}>{token.symbol}</strong>\r\n                        {i === tokensRemoved.length - 1 ? null : ', '}\r\n                      </React.Fragment>\r\n                    ))}{' '}\r\n                    removed\r\n                  </li>\r\n                ) : null}\r\n                {numTokensChanged > 0 ? <li>{numTokensChanged} tokens updated</li> : null}\r\n              </ul>\r\n            </div>\r\n            <AutoRow>\r\n              <div style={{ flexGrow: 1, marginRight: 12 }}>\r\n                <ButtonSecondary onClick={handleAcceptUpdate}>Accept update</ButtonSecondary>\r\n              </div>\r\n              <div style={{ flexGrow: 1 }}>\r\n                <ButtonSecondary onClick={removeThisPopup}>Dismiss</ButtonSecondary>\r\n              </div>\r\n            </AutoRow>\r\n          </>\r\n        )}\r\n      </AutoColumn>\r\n    </AutoRow>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { AlertCircle, CheckCircle } from 'react-feather'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { TYPE } from '../../theme'\r\nimport { ExternalLink } from '../../theme/components'\r\nimport { getEtherscanLink } from '../../utils'\r\nimport { AutoColumn } from '../Column'\r\nimport { AutoRow } from '../Row'\r\n\r\nconst RowNoFlex = styled(AutoRow)`\r\n  flex-wrap: nowrap;\r\n`\r\n\r\nexport default function TransactionPopup({\r\n  hash,\r\n  success,\r\n  summary\r\n}: {\r\n  hash: string\r\n  success?: boolean\r\n  summary?: string\r\n}) {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const theme = useContext(ThemeContext)\r\n\r\n  return (\r\n    <RowNoFlex>\r\n      <div style={{ paddingRight: 16 }}>\r\n        {success ? <CheckCircle color={theme.green1} size={24} /> : <AlertCircle color={theme.red1} size={24} />}\r\n      </div>\r\n      <AutoColumn gap=\"8px\">\r\n        <TYPE.body fontWeight={500}>{summary ?? 'Hash: ' + hash.slice(0, 8) + '...' + hash.slice(58, 65)}</TYPE.body>\r\n        {chainId && (\r\n                  <ExternalLink href={getEtherscanLink(chainId, hash, 'transaction')}>æŸ¥çœ‹Bscscan</ExternalLink>\r\n        )}\r\n      </AutoColumn>\r\n    </RowNoFlex>\r\n  )\r\n}\r\n","import React, { useCallback, useContext, useEffect } from 'react'\r\nimport { X } from 'react-feather'\r\nimport { useSpring } from 'react-spring/web'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { animated } from 'react-spring'\r\nimport { PopupContent } from '../../state/application/actions'\r\nimport { useRemovePopup } from '../../state/application/hooks'\r\nimport ListUpdatePopup from './ListUpdatePopup'\r\nimport TransactionPopup from './TransactionPopup'\r\n\r\nexport const StyledClose = styled(X)`\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 10px;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\nexport const Popup = styled.div`\r\n  display: inline-block;\r\n  width: 100%;\r\n  padding: 1em;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  position: relative;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  padding-right: 35px;\r\n  overflow: hidden;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    min-width: 290px;\r\n  `}\r\n`\r\nconst Fader = styled.div`\r\n  position: absolute;\r\n  bottom: 0px;\r\n  left: 0px;\r\n  width: 100%;\r\n  height: 2px;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n`\r\n\r\nconst AnimatedFader = animated(Fader)\r\n\r\nexport default function PopupItem({\r\n  removeAfterMs,\r\n  content,\r\n  popKey\r\n}: {\r\n  removeAfterMs: number | null\r\n  content: PopupContent\r\n  popKey: string\r\n}) {\r\n  const removePopup = useRemovePopup()\r\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup])\r\n  useEffect(() => {\r\n    if (removeAfterMs === null) return undefined\r\n\r\n    const timeout = setTimeout(() => {\r\n      removeThisPopup()\r\n    }, removeAfterMs)\r\n\r\n    return () => {\r\n      clearTimeout(timeout)\r\n    }\r\n  }, [removeAfterMs, removeThisPopup])\r\n\r\n  const theme = useContext(ThemeContext)\r\n\r\n  let popupContent\r\n  if ('txn' in content) {\r\n    const {\r\n      txn: { hash, success, summary }\r\n    } = content\r\n    popupContent = <TransactionPopup hash={hash} success={success} summary={summary} />\r\n  } else if ('listUpdate' in content) {\r\n    const {\r\n      listUpdate: { listUrl, oldList, newList, auto }\r\n    } = content\r\n    popupContent = <ListUpdatePopup popKey={popKey} listUrl={listUrl} oldList={oldList} newList={newList} auto={auto} />\r\n  }\r\n\r\n  const faderStyle = useSpring({\r\n    from: { width: '100%' },\r\n    to: { width: '0%' },\r\n    config: { duration: removeAfterMs ?? undefined }\r\n  })\r\n\r\n  return (\r\n    <Popup>\r\n      <StyledClose color={theme.text2} onClick={removeThisPopup} />\r\n      {popupContent}\r\n      {removeAfterMs !== null ? <AnimatedFader style={faderStyle} /> : null}\r\n    </Popup>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { useActivePopups } from '../../state/application/hooks'\r\nimport { AutoColumn } from '../Column'\r\nimport PopupItem from './PopupItem'\r\n\r\nconst MobilePopupWrapper = styled.div<{ height: string | number }>`\r\n  position: relative;\r\n  max-width: 100%;\r\n  height: ${({ height }) => height};\r\n  margin: ${({ height }) => (height ? '0 auto;' : 0)};\r\n  margin-bottom: ${({ height }) => (height ? '20px' : 0)}};\r\n\r\n  display: none;\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    display: block;\r\n  `};\r\n`\r\n\r\nconst MobilePopupInner = styled.div`\r\n  height: 99%;\r\n  overflow-x: auto;\r\n  overflow-y: hidden;\r\n  display: flex;\r\n  flex-direction: row;\r\n  -webkit-overflow-scrolling: touch;\r\n  ::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst FixedPopupColumn = styled(AutoColumn)`\r\n  position: fixed;\r\n  top: 64px;\r\n  right: 1rem;\r\n  max-width: 355px !important;\r\n  width: 100%;\r\n  z-index: 2;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    display: none;\r\n  `};\r\n`\r\n\r\nexport default function Popups() {\r\n  // get all popups\r\n  const activePopups = useActivePopups()\r\n\r\n  return (\r\n    <>\r\n      <FixedPopupColumn gap=\"20px\">\r\n        {activePopups.map(item => (\r\n          <PopupItem key={item.key} content={item.content} popKey={item.key} removeAfterMs={item.removeAfterMs} />\r\n        ))}\r\n      </FixedPopupColumn>\r\n      <MobilePopupWrapper height={activePopups?.length > 0 ? 'fit-content' : 0}>\r\n        <MobilePopupInner>\r\n          {activePopups // reverse so new items up front\r\n            .slice(0)\r\n            .reverse()\r\n            .map(item => (\r\n              <PopupItem key={item.key} content={item.content} popKey={item.key} removeAfterMs={item.removeAfterMs} />\r\n            ))}\r\n        </MobilePopupInner>\r\n      </MobilePopupWrapper>\r\n    </>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport styled from 'styled-components'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport { network } from '../../connectors'\r\nimport { useEagerConnect, useInactiveListener } from '../../hooks'\r\nimport { NetworkContextName } from '../../constants'\r\nimport Loader from '../Loader'\r\n\r\nconst MessageWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 20rem;\r\n`\r\n\r\nconst Message = styled.h2`\r\n  color: ${({ theme }) => theme.secondary1};\r\n`\r\n\r\nexport default function Web3ReactManager({ children }: { children: JSX.Element }) {\r\n  const { t } = useTranslation()\r\n  const { active } = useWeb3React()\r\n  const { active: networkActive, error: networkError, activate: activateNetwork } = useWeb3React(NetworkContextName)\r\n\r\n  // try to eagerly connect to an injected provider, if it exists and has granted access already\r\n  const triedEager = useEagerConnect()\r\n\r\n  // after eagerly trying injected, if the network connect ever isn't active or in an error state, activate itd\r\n  useEffect(() => {\r\n    if (triedEager && !networkActive && !networkError && !active) {\r\n      activateNetwork(network)\r\n    }\r\n  }, [triedEager, networkActive, networkError, activateNetwork, active])\r\n\r\n  // when there's no account connected, react to logins (broadly speaking) on the injected provider, if it exists\r\n  useInactiveListener(!triedEager)\r\n\r\n  // handle delayed loader state\r\n  const [showLoader, setShowLoader] = useState(false)\r\n  useEffect(() => {\r\n    const timeout = setTimeout(() => {\r\n      setShowLoader(true)\r\n    }, 600)\r\n\r\n    return () => {\r\n      clearTimeout(timeout)\r\n    }\r\n  }, [])\r\n\r\n  // on page load, do nothing until we've tried to connect to the injected connector\r\n  if (!triedEager) {\r\n    return null\r\n  }\r\n\r\n  // if the account context isn't active, and there's an error on the network context, it's an irrecoverable error\r\n  if (!active && networkError) {\r\n    return (\r\n      <MessageWrapper>\r\n        <Message>{t('unknownError')}</Message>\r\n      </MessageWrapper>\r\n    )\r\n  }\r\n\r\n  // if neither context is active, spin\r\n  if (!active && !networkActive) {\r\n    return showLoader ? (\r\n      <MessageWrapper>\r\n        <Loader />\r\n      </MessageWrapper>\r\n    ) : null\r\n  }\r\n\r\n  return children\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { RouteComponentProps } from 'react-router-dom'\r\nimport { parse } from 'qs'\r\nimport { AppDispatch } from '../state'\r\nimport { updateUserDarkMode } from '../state/user/actions'\r\n\r\nexport default function DarkModeQueryParamReader({ location: { search } }: RouteComponentProps): null {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  useEffect(() => {\r\n    if (!search) return\r\n    if (search.length < 2) return\r\n\r\n    const parsed = parse(search, {\r\n      parseArrays: false,\r\n      ignoreQueryPrefix: true\r\n    })\r\n\r\n    const theme = parsed.theme\r\n\r\n    if (typeof theme !== 'string') return\r\n\r\n    if (theme.toLowerCase() === 'light') {\r\n      dispatch(updateUserDarkMode({ userDarkMode: false }))\r\n    } else if (theme.toLowerCase() === 'dark') {\r\n      dispatch(updateUserDarkMode({ userDarkMode: true }))\r\n    }\r\n  }, [dispatch, search])\r\n\r\n  return null\r\n}\r\n","import { ChainId } from '@tianheng2017/dex-sdk'\r\nimport React, { useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport Modal from '../Modal'\r\nimport { ExternalLink } from '../../theme'\r\nimport { Text } from 'rebass'\r\nimport { CloseIcon, Spinner } from '../../theme/components'\r\nimport { RowBetween } from '../Row'\r\nimport { AlertTriangle, ArrowUpCircle } from 'react-feather'\r\nimport { ButtonPrimary } from '../Button'\r\nimport { AutoColumn, ColumnCenter } from '../Column'\r\nimport Circle from '../../assets/images/blue-loader.svg'\r\n\r\nimport { getEtherscanLink } from '../../utils'\r\nimport { useActiveWeb3React } from '../../hooks'\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n`\r\nconst Section = styled(AutoColumn)`\r\n  padding: 24px;\r\n`\r\n\r\nconst BottomSection = styled(Section)`\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n`\r\n\r\nconst ConfirmedIcon = styled(ColumnCenter)`\r\n  padding: 60px 0;\r\n`\r\n\r\nconst CustomLightSpinner = styled(Spinner) <{ size: string }>`\r\n  height: ${({ size }) => size};\r\n  width: ${({ size }) => size};\r\n`\r\n\r\nfunction ConfirmationPendingContent({ onDismiss, pendingText }: { onDismiss: () => void; pendingText: string }) {\r\n    return (\r\n        <Wrapper>\r\n            <Section>\r\n                <RowBetween>\r\n                    <div />\r\n                    <CloseIcon onClick={onDismiss} />\r\n                </RowBetween>\r\n                <ConfirmedIcon>\r\n                    <CustomLightSpinner src={Circle} alt=\"loader\" size={'90px'} />\r\n                </ConfirmedIcon>\r\n                <AutoColumn gap=\"12px\" justify={'center'}>\r\n                    <Text fontWeight={500} fontSize={20}>\r\n                        ç¡®è®¤ä¸­ï¼Œè¯·ç¨å€™\r\n                    </Text>\r\n                    <AutoColumn gap=\"12px\" justify={'center'}>\r\n                        <Text fontWeight={600} fontSize={14} color=\"\" textAlign=\"center\">\r\n                            {pendingText}\r\n                        </Text>\r\n                    </AutoColumn>\r\n                    <Text fontSize={12} color=\"#565A69\" textAlign=\"center\">\r\n                        è¯·åœ¨ä½ é’±åŒ…ç¡®è®¤æ­¤ç¬”äº¤æ˜“\r\n                    </Text>\r\n                </AutoColumn>\r\n            </Section>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nfunction TransactionSubmittedContent({\r\n    onDismiss,\r\n    chainId,\r\n    hash\r\n}: {\r\n    onDismiss: () => void\r\n    hash: string | undefined\r\n    chainId: ChainId\r\n}) {\r\n    const theme = useContext(ThemeContext)\r\n\r\n    return (\r\n        <Wrapper>\r\n            <Section>\r\n                <RowBetween>\r\n                    <div />\r\n                    <CloseIcon onClick={onDismiss} />\r\n                </RowBetween>\r\n                <ConfirmedIcon>\r\n                    <ArrowUpCircle strokeWidth={0.5} size={90} color={theme.primary1} />\r\n                </ConfirmedIcon>\r\n                <AutoColumn gap=\"12px\" justify={'center'}>\r\n                    <Text fontWeight={500} fontSize={20}>\r\n                        Transaction Submitted\r\n                    </Text>\r\n\r\n                    {chainId && hash && (\r\n                        <ExternalLink href={getEtherscanLink(chainId, hash, 'transaction')}>\r\n                            <Text fontWeight={500} fontSize={14} color={theme.primary1}>\r\n                                æŸ¥çœ‹Bscscan\r\n                            </Text>\r\n                        </ExternalLink>\r\n                    )}\r\n                    <ButtonPrimary onClick={onDismiss} style={{ margin: '20px 0 0 0' }}>\r\n                        <Text fontWeight={500} fontSize={20}>\r\n                            Close\r\n                        </Text>\r\n                    </ButtonPrimary>\r\n                </AutoColumn>\r\n            </Section>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nexport function ConfirmationModalContent({\r\n    title,\r\n    bottomContent,\r\n    onDismiss,\r\n    topContent\r\n}: {\r\n    title: string\r\n    onDismiss: () => void\r\n    topContent: () => React.ReactNode\r\n    bottomContent: () => React.ReactNode\r\n}) {\r\n    return (\r\n        <Wrapper>\r\n            <Section>\r\n                <RowBetween>\r\n                    <Text fontWeight={500} fontSize={20}>\r\n                        {title}\r\n                    </Text>\r\n                    <CloseIcon onClick={onDismiss} />\r\n                </RowBetween>\r\n                {topContent()}\r\n            </Section>\r\n            <BottomSection gap=\"12px\">{bottomContent()}</BottomSection>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nexport function TransactionErrorContent({ message, onDismiss }: { message: string; onDismiss: () => void }) {\r\n    const theme = useContext(ThemeContext)\r\n    return (\r\n        <Wrapper>\r\n            <Section>\r\n                <RowBetween>\r\n                    <Text fontWeight={500} fontSize={20}>\r\n                        Error\r\n                    </Text>\r\n                    <CloseIcon onClick={onDismiss} />\r\n                </RowBetween>\r\n                <AutoColumn style={{ marginTop: 20, padding: '2rem 0' }} gap=\"24px\" justify=\"center\">\r\n                    <AlertTriangle color={theme.red1} style={{ strokeWidth: 1.5 }} size={64} />\r\n                    <Text fontWeight={500} fontSize={16} color={theme.red1} style={{ textAlign: 'center', width: '85%' }}>\r\n                        {message}\r\n                    </Text>\r\n                </AutoColumn>\r\n            </Section>\r\n            <BottomSection gap=\"12px\">\r\n                <ButtonPrimary onClick={onDismiss}>Dismiss</ButtonPrimary>\r\n            </BottomSection>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\ninterface ConfirmationModalProps {\r\n    isOpen: boolean\r\n    onDismiss: () => void\r\n    hash: string | undefined\r\n    content: () => React.ReactNode\r\n    attemptingTxn: boolean\r\n    pendingText: string\r\n}\r\n\r\nexport default function TransactionConfirmationModal({\r\n    isOpen,\r\n    onDismiss,\r\n    attemptingTxn,\r\n    hash,\r\n    pendingText,\r\n    content\r\n}: ConfirmationModalProps) {\r\n    const { chainId } = useActiveWeb3React()\r\n\r\n    if (!chainId) return null\r\n\r\n    // confirmation screen\r\n    return (\r\n        <Modal isOpen={isOpen} onDismiss={onDismiss} maxHeight={90}>\r\n            {attemptingTxn ? (\r\n                <ConfirmationPendingContent onDismiss={onDismiss} pendingText={pendingText} />\r\n            ) : hash ? (\r\n                <TransactionSubmittedContent chainId={chainId} hash={hash} onDismiss={onDismiss} />\r\n            ) : (\r\n                content()\r\n            )}\r\n        </Modal>\r\n    )\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\n/**\r\n * Returns the last value of type T that passes a filter function\r\n * @param value changing value\r\n * @param filterFn function that determines whether a given value should be considered for the last value\r\n */\r\nexport default function useLast<T>(\r\n  value: T | undefined | null,\r\n  filterFn?: (value: T | null | undefined) => boolean\r\n): T | null | undefined {\r\n  const [last, setLast] = useState<T | null | undefined>(filterFn && filterFn(value) ? value : undefined)\r\n  useEffect(() => {\r\n    setLast(last => {\r\n      const shouldUse: boolean = filterFn ? filterFn(value) : true\r\n      if (shouldUse) return value\r\n      return last\r\n    })\r\n  }, [filterFn, value])\r\n  return last\r\n}\r\n\r\nfunction isDefined<T>(x: T | null | undefined): x is T {\r\n  return x !== null && x !== undefined\r\n}\r\n\r\n/**\r\n * Returns the last truthy value of type T\r\n * @param value changing value\r\n */\r\nexport function useLastTruthy<T>(value: T | undefined | null): T | null | undefined {\r\n  return useLast(value, isDefined)\r\n}\r\n","import CID from 'cids'\r\nimport { getCodec, rmPrefix } from 'multicodec'\r\nimport { decode, toB58String } from 'multihashes'\r\n\r\nexport function hexToUint8Array(hex: string): Uint8Array {\r\n  hex = hex.startsWith('0x') ? hex.substr(2) : hex\r\n  if (hex.length % 2 !== 0) throw new Error('hex must have length that is multiple of 2')\r\n  const arr = new Uint8Array(hex.length / 2)\r\n  for (let i = 0; i < arr.length; i++) {\r\n    arr[i] = parseInt(hex.substr(i * 2, 2), 16)\r\n  }\r\n  return arr\r\n}\r\n\r\nconst UTF_8_DECODER = new TextDecoder()\r\n\r\n/**\r\n * Returns the URI representation of the content hash for supported codecs\r\n * @param contenthash to decode\r\n */\r\nexport default function contenthashToUri(contenthash: string): string {\r\n  const buff = hexToUint8Array(contenthash)\r\n  const codec = getCodec(buff as Buffer) // the typing is wrong for @types/multicodec\r\n  switch (codec) {\r\n    case 'ipfs-ns': {\r\n      const data = rmPrefix(buff as Buffer)\r\n      const cid = new CID(data)\r\n      return `ipfs://${toB58String(cid.multihash)}`\r\n    }\r\n    case 'ipns-ns': {\r\n      const data = rmPrefix(buff as Buffer)\r\n      const cid = new CID(data)\r\n      const multihash = decode(cid.multihash)\r\n      if (multihash.name === 'identity') {\r\n        return `ipns://${UTF_8_DECODER.decode(multihash.digest).trim()}`\r\n      } else {\r\n        return `ipns://${toB58String(cid.multihash)}`\r\n      }\r\n    }\r\n    default:\r\n      throw new Error(`Unrecognized codec: ${codec}`)\r\n  }\r\n}\r\n","const ENS_NAME_REGEX = /^(([a-zA-Z0-9]+\\.)+)eth(\\/.*)?$/\r\n\r\nexport function parseENSAddress(ensAddress: string): { ensName: string; ensPath: string | undefined } | undefined {\r\n  const match = ensAddress.match(ENS_NAME_REGEX)\r\n  if (!match) return undefined\r\n  return { ensName: `${match[1].toLowerCase()}eth`, ensPath: match[3] }\r\n}\r\n","/**\r\n * Given a URI that may be ipfs, ipns, http, or https protocol, return the fetch-able http(s) URLs for the same content\r\n * @param uri to convert to fetch-able http url\r\n */\r\nexport default function uriToHttp(uri: string): string[] {\r\n  const protocol = uri.split(':')[0].toLowerCase()\r\n  switch (protocol) {\r\n    case 'https':\r\n      return [uri]\r\n    case 'http':\r\n      return ['https' + uri.substr(4), uri]\r\n    case 'ipfs':\r\n      const hash = uri.match(/^ipfs:(\\/\\/)?(.*)$/i)?.[2]\r\n      return [`https://cloudflare-ipfs.com/ipfs/${hash}/`, `https://ipfs.io/ipfs/${hash}/`]\r\n    case 'ipns':\r\n      const name = uri.match(/^ipns:(\\/\\/)?(.*)$/i)?.[2]\r\n      return [`https://cloudflare-ipfs.com/ipns/${name}/`, `https://ipfs.io/ipns/${name}/`]\r\n    default:\r\n      return []\r\n  }\r\n}\r\n","import { useMemo } from 'react'\r\nimport contenthashToUri from '../utils/contenthashToUri'\r\nimport { parseENSAddress } from '../utils/parseENSAddress'\r\nimport uriToHttp from '../utils/uriToHttp'\r\nimport useENSContentHash from './useENSContentHash'\r\n\r\nexport default function useHttpLocations(uri: string | undefined): string[] {\r\n  const ens = useMemo(() => (uri ? parseENSAddress(uri) : undefined), [uri])\r\n  const resolvedContentHash = useENSContentHash(ens?.ensName)\r\n  return useMemo(() => {\r\n    if (ens) {\r\n      return resolvedContentHash.contenthash ? uriToHttp(contenthashToUri(resolvedContentHash.contenthash)) : []\r\n    } else {\r\n      return uri ? uriToHttp(uri) : []\r\n    }\r\n  }, [ens, resolvedContentHash.contenthash, uri])\r\n}\r\n","import { namehash } from 'ethers/lib/utils'\r\nimport { useMemo } from 'react'\r\nimport { useSingleCallResult } from '../state/multicall/hooks'\r\nimport isZero from '../utils/isZero'\r\nimport { useENSRegistrarContract, useENSResolverContract } from './useContract'\r\n\r\n/**\r\n * Does a lookup for an ENS name to find its contenthash.\r\n */\r\nexport default function useENSContentHash(ensName?: string | null): { loading: boolean; contenthash: string | null } {\r\n  const ensNodeArgument = useMemo(() => {\r\n    if (!ensName) return [undefined]\r\n    try {\r\n      return ensName ? [namehash(ensName)] : [undefined]\r\n    } catch (error) {\r\n      return [undefined]\r\n    }\r\n  }, [ensName])\r\n  const registrarContract = useENSRegistrarContract(false)\r\n  const resolverAddressResult = useSingleCallResult(registrarContract, 'resolver', ensNodeArgument)\r\n  const resolverAddress = resolverAddressResult.result?.[0]\r\n  const resolverContract = useENSResolverContract(\r\n    resolverAddress && isZero(resolverAddress) ? undefined : resolverAddress,\r\n    false\r\n  )\r\n  const contenthash = useSingleCallResult(resolverContract, 'contenthash', ensNodeArgument)\r\n\r\n  return {\r\n    contenthash: contenthash.result?.[0] ?? null,\r\n    loading: resolverAddressResult.loading || contenthash.loading\r\n  }\r\n}\r\n","import React, { useState } from 'react'\r\nimport { HelpCircle } from 'react-feather'\r\nimport { ImageProps } from 'rebass'\r\n\r\nconst BAD_SRCS: { [tokenAddress: string]: true } = {}\r\n\r\nexport interface LogoProps extends Pick<ImageProps, 'style' | 'alt' | 'className'> {\r\n  srcs: string[]\r\n}\r\n\r\n/**\r\n * Renders an image by sequentially trying a list of URIs, and then eventually a fallback triangle alert\r\n */\r\nexport default function Logo({ srcs, alt, ...rest }: LogoProps) {\r\n  const [, refresh] = useState<number>(0)\r\n\r\n  const src: string | undefined = srcs.find(src => !BAD_SRCS[src])\r\n\r\n  if (src) {\r\n    return (\r\n      <img\r\n        {...rest}\r\n        alt={alt}\r\n        src={src}\r\n        onError={() => {\r\n          if (src) BAD_SRCS[src] = true\r\n          refresh(i => i + 1)\r\n        }}\r\n      />\r\n    )\r\n  }\r\n\r\n  return <HelpCircle {...rest} />\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport useHttpLocations from '../../hooks/useHttpLocations'\r\n\r\nimport Logo from '../Logo'\r\n\r\nconst StyledListLogo = styled(Logo)<{ size: string }>`\r\n  width: ${({ size }) => size};\r\n  height: ${({ size }) => size};\r\n`\r\n\r\nexport default function ListLogo({\r\n  logoURI,\r\n  style,\r\n  size = '24px',\r\n  alt\r\n}: {\r\n  logoURI: string\r\n  size?: string\r\n  style?: React.CSSProperties\r\n  alt?: string\r\n}) {\r\n  const srcs: string[] = useHttpLocations(logoURI)\r\n\r\n  return <StyledListLogo alt={alt} size={size} srcs={srcs} style={style} />\r\n}\r\n","import { Currency, ETHER, Token } from '@tianheng2017/dex-sdk'\r\nimport React, { useMemo } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport EthereumLogo from '../../assets/images/ethereum-logo.png'\r\nimport useHttpLocations from '../../hooks/useHttpLocations'\r\nimport { WrappedTokenInfo } from '../../state/lists/hooks'\r\nimport Logo from '../Logo'\r\n\r\nconst getTokenLogoURL = (address: string) =>\r\n  `https://swap.tronfund.xyz/coinLogo/${address}/logo.png`\r\n\r\nconst StyledEthereumLogo = styled.img<{ size: string }>`\r\n  width: ${({ size }) => size};\r\n  height: ${({ size }) => size};\r\n  box-shadow: 0px 6px 10px rgba(0, 0, 0, 0.075);\r\n  border-radius: 24px;\r\n`\r\n\r\nconst StyledLogo = styled(Logo)<{ size: string }>`\r\n  width: ${({ size }) => size};\r\n  height: ${({ size }) => size};\r\n`\r\n\r\nexport default function CurrencyLogo({\r\n  currency,\r\n  size = '24px',\r\n  style\r\n}: {\r\n  currency?: Currency\r\n  size?: string\r\n  style?: React.CSSProperties\r\n}) {\r\n  const uriLocations = useHttpLocations(currency instanceof WrappedTokenInfo ? currency.logoURI : undefined)\r\n\r\n  const srcs: string[] = useMemo(() => {\r\n    if (currency === ETHER) return []\r\n\r\n    if (currency instanceof Token) {\r\n      if (currency instanceof WrappedTokenInfo) {\r\n        return [...uriLocations, getTokenLogoURL(currency.address)]\r\n      }\r\n\r\n      return [getTokenLogoURL(currency.address)]\r\n    }\r\n    return []\r\n  }, [currency, uriLocations])\r\n\r\n  if (currency === ETHER) {\r\n    return <StyledEthereumLogo src={EthereumLogo} size={size} style={style} />\r\n  }\r\n\r\n  return <StyledLogo size={size} srcs={srcs} alt={`${currency?.symbol ?? 'token'} logo`} style={style} />\r\n}\r\n","import React from 'react'\r\nimport { Text } from 'rebass'\r\nimport { ChainId, Currency, currencyEquals, ETHER, Token } from '@tianheng2017/dex-sdk'\r\nimport styled from 'styled-components'\r\n\r\nimport { SUGGESTED_BASES } from '../../constants'\r\nimport { AutoColumn } from '../Column'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport { AutoRow } from '../Row'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nconst BaseWrapper = styled.div<{ disable?: boolean }>`\r\n  border: 1px solid ${({ theme, disable }) => (disable ? 'transparent' : theme.bg3)};\r\n  border-radius: 10px;\r\n  display: flex;\r\n  padding: 6px;\r\n\r\n  align-items: center;\r\n  :hover {\r\n    cursor: ${({ disable }) => !disable && 'pointer'};\r\n    background-color: ${({ theme, disable }) => !disable && theme.bg2};\r\n  }\r\n\r\n  background-color: ${({ theme, disable }) => disable && theme.bg3};\r\n  opacity: ${({ disable }) => disable && '0.4'};\r\n`\r\n\r\nexport default function CommonBases({\r\n    chainId,\r\n    onSelect,\r\n    selectedCurrency\r\n}: {\r\n    chainId?: ChainId\r\n    selectedCurrency?: Currency | null\r\n    onSelect: (currency: Currency) => void\r\n}) {\r\n    const { t } = useTranslation()\r\n    return (\r\n        <AutoColumn gap=\"md\">\r\n            <AutoRow>\r\n                <Text fontWeight={500} fontSize={14}>\r\n                    {t('commonBase')}\r\n                </Text>\r\n                <QuestionHelper text={t('commonBaseHelper')} />\r\n            </AutoRow>\r\n            <AutoRow gap=\"4px\">\r\n                <BaseWrapper\r\n                    onClick={() => {\r\n                        if (!selectedCurrency || !currencyEquals(selectedCurrency, ETHER)) {\r\n                            onSelect(ETHER)\r\n                        }\r\n                    }}\r\n                    disable={selectedCurrency === ETHER}\r\n                >\r\n                    <CurrencyLogo currency={ETHER} style={{ marginRight: 8 }} />\r\n                    <Text fontWeight={500} fontSize={16}>\r\n                        ETH\r\n                    </Text>\r\n                </BaseWrapper>\r\n                {(chainId ? SUGGESTED_BASES[chainId] : []).map((token: Token) => {\r\n                    const selected = selectedCurrency instanceof Token && selectedCurrency.address === token.address\r\n                    return (\r\n                        <BaseWrapper onClick={() => !selected && onSelect(token)} disable={selected} key={token.address}>\r\n                            <CurrencyLogo currency={token} style={{ marginRight: 8 }} />\r\n                            <Text fontWeight={500} fontSize={16}>\r\n                                {token.symbol}\r\n                            </Text>\r\n                        </BaseWrapper>\r\n                    )\r\n                })}\r\n            </AutoRow>\r\n        </AutoColumn>\r\n    )\r\n}\r\n","import styled from 'styled-components'\r\nimport { AutoColumn } from '../Column'\r\nimport { RowBetween, RowFixed } from '../Row'\r\n\r\nexport const ModalInfo = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  align-items: center;\r\n  padding: 1rem 1rem;\r\n  margin: 0.25rem 0.5rem;\r\n  justify-content: center;\r\n  flex: 1;\r\n  user-select: none;\r\n`\r\n\r\nexport const FadedSpan = styled(RowFixed)`\r\n  color: ${({ theme }) => theme.primary1};\r\n  font-size: 14px;\r\n`\r\n\r\nexport const PaddedColumn = styled(AutoColumn)`\r\n  padding: 20px;\r\n  padding-bottom: 12px;\r\n`\r\n\r\nexport const MenuItem = styled(RowBetween)`\r\n  padding: 4px 20px;\r\n  height: 56px;\r\n  display: grid;\r\n  grid-template-columns: auto minmax(auto, 1fr) auto minmax(0, 72px);\r\n  grid-gap: 16px;\r\n  cursor: ${({ disabled }) => !disabled && 'pointer'};\r\n  pointer-events: ${({ disabled }) => disabled && 'none'};\r\n  :hover {\r\n    background-color: ${({ theme, disabled }) => !disabled && theme.bg2};\r\n  }\r\n  opacity: ${({ disabled, selected }) => (disabled || selected ? 0.5 : 1)};\r\n`\r\n\r\nexport const SearchInput = styled.input`\r\n  position: relative;\r\n  display: flex;\r\n  padding: 16px;\r\n  align-items: center;\r\n  width: 100%;\r\n  white-space: nowrap;\r\n  background: none;\r\n  border: none;\r\n  outline: none;\r\n  border-radius: 20px;\r\n  color: ${({ theme }) => theme.text1};\r\n  border-style: solid;\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  -webkit-appearance: none;\r\n\r\n  font-size: 18px;\r\n\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text3};\r\n  }\r\n  transition: border 100ms;\r\n  :focus {\r\n    border: 1px solid ${({ theme }) => theme.primary1};\r\n    outline: none;\r\n  }\r\n`\r\nexport const Separator = styled.div`\r\n  width: 100%;\r\n  height: 1px;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n`\r\n\r\nexport const SeparatorDark = styled.div`\r\n  width: 100%;\r\n  height: 1px;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n`\r\n","import { Currency, CurrencyAmount, currencyEquals, ETHER, Token } from '@tianheng2017/dex-sdk'\r\nimport React, { CSSProperties, MutableRefObject, useCallback, useMemo } from 'react'\r\nimport { FixedSizeList } from 'react-window'\r\nimport { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useSelectedTokenList, WrappedTokenInfo } from '../../state/lists/hooks'\r\nimport { useAddUserToken, useRemoveUserAddedToken } from '../../state/user/hooks'\r\nimport { useCurrencyBalance } from '../../state/wallet/hooks'\r\nimport { LinkStyledButton, TYPE } from '../../theme'\r\nimport { useIsUserAddedToken } from '../../hooks/Tokens'\r\nimport Column from '../Column'\r\nimport { RowFixed } from '../Row'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\nimport { MouseoverTooltip } from '../Tooltip'\r\nimport { FadedSpan, MenuItem } from './styleds'\r\nimport Loader from '../Loader'\r\nimport { isTokenOnList } from '../../utils'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nfunction currencyKey(currency: Currency): string {\r\n    return currency instanceof Token ? currency.address : currency === ETHER ? 'ETHER' : ''\r\n}\r\n\r\nconst StyledBalanceText = styled(Text)`\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  max-width: 5rem;\r\n  text-overflow: ellipsis;\r\n`\r\n\r\nconst Tag = styled.div`\r\n  background-color: ${({ theme }) => theme.bg3};\r\n  color: ${({ theme }) => theme.text2};\r\n  font-size: 14px;\r\n  border-radius: 4px;\r\n  padding: 0.25rem 0.3rem 0.25rem 0.3rem;\r\n  max-width: 6rem;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  justify-self: flex-end;\r\n  margin-right: 4px;\r\n`\r\n\r\nfunction Balance({ balance }: { balance: CurrencyAmount }) {\r\n    return <StyledBalanceText title={balance.toExact()}>{balance.toSignificant(4)}</StyledBalanceText>\r\n}\r\n\r\nconst TagContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`\r\n\r\nfunction TokenTags({ currency }: { currency: Currency }) {\r\n    if (!(currency instanceof WrappedTokenInfo)) {\r\n        return <span />\r\n    }\r\n\r\n    const tags = currency.tags\r\n    if (!tags || tags.length === 0) return <span />\r\n\r\n    const tag = tags[0]\r\n\r\n    return (\r\n        <TagContainer>\r\n            <MouseoverTooltip text={tag.description}>\r\n                <Tag key={tag.id}>{tag.name}</Tag>\r\n            </MouseoverTooltip>\r\n            {tags.length > 1 ? (\r\n                <MouseoverTooltip\r\n                    text={tags\r\n                        .slice(1)\r\n                        .map(({ name, description }) => `${name}: ${description}`)\r\n                        .join('; \\n')}\r\n                >\r\n                    <Tag>...</Tag>\r\n                </MouseoverTooltip>\r\n            ) : null}\r\n        </TagContainer>\r\n    )\r\n}\r\n\r\nfunction CurrencyRow({\r\n    currency,\r\n    onSelect,\r\n    isSelected,\r\n    otherSelected,\r\n    style\r\n}: {\r\n    currency: Currency\r\n    onSelect: () => void\r\n    isSelected: boolean\r\n    otherSelected: boolean\r\n    style: CSSProperties\r\n}) {\r\n    const { t } = useTranslation()\r\n    const { account, chainId } = useActiveWeb3React()\r\n    const key = currencyKey(currency)\r\n    const selectedTokenList = useSelectedTokenList()\r\n    const isOnSelectedList = isTokenOnList(selectedTokenList, currency)\r\n    const customAdded = useIsUserAddedToken(currency)\r\n    const balance = useCurrencyBalance(account ?? undefined, currency)\r\n\r\n    const removeToken = useRemoveUserAddedToken()\r\n    const addToken = useAddUserToken()\r\n\r\n    // only show add or remove buttons if not on selected list\r\n    return (\r\n        <MenuItem\r\n            style={style}\r\n            className={`token-item-${key}`}\r\n            onClick={() => (isSelected ? null : onSelect())}\r\n            disabled={isSelected}\r\n            selected={otherSelected}\r\n        >\r\n            <CurrencyLogo currency={currency} size={'24px'} />\r\n            <Column>\r\n                <Text title={currency.name} fontWeight={500}>\r\n                    {currency.symbol}\r\n                </Text>\r\n                <FadedSpan>\r\n                    {!isOnSelectedList && customAdded ? (\r\n                        <TYPE.main fontWeight={500}>\r\n                            {t('addedByUser')}\r\n                            <LinkStyledButton\r\n                                onClick={event => {\r\n                                    event.stopPropagation()\r\n                                    if (chainId && currency instanceof Token) removeToken(chainId, currency.address)\r\n                                }}\r\n                            >\r\n                                ({t('remove')})\r\n                            </LinkStyledButton>\r\n                        </TYPE.main>\r\n                    ) : null}\r\n                    {!isOnSelectedList && !customAdded ? (\r\n                        <TYPE.main fontWeight={500}>\r\n                            {t('fundByAddress')}\r\n                            <LinkStyledButton\r\n                                onClick={event => {\r\n                                    event.stopPropagation()\r\n                                    if (currency instanceof Token) addToken(currency)\r\n                                }}\r\n                            >\r\n                                ({t('add')})\r\n                            </LinkStyledButton>\r\n                        </TYPE.main>\r\n                    ) : null}\r\n                </FadedSpan>\r\n            </Column>\r\n            <TokenTags currency={currency} />\r\n            <RowFixed style={{ justifySelf: 'flex-end' }}>\r\n                {balance ? <Balance balance={balance} /> : account ? <Loader /> : null}\r\n            </RowFixed>\r\n        </MenuItem>\r\n    )\r\n}\r\n\r\nexport default function CurrencyList({\r\n    height,\r\n    currencies,\r\n    selectedCurrency,\r\n    onCurrencySelect,\r\n    otherCurrency,\r\n    fixedListRef,\r\n    showETH\r\n}: {\r\n    height: number\r\n    currencies: Currency[]\r\n    selectedCurrency?: Currency | null\r\n    onCurrencySelect: (currency: Currency) => void\r\n    otherCurrency?: Currency | null\r\n    fixedListRef?: MutableRefObject<FixedSizeList | undefined>\r\n    showETH: boolean\r\n}) {\r\n    const itemData = useMemo(() => (showETH ? [Currency.ETHER, ...currencies] : currencies), [currencies, showETH])\r\n\r\n    const Row = useCallback(\r\n        ({ data, index, style }) => {\r\n            const currency: Currency = data[index]\r\n            const isSelected = Boolean(selectedCurrency && currencyEquals(selectedCurrency, currency))\r\n            const otherSelected = Boolean(otherCurrency && currencyEquals(otherCurrency, currency))\r\n            const handleSelect = () => onCurrencySelect(currency)\r\n            return (\r\n                <CurrencyRow\r\n                    style={style}\r\n                    currency={currency}\r\n                    isSelected={isSelected}\r\n                    onSelect={handleSelect}\r\n                    otherSelected={otherSelected}\r\n                />\r\n            )\r\n        },\r\n        [onCurrencySelect, otherCurrency, selectedCurrency]\r\n    )\r\n\r\n    const itemKey = useCallback((index: number, data: any) => currencyKey(data[index]), [])\r\n\r\n    return (\r\n        <FixedSizeList\r\n            height={height}\r\n            ref={fixedListRef as any}\r\n            width=\"100%\"\r\n            itemData={itemData}\r\n            itemCount={itemData.length}\r\n            itemSize={56}\r\n            itemKey={itemKey}\r\n        >\r\n            {Row}\r\n        </FixedSizeList>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\nimport { RowFixed } from '../Row'\r\n\r\nexport const FilterWrapper = styled(RowFixed)`\r\n  padding: 8px;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  color: ${({ theme }) => theme.text1};\r\n  border-radius: 8px;\r\n  user-select: none;\r\n  & > * {\r\n    user-select: none;\r\n  }\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nexport default function SortButton({\r\n  toggleSortOrder,\r\n  ascending\r\n}: {\r\n  toggleSortOrder: () => void\r\n  ascending: boolean\r\n}) {\r\n  return (\r\n    <FilterWrapper onClick={toggleSortOrder}>\r\n      <Text fontSize={14} fontWeight={500}>\r\n        {ascending ? 'â†‘' : 'â†“'}\r\n      </Text>\r\n    </FilterWrapper>\r\n  )\r\n}\r\n","import { Token, TokenAmount } from '@tianheng2017/dex-sdk'\r\nimport { useMemo } from 'react'\r\nimport { useAllTokenBalances } from '../../state/wallet/hooks'\r\n\r\n// compare two token amounts with highest one coming first\r\nfunction balanceComparator(balanceA?: TokenAmount, balanceB?: TokenAmount) {\r\n  if (balanceA && balanceB) {\r\n    return balanceA.greaterThan(balanceB) ? -1 : balanceA.equalTo(balanceB) ? 0 : 1\r\n  } else if (balanceA && balanceA.greaterThan('0')) {\r\n    return -1\r\n  } else if (balanceB && balanceB.greaterThan('0')) {\r\n    return 1\r\n  }\r\n  return 0\r\n}\r\n\r\nfunction getTokenComparator(balances: {\r\n  [tokenAddress: string]: TokenAmount | undefined\r\n}): (tokenA: Token, tokenB: Token) => number {\r\n  return function sortTokens(tokenA: Token, tokenB: Token): number {\r\n    // -1 = a is first\r\n    // 1 = b is first\r\n\r\n    // sort by balances\r\n    const balanceA = balances[tokenA.address]\r\n    const balanceB = balances[tokenB.address]\r\n\r\n    const balanceComp = balanceComparator(balanceA, balanceB)\r\n    if (balanceComp !== 0) return balanceComp\r\n\r\n    if (tokenA.symbol && tokenB.symbol) {\r\n      // sort by symbol\r\n      return tokenA.symbol.toLowerCase() < tokenB.symbol.toLowerCase() ? -1 : 1\r\n    } else {\r\n      return tokenA.symbol ? -1 : tokenB.symbol ? -1 : 0\r\n    }\r\n  }\r\n}\r\n\r\nexport function useTokenComparator(inverted: boolean): (tokenA: Token, tokenB: Token) => number {\r\n  const balances = useAllTokenBalances()\r\n  const comparator = useMemo(() => getTokenComparator(balances ?? {}), [balances])\r\n  return useMemo(() => {\r\n    if (inverted) {\r\n      return (tokenA: Token, tokenB: Token) => comparator(tokenA, tokenB) * -1\r\n    } else {\r\n      return comparator\r\n    }\r\n  }, [inverted, comparator])\r\n}\r\n","import { Currency, ETHER, Token } from '@tianheng2017/dex-sdk'\r\nimport React, { KeyboardEvent, RefObject, useCallback, useEffect, useMemo, useRef, useState } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { FixedSizeList } from 'react-window'\r\nimport { Text } from 'rebass'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useAllTokens, useToken } from '../../hooks/Tokens'\r\nimport { useSelectedListInfo } from '../../state/lists/hooks'\r\nimport { CloseIcon, TYPE } from '../../theme'\r\nimport { isAddress } from '../../utils'\r\nimport Card from '../Card'\r\nimport Column from '../Column'\r\nimport ListLogo from '../ListLogo'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport Row, { RowBetween } from '../Row'\r\nimport CommonBases from './CommonBases'\r\nimport CurrencyList from './CurrencyList'\r\nimport { filterTokens } from './filtering'\r\nimport SortButton from './SortButton'\r\nimport { useTokenComparator } from './sorting'\r\nimport { PaddedColumn, SearchInput, Separator } from './styleds'\r\nimport AutoSizer from 'react-virtualized-auto-sizer'\r\n\r\ninterface CurrencySearchProps {\r\n  isOpen: boolean\r\n  onDismiss: () => void\r\n  selectedCurrency?: Currency | null\r\n  onCurrencySelect: (currency: Currency) => void\r\n  otherSelectedCurrency?: Currency | null\r\n  showCommonBases?: boolean\r\n  onChangeList: () => void\r\n}\r\n\r\nexport function CurrencySearch({\r\n  selectedCurrency,\r\n  onCurrencySelect,\r\n  otherSelectedCurrency,\r\n  showCommonBases,\r\n  onDismiss,\r\n  isOpen,\r\n  onChangeList\r\n}: CurrencySearchProps) {\r\n  const { t } = useTranslation()\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const fixedList = useRef<FixedSizeList>()\r\n  const [searchQuery, setSearchQuery] = useState<string>('')\r\n  const [invertSearchOrder, setInvertSearchOrder] = useState<boolean>(false)\r\n  const allTokens = useAllTokens()\r\n\r\n  // if they input an address, use it\r\n  const isAddressSearch = isAddress(searchQuery)\r\n  const searchToken = useToken(searchQuery)\r\n\r\n  useEffect(() => {\r\n    if (isAddressSearch) {\r\n      ReactGA.event({\r\n        category: 'Currency Select',\r\n        action: 'Search by address',\r\n        label: isAddressSearch\r\n      })\r\n    }\r\n  }, [isAddressSearch])\r\n\r\n  const showETH: boolean = useMemo(() => {\r\n    const s = searchQuery.toLowerCase().trim()\r\n    return s === '' || s === 'e' || s === 'et' || s === 'eth'\r\n  }, [searchQuery])\r\n\r\n  const tokenComparator = useTokenComparator(invertSearchOrder)\r\n\r\n  const filteredTokens: Token[] = useMemo(() => {\r\n    if (isAddressSearch) return searchToken ? [searchToken] : []\r\n    return filterTokens(Object.values(allTokens), searchQuery)\r\n  }, [isAddressSearch, searchToken, allTokens, searchQuery])\r\n\r\n  const filteredSortedTokens: Token[] = useMemo(() => {\r\n    if (searchToken) return [searchToken]\r\n    const sorted = filteredTokens.sort(tokenComparator)\r\n    const symbolMatch = searchQuery\r\n      .toLowerCase()\r\n      .split(/\\s+/)\r\n      .filter(s => s.length > 0)\r\n    if (symbolMatch.length > 1) return sorted\r\n\r\n    return [\r\n      ...(searchToken ? [searchToken] : []),\r\n      // sort any exact symbol matches first\r\n      ...sorted.filter(token => token.symbol?.toLowerCase() === symbolMatch[0]),\r\n      ...sorted.filter(token => token.symbol?.toLowerCase() !== symbolMatch[0])\r\n    ]\r\n  }, [filteredTokens, searchQuery, searchToken, tokenComparator])\r\n\r\n  const handleCurrencySelect = useCallback(\r\n    (currency: Currency) => {\r\n      onCurrencySelect(currency)\r\n      onDismiss()\r\n    },\r\n    [onDismiss, onCurrencySelect]\r\n  )\r\n\r\n  // clear the input on open\r\n  useEffect(() => {\r\n    if (isOpen) setSearchQuery('')\r\n  }, [isOpen])\r\n\r\n  // manage focus on modal show\r\n  const inputRef = useRef<HTMLInputElement>()\r\n  const handleInput = useCallback(event => {\r\n    const input = event.target.value\r\n    const checksummedInput = isAddress(input)\r\n    setSearchQuery(checksummedInput || input)\r\n    fixedList.current?.scrollTo(0)\r\n  }, [])\r\n\r\n  const handleEnter = useCallback(\r\n    (e: KeyboardEvent<HTMLInputElement>) => {\r\n      if (e.key === 'Enter') {\r\n        const s = searchQuery.toLowerCase().trim()\r\n        if (s === 'eth') {\r\n          handleCurrencySelect(ETHER)\r\n        } else if (filteredSortedTokens.length > 0) {\r\n          if (\r\n            filteredSortedTokens[0].symbol?.toLowerCase() === searchQuery.trim().toLowerCase() ||\r\n            filteredSortedTokens.length === 1\r\n          ) {\r\n            handleCurrencySelect(filteredSortedTokens[0])\r\n          }\r\n        }\r\n      }\r\n    },\r\n    [filteredSortedTokens, handleCurrencySelect, searchQuery]\r\n  )\r\n\r\n  const selectedListInfo = useSelectedListInfo()\r\n\r\n  return (\r\n    <Column style={{ width: '100%', flex: '1 1' }}>\r\n      <PaddedColumn gap=\"14px\">\r\n        <RowBetween>\r\n          <Text fontWeight={500} fontSize={16}>\r\n            {t('selectAToken')}\r\n            <QuestionHelper text={t('selectATokenHelper')} />\r\n          </Text>\r\n          <CloseIcon onClick={onDismiss} />\r\n        </RowBetween>\r\n        <SearchInput\r\n          type=\"text\"\r\n          id=\"token-search-input\"\r\n          placeholder={t('tokenSearchPlaceholder')}\r\n          value={searchQuery}\r\n          ref={inputRef as RefObject<HTMLInputElement>}\r\n          onChange={handleInput}\r\n          onKeyDown={handleEnter}\r\n        />\r\n        {showCommonBases && (\r\n          <CommonBases chainId={chainId} onSelect={handleCurrencySelect} selectedCurrency={selectedCurrency} />\r\n        )}\r\n        <RowBetween>\r\n          <Text fontSize={14} fontWeight={500}>\r\n            {t(\"tokenName\")}\r\n          </Text>\r\n          <SortButton ascending={invertSearchOrder} toggleSortOrder={() => setInvertSearchOrder(iso => !iso)} />\r\n        </RowBetween>\r\n      </PaddedColumn>\r\n\r\n      <Separator />\r\n\r\n      <div style={{ flex: '1' }}>\r\n        <AutoSizer disableWidth>\r\n          {({ height }) => (\r\n            <CurrencyList\r\n              height={height}\r\n              showETH={showETH}\r\n              currencies={filteredSortedTokens}\r\n              onCurrencySelect={handleCurrencySelect}\r\n              otherCurrency={otherSelectedCurrency}\r\n              selectedCurrency={selectedCurrency}\r\n              fixedListRef={fixedList}\r\n            />\r\n          )}\r\n        </AutoSizer>\r\n      </div>\r\n\r\n      <Separator />\r\n      <Card>\r\n        <RowBetween>\r\n          {selectedListInfo.current ? (\r\n            <Row>\r\n              {selectedListInfo.current.logoURI ? (\r\n                <ListLogo\r\n                  style={{ marginRight: 12 }}\r\n                  logoURI={selectedListInfo.current.logoURI}\r\n                  alt={`${selectedListInfo.current.name} list logo`}\r\n                />\r\n              ) : null}\r\n              <TYPE.main id=\"currency-search-selected-list-name\">{selectedListInfo.current.name}</TYPE.main>\r\n            </Row>\r\n          ) : null}\r\n        </RowBetween>\r\n      </Card>\r\n    </Column>\r\n  )\r\n}\r\n","import { isAddress } from '../../utils'\r\nimport { Token } from '@tianheng2017/dex-sdk'\r\n\r\nexport function filterTokens(tokens: Token[], search: string): Token[] {\r\n  if (search.length === 0) return tokens\r\n\r\n  const searchingAddress = isAddress(search)\r\n\r\n  if (searchingAddress) {\r\n    return tokens.filter(token => token.address === searchingAddress)\r\n  }\r\n\r\n  const lowerSearchParts = search\r\n    .toLowerCase()\r\n    .split(/\\s+/)\r\n    .filter(s => s.length > 0)\r\n\r\n  if (lowerSearchParts.length === 0) {\r\n    return tokens\r\n  }\r\n\r\n  const matchesSearch = (s: string): boolean => {\r\n    const sParts = s\r\n      .toLowerCase()\r\n      .split(/\\s+/)\r\n      .filter(s => s.length > 0)\r\n\r\n    return lowerSearchParts.every(p => p.length === 0 || sParts.some(sp => sp.startsWith(p) || sp.endsWith(p)))\r\n  }\r\n\r\n  return tokens.filter(token => {\r\n    const { symbol, name } = token\r\n\r\n    return (symbol && matchesSearch(symbol)) || (name && matchesSearch(name))\r\n  })\r\n}\r\n","import React from 'react'\r\nimport { Text } from 'rebass'\r\nimport Column, { AutoColumn } from '../Column'\r\nimport { PaddedColumn } from './styleds'\r\nimport { useDarkModeManager } from '../../state/user/hooks'\r\nimport { ButtonPrimary } from '../Button'\r\n\r\nimport listLight from '../../assets/images/token-list/lists-light.png'\r\nimport listDark from '../../assets/images/token-list/lists-dark.png'\r\n\r\nexport default function ListIntroduction({ onSelectList }: { onSelectList: () => void }) {\r\n    const [isDark] = useDarkModeManager()\r\n\r\n    return (\r\n        <Column style={{ width: '100%', flex: '1 1' }}>\r\n            <PaddedColumn>\r\n                <AutoColumn gap=\"14px\">\r\n                    <img\r\n                        style={{ width: '120px', margin: '0 auto' }}\r\n                        src={isDark ? listDark : listLight}\r\n                        alt=\"token-list-preview\"\r\n                    />\r\n                    <img\r\n                        style={{ width: '100%', borderRadius: '12px' }}\r\n                        src=\"https://cloudflare-ipfs.com/ipfs/QmRf1rAJcZjV3pwKTHfPdJh4RxR8yvRHkdLjZCsmp7T6hA\"\r\n                        alt=\"token-list-preview\"\r\n                    />\r\n                    <Text style={{ marginBottom: '8px', textAlign: 'center' }}>\r\n                        MySwapçŽ°åœ¨æ”¯æŒä»¤ç‰Œåˆ—è¡¨ï¼Œæ‚¨å¯ä»¥é€šè¿‡IPFS,ã€HTTPSæˆ–ENSæ·»åŠ è‡ªå·±çš„è‡ªå®šä¹‰åˆ—è¡¨.{' '}\r\n                    </Text>\r\n                    <ButtonPrimary onClick={onSelectList} id=\"list-introduction-choose-a-list\">\r\n                        é€‰æ‹©åˆ—è¡¨\r\n                    </ButtonPrimary>\r\n                </AutoColumn>\r\n            </PaddedColumn>\r\n        </Column>\r\n    )\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.97168 1L6.20532 6L11.439 1\",\n  stroke: \"#AEAEAE\"\n});\n\nvar SvgDropdown = function SvgDropdown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 7,\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDropdown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dropdown.50dbd07d.svg\";\nexport { ForwardRef as ReactComponent };","import { TokenList } from '@uniswap/token-lists'\r\nimport schema from '@uniswap/token-lists/src/tokenlist.schema.json'\r\nimport Ajv from 'ajv'\r\nimport contenthashToUri from './contenthashToUri'\r\nimport { parseENSAddress } from './parseENSAddress'\r\nimport uriToHttp from './uriToHttp'\r\n\r\nconst tokenListValidator = new Ajv({ allErrors: true }).compile(schema)\r\n\r\n/**\r\n * Contains the logic for resolving a list URL to a validated token list\r\n * @param listUrl list url\r\n * @param resolveENSContentHash resolves an ens name to a contenthash\r\n */\r\nexport default async function getTokenList(\r\n  listUrl: string,\r\n  resolveENSContentHash: (ensName: string) => Promise<string>\r\n): Promise<TokenList> {\r\n  const parsedENS = parseENSAddress(listUrl)\r\n  let urls: string[]\r\n  if (parsedENS) {\r\n    let contentHashUri\r\n    try {\r\n      contentHashUri = await resolveENSContentHash(parsedENS.ensName)\r\n    } catch (error) {\r\n      console.debug(`Failed to resolve ENS name: ${parsedENS.ensName}`, error)\r\n      throw new Error(`Failed to resolve ENS name: ${parsedENS.ensName}`)\r\n    }\r\n    let translatedUri\r\n    try {\r\n      translatedUri = contenthashToUri(contentHashUri)\r\n    } catch (error) {\r\n      console.debug('Failed to translate contenthash to URI', contentHashUri)\r\n      throw new Error(`Failed to translate contenthash to URI: ${contentHashUri}`)\r\n    }\r\n    urls = uriToHttp(`${translatedUri}${parsedENS.ensPath ?? ''}`)\r\n  } else {\r\n    urls = uriToHttp(listUrl)\r\n  }\r\n  for (let i = 0; i < urls.length; i++) {\r\n    const url = urls[i]\r\n    const isLast = i === urls.length - 1\r\n    let response\r\n    try {\r\n      response = await fetch(url)\r\n    } catch (error) {\r\n      console.debug('Failed to fetch list', listUrl, error)\r\n      if (isLast) throw new Error(`Failed to download list ${listUrl}`)\r\n      continue\r\n    }\r\n\r\n    if (!response.ok) {\r\n      if (isLast) throw new Error(`Failed to download list ${listUrl}`)\r\n      continue\r\n    }\r\n\r\n    const json = await response.json()\r\n    if (!tokenListValidator(json)) {\r\n      const validationErrors: string =\r\n        tokenListValidator.errors?.reduce<string>((memo, error) => {\r\n          const add = `${error.dataPath} ${error.message ?? ''}`\r\n          return memo.length > 0 ? `${memo}; ${add}` : `${add}`\r\n        }, '') ?? 'unknown error'\r\n      throw new Error(`Token list failed validation: ${validationErrors}`)\r\n    }\r\n    return json\r\n  }\r\n  throw new Error('Unrecognized list URL protocol.')\r\n}\r\n","import { Contract } from '@ethersproject/contracts'\r\nimport { Provider } from '@ethersproject/abstract-provider'\r\nimport { namehash } from 'ethers/lib/utils'\r\n\r\nconst REGISTRAR_ABI = [\r\n  {\r\n    constant: true,\r\n    inputs: [\r\n      {\r\n        name: 'node',\r\n        type: 'bytes32'\r\n      }\r\n    ],\r\n    name: 'resolver',\r\n    outputs: [\r\n      {\r\n        name: 'resolverAddress',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  }\r\n]\r\nconst REGISTRAR_ADDRESS = '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'\r\n\r\nconst RESOLVER_ABI = [\r\n  {\r\n    constant: true,\r\n    inputs: [\r\n      {\r\n        internalType: 'bytes32',\r\n        name: 'node',\r\n        type: 'bytes32'\r\n      }\r\n    ],\r\n    name: 'contenthash',\r\n    outputs: [\r\n      {\r\n        internalType: 'bytes',\r\n        name: '',\r\n        type: 'bytes'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  }\r\n]\r\n\r\n// cache the resolver contracts since most of them are the public resolver\r\nfunction resolverContract(resolverAddress: string, provider: Provider): Contract {\r\n  return new Contract(resolverAddress, RESOLVER_ABI, provider)\r\n}\r\n\r\n/**\r\n * Fetches and decodes the result of an ENS contenthash lookup on mainnet to a URI\r\n * @param ensName to resolve\r\n * @param provider provider to use to fetch the data\r\n */\r\nexport default async function resolveENSContentHash(ensName: string, provider: Provider): Promise<string> {\r\n  const ensRegistrarContract = new Contract(REGISTRAR_ADDRESS, REGISTRAR_ABI, provider)\r\n  const hash = namehash(ensName)\r\n  const resolverAddress = await ensRegistrarContract.resolver(hash)\r\n  return resolverContract(resolverAddress, provider).contenthash(hash)\r\n}\r\n","import { nanoid } from '@reduxjs/toolkit'\r\nimport { ChainId } from '@tianheng2017/dex-sdk'\r\nimport { TokenList } from '@uniswap/token-lists'\r\nimport { useCallback } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { getNetworkLibrary, NETWORK_CHAIN_ID } from '../connectors'\r\nimport { AppDispatch } from '../state'\r\nimport { fetchTokenList } from '../state/lists/actions'\r\nimport getTokenList from '../utils/getTokenList'\r\nimport resolveENSContentHash from '../utils/resolveENSContentHash'\r\nimport { useActiveWeb3React } from './index'\r\n\r\nexport function useFetchListCallback(): (listUrl: string) => Promise<TokenList> {\r\n  const { chainId, library } = useActiveWeb3React()\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  const ensResolver = useCallback(\r\n    (ensName: string) => {\r\n      if (!library || chainId !== ChainId.MAINNET) {\r\n        if (NETWORK_CHAIN_ID === ChainId.MAINNET) {\r\n          const networkLibrary = getNetworkLibrary()\r\n          if (networkLibrary) {\r\n            return resolveENSContentHash(ensName, networkLibrary)\r\n          }\r\n        }\r\n        throw new Error('Could not construct mainnet ENS resolver')\r\n      }\r\n      return resolveENSContentHash(ensName, library)\r\n    },\r\n    [chainId, library]\r\n  )\r\n\r\n  return useCallback(\r\n    async (listUrl: string) => {\r\n      const requestId = nanoid()\r\n      dispatch(fetchTokenList.pending({ requestId, url: listUrl }))\r\n      return getTokenList(listUrl, ensResolver)\r\n        .then(tokenList => {\r\n          dispatch(fetchTokenList.fulfilled({ url: listUrl, tokenList, requestId }))\r\n          return tokenList\r\n        })\r\n        .catch(error => {\r\n          console.debug(`Failed to get list at url ${listUrl}`, error)\r\n          dispatch(fetchTokenList.rejected({ url: listUrl, requestId, errorMessage: error.message }))\r\n          throw error\r\n        })\r\n    },\r\n    [dispatch, ensResolver]\r\n  )\r\n}\r\n","import React, { memo, useCallback, useMemo, useRef, useState } from 'react'\r\nimport { ArrowLeft } from 'react-feather'\r\nimport ReactGA from 'react-ga'\r\nimport { usePopper } from 'react-popper'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\nimport { ReactComponent as DropDown } from '../../assets/images/dropdown.svg'\r\nimport { useFetchListCallback } from '../../hooks/useFetchListCallback'\r\nimport { useOnClickOutside } from '../../hooks/useOnClickOutside'\r\n\r\nimport useToggle from '../../hooks/useToggle'\r\nimport { AppDispatch, AppState } from '../../state'\r\nimport { acceptListUpdate, removeList, selectList } from '../../state/lists/actions'\r\nimport { useSelectedListUrl } from '../../state/lists/hooks'\r\nimport { CloseIcon, LinkStyledButton, TYPE } from '../../theme'\r\nimport listVersionLabel from '../../utils/listVersionLabel'\r\nimport { parseENSAddress } from '../../utils/parseENSAddress'\r\nimport uriToHttp from '../../utils/uriToHttp'\r\nimport { ButtonOutlined, ButtonPrimary, ButtonSecondary } from '../Button'\r\n\r\nimport Column from '../Column'\r\nimport ListLogo from '../ListLogo'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport Row, { RowBetween } from '../Row'\r\nimport { PaddedColumn, SearchInput, Separator, SeparatorDark } from './styleds'\r\n\r\nconst UnpaddedLinkStyledButton = styled(LinkStyledButton)`\r\n  padding: 0;\r\n  font-size: 1rem;\r\n  opacity: ${({ disabled }) => (disabled ? '0.4' : '1')};\r\n`\r\n\r\nconst PopoverContainer = styled.div<{ show: boolean }>`\r\n  z-index: 100;\r\n  visibility: ${props => (props.show ? 'visible' : 'hidden')};\r\n  opacity: ${props => (props.show ? 1 : 0)};\r\n  transition: visibility 150ms linear, opacity 150ms linear;\r\n  background: ${({ theme }) => theme.bg2};\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\r\n    0px 24px 32px rgba(0, 0, 0, 0.01);\r\n  color: ${({ theme }) => theme.text2};\r\n  border-radius: 0.5rem;\r\n  padding: 1rem;\r\n  display: grid;\r\n  grid-template-rows: 1fr;\r\n  grid-gap: 8px;\r\n  font-size: 1rem;\r\n  text-align: left;\r\n`\r\n\r\nconst StyledMenu = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  border: none;\r\n`\r\n\r\nconst StyledListUrlText = styled.div`\r\n  max-width: 160px;\r\n  opacity: 0.6;\r\n  margin-right: 0.5rem;\r\n  font-size: 14px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`\r\n\r\nfunction ListOrigin({ listUrl }: { listUrl: string }) {\r\n    const ensName = useMemo(() => parseENSAddress(listUrl)?.ensName, [listUrl])\r\n    const host = useMemo(() => {\r\n        if (ensName) return undefined\r\n        const lowerListUrl = listUrl.toLowerCase()\r\n        if (lowerListUrl.startsWith('ipfs://') || lowerListUrl.startsWith('ipns://')) {\r\n            return listUrl\r\n        }\r\n        try {\r\n            const url = new URL(listUrl)\r\n            return url.host\r\n        } catch (error) {\r\n            return undefined\r\n        }\r\n    }, [listUrl, ensName])\r\n    return <>{ensName ?? host}</>\r\n}\r\n\r\nfunction listUrlRowHTMLId(listUrl: string) {\r\n    return `list-row-${listUrl.replace(/\\./g, '-')}`\r\n}\r\n\r\nconst ListRow = memo(function ListRow({ listUrl, onBack }: { listUrl: string; onBack: () => void }) {\r\n    const listsByUrl = useSelector<AppState, AppState['lists']['byUrl']>(state => state.lists.byUrl)\r\n    const selectedListUrl = useSelectedListUrl()\r\n    const dispatch = useDispatch<AppDispatch>()\r\n    const { current: list, pendingUpdate: pending } = listsByUrl[listUrl]\r\n\r\n    const isSelected = listUrl === selectedListUrl\r\n\r\n    const [open, toggle] = useToggle(false)\r\n    const node = useRef<HTMLDivElement>()\r\n    const [referenceElement, setReferenceElement] = useState<HTMLDivElement>()\r\n    const [popperElement, setPopperElement] = useState<HTMLDivElement>()\r\n\r\n    const { styles, attributes } = usePopper(referenceElement, popperElement, {\r\n        placement: 'auto',\r\n        strategy: 'fixed',\r\n        modifiers: [{ name: 'offset', options: { offset: [8, 8] } }]\r\n    })\r\n\r\n    useOnClickOutside(node, open ? toggle : undefined)\r\n\r\n    const selectThisList = useCallback(() => {\r\n        if (isSelected) return\r\n        ReactGA.event({\r\n            category: 'Lists',\r\n            action: 'Select List',\r\n            label: listUrl\r\n        })\r\n\r\n        dispatch(selectList(listUrl))\r\n        onBack()\r\n    }, [dispatch, isSelected, listUrl, onBack])\r\n\r\n    const handleAcceptListUpdate = useCallback(() => {\r\n        if (!pending) return\r\n        ReactGA.event({\r\n            category: 'Lists',\r\n            action: 'Update List from List Select',\r\n            label: listUrl\r\n        })\r\n        dispatch(acceptListUpdate(listUrl))\r\n    }, [dispatch, listUrl, pending])\r\n\r\n    const handleRemoveList = useCallback(() => {\r\n        ReactGA.event({\r\n            category: 'Lists',\r\n            action: 'Start Remove List',\r\n            label: listUrl\r\n        })\r\n        if (window.prompt(`Please confirm you would like to remove this list by typing REMOVE`) === `REMOVE`) {\r\n            ReactGA.event({\r\n                category: 'Lists',\r\n                action: 'Confirm Remove List',\r\n                label: listUrl\r\n            })\r\n            dispatch(removeList(listUrl))\r\n        }\r\n    }, [dispatch, listUrl])\r\n\r\n    if (!list) return null\r\n\r\n    return (\r\n        <Row key={listUrl} align=\"center\" padding=\"16px\" id={listUrlRowHTMLId(listUrl)}>\r\n            {list.logoURI ? (\r\n                <ListLogo style={{ marginRight: '1rem' }} logoURI={list.logoURI} alt={`${list.name} list logo`} />\r\n            ) : (\r\n                <div style={{ width: '24px', height: '24px', marginRight: '1rem' }} />\r\n            )}\r\n            <Column style={{ flex: '1' }}>\r\n                <Row>\r\n                    <Text\r\n                        fontWeight={isSelected ? 500 : 400}\r\n                        fontSize={16}\r\n                        style={{ overflow: 'hidden', textOverflow: 'ellipsis' }}\r\n                    >\r\n                        {list.name}\r\n                    </Text>\r\n                </Row>\r\n                <Row\r\n                    style={{\r\n                        marginTop: '4px'\r\n                    }}\r\n                >\r\n                    <StyledListUrlText title={listUrl}>\r\n                        <ListOrigin listUrl={listUrl} />\r\n                    </StyledListUrlText>\r\n                </Row>\r\n            </Column>\r\n            <StyledMenu ref={node as any}>\r\n                <ButtonOutlined\r\n                    style={{\r\n                        width: '2rem',\r\n                        padding: '.8rem .35rem',\r\n                        borderRadius: '12px',\r\n                        fontSize: '14px',\r\n                        marginRight: '0.5rem'\r\n                    }}\r\n                    onClick={toggle}\r\n                    ref={setReferenceElement}\r\n                >\r\n                    <DropDown />\r\n                </ButtonOutlined>\r\n\r\n                {open && (\r\n                    <PopoverContainer show={true} ref={setPopperElement as any} style={styles.popper} {...attributes.popper}>\r\n                        <div>{list && listVersionLabel(list.version)}</div>\r\n                        <SeparatorDark />\r\n                        <UnpaddedLinkStyledButton onClick={handleRemoveList} disabled={Object.keys(listsByUrl).length === 1}>\r\n                            Remove list\r\n                        </UnpaddedLinkStyledButton>\r\n                        {pending && (\r\n                            <UnpaddedLinkStyledButton onClick={handleAcceptListUpdate}>Update list</UnpaddedLinkStyledButton>\r\n                        )}\r\n                    </PopoverContainer>\r\n                )}\r\n            </StyledMenu>\r\n            {isSelected ? (\r\n                <ButtonPrimary\r\n                    disabled={true}\r\n                    className=\"select-button\"\r\n                    style={{ width: '5rem', minWidth: '5rem', padding: '0.5rem .35rem', borderRadius: '12px', fontSize: '14px' }}\r\n                >\r\n                    Selected\r\n                </ButtonPrimary>\r\n            ) : (\r\n                <>\r\n                    <ButtonPrimary\r\n                        className=\"select-button\"\r\n                        style={{\r\n                            width: '5rem',\r\n                            minWidth: '4.5rem',\r\n                            padding: '0.5rem .35rem',\r\n                            borderRadius: '12px',\r\n                            fontSize: '14px'\r\n                        }}\r\n                        onClick={selectThisList}\r\n                    >\r\n                        Select\r\n                    </ButtonPrimary>\r\n                </>\r\n            )}\r\n        </Row>\r\n    )\r\n})\r\n\r\nconst AddListButton = styled(ButtonSecondary)`\r\n  /* height: 1.8rem; */\r\n  max-width: 4rem;\r\n  margin-left: 1rem;\r\n  border-radius: 12px;\r\n  padding: 10px 18px;\r\n`\r\n\r\nconst ListContainer = styled.div`\r\n  flex: 1;\r\n  overflow: auto;\r\n`\r\n\r\nexport function ListSelect({ onDismiss, onBack }: { onDismiss: () => void; onBack: () => void }) {\r\n    const [listUrlInput, setListUrlInput] = useState<string>('')\r\n\r\n    const dispatch = useDispatch<AppDispatch>()\r\n    const lists = useSelector<AppState, AppState['lists']['byUrl']>(state => state.lists.byUrl)\r\n    const adding = Boolean(lists[listUrlInput]?.loadingRequestId)\r\n    const [addError, setAddError] = useState<string | null>(null)\r\n\r\n    const handleInput = useCallback(e => {\r\n        setListUrlInput(e.target.value)\r\n        setAddError(null)\r\n    }, [])\r\n    const fetchList = useFetchListCallback()\r\n\r\n    const handleAddList = useCallback(() => {\r\n        if (adding) return\r\n        setAddError(null)\r\n        fetchList(listUrlInput)\r\n            .then(() => {\r\n                setListUrlInput('')\r\n                ReactGA.event({\r\n                    category: 'Lists',\r\n                    action: 'Add List',\r\n                    label: listUrlInput\r\n                })\r\n            })\r\n            .catch(error => {\r\n                ReactGA.event({\r\n                    category: 'Lists',\r\n                    action: 'Add List Failed',\r\n                    label: listUrlInput\r\n                })\r\n                setAddError(error.message)\r\n                dispatch(removeList(listUrlInput))\r\n            })\r\n    }, [adding, dispatch, fetchList, listUrlInput])\r\n\r\n    const validUrl: boolean = useMemo(() => {\r\n        return uriToHttp(listUrlInput).length > 0 || Boolean(parseENSAddress(listUrlInput))\r\n    }, [listUrlInput])\r\n\r\n    const handleEnterKey = useCallback(\r\n        e => {\r\n            if (validUrl && e.key === 'Enter') {\r\n                handleAddList()\r\n            }\r\n        },\r\n        [handleAddList, validUrl]\r\n    )\r\n\r\n    const sortedLists = useMemo(() => {\r\n        const listUrls = Object.keys(lists)\r\n        return listUrls\r\n            .filter(listUrl => {\r\n                return Boolean(lists[listUrl].current)\r\n            })\r\n            .sort((u1, u2) => {\r\n                const { current: l1 } = lists[u1]\r\n                const { current: l2 } = lists[u2]\r\n                if (l1 && l2) {\r\n                    return l1.name.toLowerCase() < l2.name.toLowerCase()\r\n                        ? -1\r\n                        : l1.name.toLowerCase() === l2.name.toLowerCase()\r\n                            ? 0\r\n                            : 1\r\n                }\r\n                if (l1) return -1\r\n                if (l2) return 1\r\n                return 0\r\n            })\r\n    }, [lists])\r\n\r\n    return (\r\n        <Column style={{ width: '100%', flex: '1 1' }}>\r\n            <PaddedColumn>\r\n                <RowBetween>\r\n                    <div>\r\n                        <ArrowLeft style={{ cursor: 'pointer' }} onClick={onBack} />\r\n                    </div>\r\n                    <Text fontWeight={500} fontSize={20}>\r\n                        ç®¡ç†åˆ—è¡¨\r\n                    </Text>\r\n                    <CloseIcon onClick={onDismiss} />\r\n                </RowBetween>\r\n            </PaddedColumn>\r\n\r\n            <Separator />\r\n\r\n            <PaddedColumn gap=\"14px\">\r\n                <Text fontWeight={600}>\r\n                    æ–°å¢žåˆ—è¡¨{' '}\r\n                    <QuestionHelper text=\"é€šè¯åˆ—è¡¨æ˜¯ERC20é€šè¯åˆ—è¡¨çš„å¼€æ”¾è§„èŒƒã€‚æ‚¨å¯ä»¥é€šè¿‡åœ¨ä¸‹é¢è¾“å…¥å…¶URLæ¥ä½¿ç”¨ä»»ä½•é€šè¯åˆ—è¡¨ã€‚æ³¨æ„ç¬¬ä¸‰æ–¹é€šè¯åˆ—è¡¨å¯èƒ½åŒ…å«è™šå‡æˆ–æ¶æ„çš„ERC20é€šè¯\" />\r\n                </Text>\r\n                <Row>\r\n                    <SearchInput\r\n                        type=\"text\"\r\n                        id=\"list-add-input\"\r\n                        placeholder=\"https:// or ipfs:// or ENS name\"\r\n                        value={listUrlInput}\r\n                        onChange={handleInput}\r\n                        onKeyDown={handleEnterKey}\r\n                        style={{ height: '2.75rem', borderRadius: 12, padding: '12px' }}\r\n                    />\r\n                    <AddListButton onClick={handleAddList} disabled={!validUrl}>\r\n                        æ–°å¢ž\r\n                    </AddListButton>\r\n                </Row>\r\n                {addError ? (\r\n                    <TYPE.error title={addError} style={{ textOverflow: 'ellipsis', overflow: 'hidden' }} error>\r\n                        {addError}\r\n                    </TYPE.error>\r\n                ) : null}\r\n            </PaddedColumn>\r\n\r\n            <Separator />\r\n\r\n            <ListContainer>\r\n                {sortedLists.map(listUrl => (\r\n                    <ListRow key={listUrl} listUrl={listUrl} onBack={onBack} />\r\n                ))}\r\n            </ListContainer>\r\n            <Separator />\r\n        </Column>\r\n    )\r\n}\r\n","import { Currency } from '@tianheng2017/dex-sdk'\r\nimport React, { useCallback, useEffect, useState } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport useLast from '../../hooks/useLast'\r\nimport { useSelectedListUrl } from '../../state/lists/hooks'\r\nimport Modal from '../Modal'\r\nimport { CurrencySearch } from './CurrencySearch'\r\nimport ListIntroduction from './ListIntroduction'\r\nimport { ListSelect } from './ListSelect'\r\n\r\ninterface CurrencySearchModalProps {\r\n  isOpen: boolean\r\n  onDismiss: () => void\r\n  selectedCurrency?: Currency | null\r\n  onCurrencySelect: (currency: Currency) => void\r\n  otherSelectedCurrency?: Currency | null\r\n  showCommonBases?: boolean\r\n}\r\n\r\nexport default function CurrencySearchModal({\r\n  isOpen,\r\n  onDismiss,\r\n  onCurrencySelect,\r\n  selectedCurrency,\r\n  otherSelectedCurrency,\r\n  showCommonBases = false\r\n}: CurrencySearchModalProps) {\r\n  const [listView, setListView] = useState<boolean>(false)\r\n  const lastOpen = useLast(isOpen)\r\n\r\n  useEffect(() => {\r\n    if (isOpen && !lastOpen) {\r\n      setListView(false)\r\n    }\r\n  }, [isOpen, lastOpen])\r\n\r\n  const handleCurrencySelect = useCallback(\r\n    (currency: Currency) => {\r\n      onCurrencySelect(currency)\r\n      onDismiss()\r\n    },\r\n    [onDismiss, onCurrencySelect]\r\n  )\r\n\r\n  const handleClickChangeList = useCallback(() => {\r\n    ReactGA.event({\r\n      category: 'Lists',\r\n      action: 'Change Lists'\r\n    })\r\n    setListView(true)\r\n  }, [])\r\n  const handleClickBack = useCallback(() => {\r\n    ReactGA.event({\r\n      category: 'Lists',\r\n      action: 'Back'\r\n    })\r\n    setListView(false)\r\n  }, [])\r\n  const handleSelectListIntroduction = useCallback(() => {\r\n    setListView(true)\r\n  }, [])\r\n\r\n  const selectedListUrl = useSelectedListUrl()\r\n  const noListSelected = !selectedListUrl\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onDismiss={onDismiss} maxHeight={90} minHeight={listView ? 40 : noListSelected ? 0 : 80}>\r\n      {listView ? (\r\n        <ListSelect onDismiss={onDismiss} onBack={handleClickBack} />\r\n      ) : noListSelected ? (\r\n        <ListIntroduction onSelectList={handleSelectListIntroduction} />\r\n      ) : (\r\n        <CurrencySearch\r\n          isOpen={isOpen}\r\n          onDismiss={onDismiss}\r\n          onCurrencySelect={handleCurrencySelect}\r\n          onChangeList={handleClickChangeList}\r\n          selectedCurrency={selectedCurrency}\r\n          otherSelectedCurrency={otherSelectedCurrency}\r\n          showCommonBases={showCommonBases}\r\n        />\r\n      )}\r\n    </Modal>\r\n  )\r\n}\r\n","import { Currency } from '@tianheng2017/dex-sdk'\r\nimport React from 'react'\r\nimport styled from 'styled-components'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\n\r\nconst Wrapper = styled.div<{ margin: boolean; sizeraw: number }>`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-right: ${({ sizeraw, margin }) => margin && (sizeraw / 3 + 8).toString() + 'px'};\r\n`\r\n\r\ninterface DoubleCurrencyLogoProps {\r\n  margin?: boolean\r\n  size?: number\r\n  currency0?: Currency\r\n  currency1?: Currency\r\n}\r\n\r\nconst HigherLogo = styled(CurrencyLogo)`\r\n  z-index: 2;\r\n`\r\nconst CoveredLogo = styled(CurrencyLogo)<{ sizeraw: number }>`\r\n  position: absolute;\r\n  left: ${({ sizeraw }) => (sizeraw / 2).toString() + 'px'};\r\n`\r\n\r\nexport default function DoubleCurrencyLogo({\r\n  currency0,\r\n  currency1,\r\n  size = 16,\r\n  margin = false\r\n}: DoubleCurrencyLogoProps) {\r\n  return (\r\n    <Wrapper sizeraw={size} margin={margin}>\r\n      {currency0 && <HigherLogo currency={currency0} size={size.toString() + 'px'} />}\r\n      {currency1 && <CoveredLogo currency={currency1} size={size.toString() + 'px'} sizeraw={size} />}\r\n    </Wrapper>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { escapeRegExp } from '../../utils'\r\n\r\nconst StyledInput = styled.input<{ error?: boolean; fontSize?: string; align?: string }>`\r\n  color: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\r\n  width: 0;\r\n  position: relative;\r\n  font-weight: 500;\r\n  outline: none;\r\n  border: none;\r\n  flex: 1 1 auto;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  font-size: ${({ fontSize }) => fontSize ?? '24px'};\r\n  text-align: ${({ align }) => align && align};\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  padding: 0px;\r\n  -webkit-appearance: textfield;\r\n\r\n  ::-webkit-search-decoration {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  [type='number'] {\r\n    -moz-appearance: textfield;\r\n  }\r\n\r\n  ::-webkit-outer-spin-button,\r\n  ::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text4};\r\n  }\r\n`\r\n\r\nconst inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\r\n\r\nexport const Input = React.memo(function InnerInput({\r\n  value,\r\n  onUserInput,\r\n  placeholder,\r\n  ...rest\r\n}: {\r\n  value: string | number\r\n  onUserInput: (input: string) => void\r\n  error?: boolean\r\n  fontSize?: string\r\n  align?: 'right' | 'left'\r\n} & Omit<React.HTMLProps<HTMLInputElement>, 'ref' | 'onChange' | 'as'>) {\r\n  const enforcer = (nextUserInput: string) => {\r\n    if (nextUserInput === '' || inputRegex.test(escapeRegExp(nextUserInput))) {\r\n      onUserInput(nextUserInput)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <StyledInput\r\n      {...rest}\r\n      value={value}\r\n      onChange={event => {\r\n        // replace commas with periods, because uniswap exclusively uses period as the decimal separator\r\n        enforcer(event.target.value.replace(/,/g, '.'))\r\n      }}\r\n      // universal input options\r\n      inputMode=\"decimal\"\r\n      title=\"Token Amount\"\r\n      autoComplete=\"off\"\r\n      autoCorrect=\"off\"\r\n      // text-specific options\r\n      type=\"text\"\r\n      pattern=\"^[0-9]*[.,]?[0-9]*$\"\r\n      placeholder={placeholder || '0.0'}\r\n      minLength={1}\r\n      maxLength={79}\r\n      spellCheck=\"false\"\r\n    />\r\n  )\r\n})\r\n\r\nexport default Input\r\n\r\n// const inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\r\n","import { Currency, Pair } from '@tianheng2017/dex-sdk'\r\nimport React, { useState, useContext, useCallback } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { darken } from 'polished'\r\nimport { useCurrencyBalance } from '../../state/wallet/hooks'\r\nimport CurrencySearchModal from '../SearchModal/CurrencySearchModal'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\nimport DoubleCurrencyLogo from '../DoubleLogo'\r\nimport { RowBetween } from '../Row'\r\nimport { TYPE } from '../../theme'\r\nimport { Input as NumericalInput } from '../NumericalInput'\r\nimport { ReactComponent as DropDown } from '../../assets/images/dropdown.svg'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nconst InputRow = styled.div<{ selected: boolean }>`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  align-items: center;\r\n  padding: ${({ selected }) => (selected ? '0.75rem 0.5rem 0.75rem 1rem' : '0.75rem 0.75rem 0.75rem 1rem')};\r\n`\r\n\r\nconst CurrencySelect = styled.button<{ selected: boolean }>`\r\n  align-items: center;\r\n  height: 2.2rem;\r\n  font-size: 20px;\r\n  font-weight: 500;\r\n  background-color: ${({ selected, theme }) => (selected ? theme.bg1 : theme.primary1)};\r\n  color: ${({ selected, theme }) => (selected ? theme.text1 : theme.white)};\r\n  border-radius: 12px;\r\n  box-shadow: ${({ selected }) => (selected ? 'none' : '0px 6px 10px rgba(0, 0, 0, 0.075)')};\r\n  outline: none;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  border: none;\r\n  padding: 0 0.5rem;\r\n\r\n  :focus,\r\n  :hover {\r\n    background-color: ${({ selected, theme }) => (selected ? theme.bg2 : darken(0.05, theme.primary1))};\r\n  }\r\n`\r\n\r\nconst LabelRow = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  align-items: center;\r\n  color: ${({ theme }) => theme.text1};\r\n  font-size: 0.75rem;\r\n  line-height: 1rem;\r\n  padding: 0.75rem 1rem 0 1rem;\r\n  span:hover {\r\n    cursor: pointer;\r\n    color: ${({ theme }) => darken(0.2, theme.text2)};\r\n  }\r\n`\r\n\r\nconst Aligner = styled.span`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst StyledDropDown = styled(DropDown)<{ selected: boolean }>`\r\n  margin: 0 0.25rem 0 0.5rem;\r\n  height: 35%;\r\n\r\n  path {\r\n    stroke: ${({ selected, theme }) => (selected ? theme.text1 : theme.white)};\r\n    stroke-width: 1.5px;\r\n  }\r\n`\r\n\r\nconst InputPanel = styled.div<{ hideInput?: boolean }>`\r\n  ${({ theme }) => theme.flexColumnNoWrap}\r\n  position: relative;\r\n  border-radius: ${({ hideInput }) => (hideInput ? '8px' : '20px')};\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  z-index: 1;\r\n`\r\n\r\nconst Container = styled.div<{ hideInput: boolean }>`\r\n  border-radius: ${({ hideInput }) => (hideInput ? '8px' : '20px')};\r\n  border: 1px solid ${({ theme }) => theme.bg2};\r\n  background-color: ${({ theme }) => theme.bg1};\r\n`\r\n\r\nconst StyledTokenName = styled.span<{ active?: boolean }>`\r\n  ${({ active }) => (active ? '  margin: 0 0.25rem 0 0.75rem;' : '  margin: 0 0.25rem 0 0.25rem;')}\r\n  font-size:  ${({ active }) => (active ? '20px' : '16px')};\r\n\r\n`\r\n\r\nconst StyledBalanceMax = styled.button`\r\n  height: 28px;\r\n  background-color: ${({ theme }) => theme.primary5};\r\n  border: 1px solid ${({ theme }) => theme.primary5};\r\n  border-radius: 0.5rem;\r\n  font-size: 0.875rem;\r\n\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  margin-right: 0.5rem;\r\n  color: ${({ theme }) => theme.primaryText1};\r\n  :hover {\r\n    border: 1px solid ${({ theme }) => theme.primary1};\r\n  }\r\n  :focus {\r\n    border: 1px solid ${({ theme }) => theme.primary1};\r\n    outline: none;\r\n  }\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    margin-right: 0.5rem;\r\n  `};\r\n`\r\n\r\ninterface CurrencyInputPanelProps {\r\n  value: string\r\n  onUserInput: (value: string) => void\r\n  onMax?: () => void\r\n  showMaxButton: boolean\r\n  label?: string\r\n  onCurrencySelect?: (currency: Currency) => void\r\n  currency?: Currency | null\r\n  disableCurrencySelect?: boolean\r\n  hideBalance?: boolean\r\n  pair?: Pair | null\r\n  hideInput?: boolean\r\n  otherCurrency?: Currency | null\r\n  id: string\r\n  showCommonBases?: boolean\r\n}\r\n\r\nexport default function CurrencyInputPanel({\r\n  value,\r\n  onUserInput,\r\n  onMax,\r\n  showMaxButton,\r\n  label = 'Input',\r\n  onCurrencySelect,\r\n  currency,\r\n  disableCurrencySelect = false,\r\n  hideBalance = false,\r\n  pair = null, // used for double token logo\r\n  hideInput = false,\r\n  otherCurrency,\r\n  id,\r\n  showCommonBases\r\n}: CurrencyInputPanelProps) {\r\n  const { t } = useTranslation()\r\n\r\n  const [modalOpen, setModalOpen] = useState(false)\r\n  const { account } = useActiveWeb3React()\r\n  const selectedCurrencyBalance = useCurrencyBalance(account ?? undefined, currency ?? undefined)\r\n  const theme = useContext(ThemeContext)\r\n\r\n  const handleDismissSearch = useCallback(() => {\r\n    setModalOpen(false)\r\n  }, [setModalOpen])\r\n\r\n  return (\r\n    <InputPanel id={id}>\r\n      <Container hideInput={hideInput}>\r\n        {!hideInput && (\r\n          <LabelRow>\r\n            <RowBetween>\r\n              <TYPE.body color={theme.text2} fontWeight={500} fontSize={14}>\r\n                {label}\r\n              </TYPE.body>\r\n              {account && (\r\n                <TYPE.body\r\n                  onClick={onMax}\r\n                  color={theme.text2}\r\n                  fontWeight={500}\r\n                  fontSize={14}\r\n                  style={{ display: 'inline', cursor: 'pointer' }}\r\n                >\r\n                  {!hideBalance && !!currency && selectedCurrencyBalance\r\n                    ? t('balance') + ': ' + selectedCurrencyBalance?.toSignificant(6)\r\n                    : ' -'}\r\n                </TYPE.body>\r\n              )}\r\n            </RowBetween>\r\n          </LabelRow>\r\n        )}\r\n        <InputRow style={hideInput ? { padding: '0', borderRadius: '8px' } : {}} selected={disableCurrencySelect}>\r\n          {!hideInput && (\r\n            <>\r\n              <NumericalInput\r\n                className=\"token-amount-input\"\r\n                value={value}\r\n                onUserInput={val => {\r\n                  onUserInput(val)\r\n                }}\r\n              />\r\n              {account && currency && showMaxButton && label !== 'To' && (\r\n                <StyledBalanceMax onClick={onMax}>{t('max')}</StyledBalanceMax>\r\n              )}\r\n            </>\r\n          )}\r\n          <CurrencySelect\r\n            selected={!!currency}\r\n            className=\"open-currency-select-button\"\r\n            onClick={() => {\r\n              if (!disableCurrencySelect) {\r\n                setModalOpen(true)\r\n              }\r\n            }}\r\n          >\r\n            <Aligner>\r\n              {pair ? (\r\n                <DoubleCurrencyLogo currency0={pair.token0} currency1={pair.token1} size={24} margin={true} />\r\n              ) : currency ? (\r\n                <CurrencyLogo currency={currency} size={'24px'} />\r\n              ) : null}\r\n              {pair ? (\r\n                <StyledTokenName className=\"pair-name-container\">\r\n                  {pair?.token0.symbol}:{pair?.token1.symbol}\r\n                </StyledTokenName>\r\n              ) : (\r\n                <StyledTokenName className=\"token-symbol-container\" active={Boolean(currency && currency.symbol)}>\r\n                  {(currency && currency.symbol && currency.symbol.length > 20\r\n                    ? currency.symbol.slice(0, 4) +\r\n                      '...' +\r\n                      currency.symbol.slice(currency.symbol.length - 5, currency.symbol.length)\r\n                    : currency?.symbol) || t('selectToken')}\r\n                </StyledTokenName>\r\n              )}\r\n              {!disableCurrencySelect && <StyledDropDown selected={!!currency} />}\r\n            </Aligner>\r\n          </CurrencySelect>\r\n        </InputRow>\r\n      </Container>\r\n      {!disableCurrencySelect && onCurrencySelect && (\r\n        <CurrencySearchModal\r\n          isOpen={modalOpen}\r\n          onDismiss={handleDismissSearch}\r\n          onCurrencySelect={onCurrencySelect}\r\n          selectedCurrency={currency}\r\n          otherSelectedCurrency={otherCurrency}\r\n          showCommonBases={showCommonBases}\r\n        />\r\n      )}\r\n    </InputPanel>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { darken } from 'polished'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { NavLink, Link as HistoryLink } from 'react-router-dom'\r\n\r\nimport { ArrowLeft } from 'react-feather'\r\nimport { RowBetween } from '../Row'\r\nimport QuestionHelper from '../QuestionHelper'\r\n\r\nconst Tabs = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  align-items: center;\r\n  border-radius: 3rem;\r\n  justify-content: space-evenly;\r\n`\r\n\r\nconst activeClassName = 'ACTIVE'\r\n\r\nconst StyledNavLink = styled(NavLink).attrs({\r\n    activeClassName\r\n})`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 3rem;\r\n  border-radius: 3rem;\r\n  outline: none;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n  color: ${({ theme }) => theme.text3};\r\n  font-size: 20px;\r\n\r\n  &.${activeClassName} {\r\n    border-radius: 12px;\r\n    font-weight: 500;\r\n    color: ${({ theme }) => theme.text1};\r\n  }\r\n\r\n  :hover,\r\n  :focus {\r\n    color: ${({ theme }) => darken(0.1, theme.text1)};\r\n  }\r\n`\r\n\r\nconst ActiveText = styled.div`\r\n  font-weight: 500;\r\n  font-size: 20px;\r\n`\r\n\r\nconst StyledArrowLeft = styled(ArrowLeft)`\r\n  color: ${({ theme }) => theme.text1};\r\n`\r\n\r\nexport function SwapPoolTabs({ active }: { active: 'swap' | 'pool' }) {\r\n    const { t } = useTranslation()\r\n    return (\r\n        <Tabs style={{ marginBottom: '20px' }}>\r\n            <StyledNavLink id={`swap-nav-link`} to={'/swap'} isActive={() => active === 'swap'}>\r\n                {t('swap')}\r\n            </StyledNavLink>\r\n            <StyledNavLink id={`pool-nav-link`} to={'/pool'} isActive={() => active === 'pool'}>\r\n                {t('pool')}\r\n            </StyledNavLink>\r\n        </Tabs>\r\n    )\r\n}\r\n\r\nexport function FindPoolTabs() {\r\n    const { t } = useTranslation()\r\n    return (\r\n        <Tabs>\r\n            <RowBetween style={{ padding: '1rem' }}>\r\n                <HistoryLink to=\"/pool\">\r\n                    <StyledArrowLeft />\r\n                </HistoryLink>\r\n                <ActiveText>{t('importPool')}</ActiveText>\r\n                <QuestionHelper text={t('importPoolHelper')} />\r\n            </RowBetween>\r\n        </Tabs>\r\n    )\r\n}\r\n\r\nexport function AddRemoveTabs({ adding }: { adding: boolean }) {\r\n    return (\r\n        <Tabs>\r\n            <RowBetween style={{ padding: '1rem' }}>\r\n                <HistoryLink to=\"/pool\">\r\n                    <StyledArrowLeft />\r\n                </HistoryLink>\r\n                <ActiveText>{adding ? 'Add' : 'Remove'} Liquidity</ActiveText>\r\n                <QuestionHelper\r\n                    text={\r\n                        adding\r\n                            ? 'å½“æ‚¨æ·»åŠ æµåŠ¨æ€§æ—¶ï¼Œå°†èŽ·å¾—ä»£è¡¨æ‚¨ä»“ä½çš„æµåŠ¨æ± ä»£å¸ã€‚è¿™äº›ä»£å¸ä¼šè‡ªåŠ¨æŒ‰æ¯”ä¾‹èµšå–è´¹ç”¨ï¼Œå¹¶å¯éšæ—¶èµŽå›ž'\r\n                            : 'ç§»é™¤æµåŠ¨æ± ä»£å¸å°†æŒ‰æ¯”ä¾‹å°†æ‚¨åœ¨å½“å‰è´¹çŽ‡ä¸‹çš„æŒæœ‰ä»½é¢è½¬æ¢å›žåŸºç¡€ä»£å¸ã€‚åº”è®¡è´¹ç”¨åŒ…å«åœ¨æ‚¨æ”¶åˆ°çš„é‡‘é¢ä¸­'\r\n                    }\r\n                />\r\n            </RowBetween>\r\n        </Tabs>\r\n    )\r\n}\r\n","import { BigNumber } from '@ethersproject/bignumber'\r\nimport { Token, TokenAmount } from '@tianheng2017/dex-sdk'\r\nimport { useTokenContract } from '../hooks/useContract'\r\nimport { useSingleCallResult } from '../state/multicall/hooks'\r\n\r\n// returns undefined if input token is undefined, or fails to get token contract,\r\n// or contract total supply cannot be fetched\r\nexport function useTotalSupply(token?: Token): TokenAmount | undefined {\r\n  const contract = useTokenContract(token?.address, false)\r\n\r\n  const totalSupply: BigNumber = useSingleCallResult(contract, 'totalSupply')?.result?.[0]\r\n\r\n  return token && totalSupply ? new TokenAmount(token, totalSupply.toString()) : undefined\r\n}\r\n","import { Currency, ETHER, Token } from '@tianheng2017/dex-sdk'\r\n\r\nexport function currencyId(currency: Currency): string {\r\n  if (currency === ETHER) return 'ETH'\r\n  if (currency instanceof Token) return currency.address\r\n  throw new Error('invalid currency')\r\n}\r\n","import { ChainId, Currency, CurrencyAmount, ETHER, Token, TokenAmount, WETH } from '@tianheng2017/dex-sdk'\r\n\r\nexport function wrappedCurrency(currency: Currency | undefined, chainId: ChainId | undefined): Token | undefined {\r\n  return chainId && currency === ETHER ? WETH[chainId] : currency instanceof Token ? currency : undefined\r\n}\r\n\r\nexport function wrappedCurrencyAmount(\r\n  currencyAmount: CurrencyAmount | undefined,\r\n  chainId: ChainId | undefined\r\n): TokenAmount | undefined {\r\n  const token = currencyAmount && chainId ? wrappedCurrency(currencyAmount.currency, chainId) : undefined\r\n  return token && currencyAmount ? new TokenAmount(token, currencyAmount.raw) : undefined\r\n}\r\n\r\nexport function unwrappedToken(token: Token): Currency {\r\n  if (token.equals(WETH[token.chainId])) return ETHER\r\n  return token\r\n}\r\n","import { transparentize } from 'polished'\r\nimport React from 'react'\r\nimport { AlertTriangle } from 'react-feather'\r\nimport styled, { css } from 'styled-components'\r\nimport { Text } from 'rebass'\r\nimport { AutoColumn } from '../Column'\r\n\r\nexport const Wrapper = styled.div`\r\n  position: relative;\r\n`\r\n\r\nexport const ArrowWrapper = styled.div<{ clickable: boolean }>`\r\n  padding: 2px;\r\n\r\n  ${({ clickable }) =>\r\n    clickable\r\n      ? css`\r\n          :hover {\r\n            cursor: pointer;\r\n            opacity: 0.8;\r\n          }\r\n        `\r\n      : null}\r\n`\r\n\r\nexport const SectionBreak = styled.div`\r\n  height: 1px;\r\n  width: 100%;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n`\r\n\r\nexport const BottomGrouping = styled.div`\r\n  margin-top: 1rem;\r\n`\r\n\r\nexport const ErrorText = styled(Text)<{ severity?: 0 | 1 | 2 | 3 | 4 }>`\r\n  color: ${({ theme, severity }) =>\r\n    severity === 3 || severity === 4\r\n      ? theme.red1\r\n      : severity === 2\r\n      ? theme.yellow2\r\n      : severity === 1\r\n      ? theme.text1\r\n      : theme.green1};\r\n`\r\n\r\nexport const StyledBalanceMaxMini = styled.button`\r\n  height: 22px;\r\n  width: 22px;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  border: none;\r\n  border-radius: 50%;\r\n  padding: 0.2rem;\r\n  font-size: 0.875rem;\r\n  font-weight: 400;\r\n  margin-left: 0.4rem;\r\n  cursor: pointer;\r\n  color: ${({ theme }) => theme.text2};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  float: right;\r\n\r\n  :hover {\r\n    background-color: ${({ theme }) => theme.bg3};\r\n  }\r\n  :focus {\r\n    background-color: ${({ theme }) => theme.bg3};\r\n    outline: none;\r\n  }\r\n`\r\n\r\nexport const TruncatedText = styled(Text)`\r\n  text-overflow: ellipsis;\r\n  width: 220px;\r\n  overflow: hidden;\r\n`\r\n\r\n// styles\r\nexport const Dots = styled.span`\r\n  &::after {\r\n    display: inline-block;\r\n    animation: ellipsis 1.25s infinite;\r\n    content: '.';\r\n    width: 1em;\r\n    text-align: left;\r\n  }\r\n  @keyframes ellipsis {\r\n    0% {\r\n      content: '.';\r\n    }\r\n    33% {\r\n      content: '..';\r\n    }\r\n    66% {\r\n      content: '...';\r\n    }\r\n  }\r\n`\r\n\r\nconst SwapCallbackErrorInner = styled.div`\r\n  background-color: ${({ theme }) => transparentize(0.9, theme.red1)};\r\n  border-radius: 1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 0.825rem;\r\n  width: 100%;\r\n  padding: 3rem 1.25rem 1rem 1rem;\r\n  margin-top: -2rem;\r\n  color: ${({ theme }) => theme.red1};\r\n  z-index: -1;\r\n  p {\r\n    padding: 0;\r\n    margin: 0;\r\n    font-weight: 500;\r\n  }\r\n`\r\n\r\nconst SwapCallbackErrorInnerAlertTriangle = styled.div`\r\n  background-color: ${({ theme }) => transparentize(0.9, theme.red1)};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 12px;\r\n  border-radius: 12px;\r\n  min-width: 48px;\r\n  height: 48px;\r\n`\r\n\r\nexport function SwapCallbackError({ error }: { error: string }) {\r\n  return (\r\n    <SwapCallbackErrorInner>\r\n      <SwapCallbackErrorInnerAlertTriangle>\r\n        <AlertTriangle size={24} />\r\n      </SwapCallbackErrorInnerAlertTriangle>\r\n      <p>{error}</p>\r\n    </SwapCallbackErrorInner>\r\n  )\r\n}\r\n\r\nexport const SwapShowAcceptChanges = styled(AutoColumn)`\r\n  background-color: ${({ theme }) => transparentize(0.9, theme.primary1)};\r\n  color: ${({ theme }) => theme.primary1};\r\n  padding: 0.5rem;\r\n  border-radius: 12px;\r\n  margin-top: 8px;\r\n`\r\n","import { JSBI, Pair, Percent } from '@tianheng2017/dex-sdk'\r\nimport { darken } from 'polished'\r\nimport React, { useState } from 'react'\r\nimport { ChevronDown, ChevronUp } from 'react-feather'\r\nimport { Link } from 'react-router-dom'\r\nimport { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\nimport { useTotalSupply } from '../../data/TotalSupply'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useTokenBalance } from '../../state/wallet/hooks'\r\nimport { currencyId } from '../../utils/currencyId'\r\nimport { unwrappedToken } from '../../utils/wrappedCurrency'\r\nimport { ButtonSecondary } from '../Button'\r\n\r\nimport Card, { GreyCard } from '../Card'\r\nimport { AutoColumn } from '../Column'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\nimport DoubleCurrencyLogo from '../DoubleLogo'\r\nimport { RowBetween, RowFixed } from '../Row'\r\nimport { Dots } from '../swap/styleds'\r\n\r\nexport const FixedHeightRow = styled(RowBetween)`\r\n  height: 24px;\r\n`\r\n\r\nexport const HoverCard = styled(Card)`\r\n  border: 1px solid ${({ theme }) => theme.bg2};\r\n  :hover {\r\n    border: 1px solid ${({ theme }) => darken(0.06, theme.bg2)};\r\n  }\r\n`\r\n\r\ninterface PositionCardProps {\r\n    pair: Pair\r\n    showUnwrapped?: boolean\r\n    border?: string\r\n}\r\n\r\nexport function MinimalPositionCard({ pair, showUnwrapped = false, border }: PositionCardProps) {\r\n    const { account } = useActiveWeb3React()\r\n\r\n    const currency0 = showUnwrapped ? pair.token0 : unwrappedToken(pair.token0)\r\n    const currency1 = showUnwrapped ? pair.token1 : unwrappedToken(pair.token1)\r\n\r\n    const [showMore, setShowMore] = useState(false)\r\n\r\n    const userPoolBalance = useTokenBalance(account ?? undefined, pair.liquidityToken)\r\n    const totalPoolTokens = useTotalSupply(pair.liquidityToken)\r\n\r\n    const [token0Deposited, token1Deposited] =\r\n        !!pair &&\r\n            !!totalPoolTokens &&\r\n            !!userPoolBalance &&\r\n            // this condition is a short-circuit in the case where useTokenBalance updates sooner than useTotalSupply\r\n            JSBI.greaterThanOrEqual(totalPoolTokens.raw, userPoolBalance.raw)\r\n            ? [\r\n                pair.getLiquidityValue(pair.token0, totalPoolTokens, userPoolBalance, false),\r\n                pair.getLiquidityValue(pair.token1, totalPoolTokens, userPoolBalance, false)\r\n            ]\r\n            : [undefined, undefined]\r\n\r\n    return (\r\n        <>\r\n            {userPoolBalance && (\r\n                <GreyCard border={border}>\r\n                    <AutoColumn gap=\"12px\">\r\n                        <FixedHeightRow>\r\n                            <RowFixed>\r\n                                <Text fontWeight={500} fontSize={16}>\r\n                                    æ‚¨çš„ä»“ä½\r\n                                </Text>\r\n                            </RowFixed>\r\n                        </FixedHeightRow>\r\n                        <FixedHeightRow onClick={() => setShowMore(!showMore)}>\r\n                            <RowFixed>\r\n                                <DoubleCurrencyLogo currency0={currency0} currency1={currency1} margin={true} size={20} />\r\n                                <Text fontWeight={500} fontSize={20}>\r\n                                    {currency0.symbol}/{currency1.symbol}\r\n                                </Text>\r\n                            </RowFixed>\r\n                            <RowFixed>\r\n                                <Text fontWeight={500} fontSize={20}>\r\n                                    {userPoolBalance ? userPoolBalance.toSignificant(4) : '-'}\r\n                                </Text>\r\n                            </RowFixed>\r\n                        </FixedHeightRow>\r\n                        <AutoColumn gap=\"4px\">\r\n                            <FixedHeightRow>\r\n                                <Text color=\"#888D9B\" fontSize={16} fontWeight={500}>\r\n                                    {currency0.symbol}:\r\n                                </Text>\r\n                                {token0Deposited ? (\r\n                                    <RowFixed>\r\n                                        <Text color=\"#888D9B\" fontSize={16} fontWeight={500} marginLeft={'6px'}>\r\n                                            {token0Deposited?.toSignificant(6)}\r\n                                        </Text>\r\n                                    </RowFixed>\r\n                                ) : (\r\n                                    '-'\r\n                                )}\r\n                            </FixedHeightRow>\r\n                            <FixedHeightRow>\r\n                                <Text color=\"#888D9B\" fontSize={16} fontWeight={500}>\r\n                                    {currency1.symbol}:\r\n                                </Text>\r\n                                {token1Deposited ? (\r\n                                    <RowFixed>\r\n                                        <Text color=\"#888D9B\" fontSize={16} fontWeight={500} marginLeft={'6px'}>\r\n                                            {token1Deposited?.toSignificant(6)}\r\n                                        </Text>\r\n                                    </RowFixed>\r\n                                ) : (\r\n                                    '-'\r\n                                )}\r\n                            </FixedHeightRow>\r\n                        </AutoColumn>\r\n                    </AutoColumn>\r\n                </GreyCard>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default function FullPositionCard({ pair, border }: PositionCardProps) {\r\n    const { account } = useActiveWeb3React()\r\n\r\n    const currency0 = unwrappedToken(pair.token0)\r\n    const currency1 = unwrappedToken(pair.token1)\r\n\r\n    const [showMore, setShowMore] = useState(false)\r\n\r\n    const userPoolBalance = useTokenBalance(account ?? undefined, pair.liquidityToken)\r\n    const totalPoolTokens = useTotalSupply(pair.liquidityToken)\r\n\r\n    const poolTokenPercentage =\r\n        !!userPoolBalance && !!totalPoolTokens && JSBI.greaterThanOrEqual(totalPoolTokens.raw, userPoolBalance.raw)\r\n            ? new Percent(userPoolBalance.raw, totalPoolTokens.raw)\r\n            : undefined\r\n\r\n    const [token0Deposited, token1Deposited] =\r\n        !!pair &&\r\n            !!totalPoolTokens &&\r\n            !!userPoolBalance &&\r\n            // this condition is a short-circuit in the case where useTokenBalance updates sooner than useTotalSupply\r\n            JSBI.greaterThanOrEqual(totalPoolTokens.raw, userPoolBalance.raw)\r\n            ? [\r\n                pair.getLiquidityValue(pair.token0, totalPoolTokens, userPoolBalance, false),\r\n                pair.getLiquidityValue(pair.token1, totalPoolTokens, userPoolBalance, false)\r\n            ]\r\n            : [undefined, undefined]\r\n\r\n    return (\r\n        <HoverCard border={border}>\r\n            <AutoColumn gap=\"12px\">\r\n                <FixedHeightRow onClick={() => setShowMore(!showMore)} style={{ cursor: 'pointer' }}>\r\n                    <RowFixed>\r\n                        <DoubleCurrencyLogo currency0={currency0} currency1={currency1} margin={true} size={20} />\r\n                        <Text fontWeight={500} fontSize={20}>\r\n                            {!currency0 || !currency1 ? <Dots>Loading</Dots> : `${currency0.symbol}/${currency1.symbol}`}\r\n                        </Text>\r\n                    </RowFixed>\r\n                    <RowFixed>\r\n                        {showMore ? (\r\n                            <ChevronUp size=\"20\" style={{ marginLeft: '10px' }} />\r\n                        ) : (\r\n                            <ChevronDown size=\"20\" style={{ marginLeft: '10px' }} />\r\n                        )}\r\n                    </RowFixed>\r\n                </FixedHeightRow>\r\n                {showMore && (\r\n                    <AutoColumn gap=\"8px\">\r\n                        <FixedHeightRow>\r\n                            <RowFixed>\r\n                                <Text fontSize={16} fontWeight={500}>\r\n                                    {currency0.symbol} æ•°é‡:\r\n                                </Text>\r\n                            </RowFixed>\r\n                            {token0Deposited ? (\r\n                                <RowFixed>\r\n                                    <Text fontSize={16} fontWeight={500} marginLeft={'6px'}>\r\n                                        {token0Deposited?.toSignificant(6)}\r\n                                    </Text>\r\n                                    <CurrencyLogo size=\"20px\" style={{ marginLeft: '8px' }} currency={currency0} />\r\n                                </RowFixed>\r\n                            ) : (\r\n                                '-'\r\n                            )}\r\n                        </FixedHeightRow>\r\n\r\n                        <FixedHeightRow>\r\n                            <RowFixed>\r\n                                <Text fontSize={16} fontWeight={500}>\r\n                                    {currency1.symbol} æ•°é‡:\r\n                                </Text>\r\n                            </RowFixed>\r\n                            {token1Deposited ? (\r\n                                <RowFixed>\r\n                                    <Text fontSize={16} fontWeight={500} marginLeft={'6px'}>\r\n                                        {token1Deposited?.toSignificant(6)}\r\n                                    </Text>\r\n                                    <CurrencyLogo size=\"20px\" style={{ marginLeft: '8px' }} currency={currency1} />\r\n                                </RowFixed>\r\n                            ) : (\r\n                                '-'\r\n                            )}\r\n                        </FixedHeightRow>\r\n                        <FixedHeightRow>\r\n                            <Text fontSize={16} fontWeight={500}>\r\n                                æ‚¨çš„æµåŠ¨æ± é€šè¯:\r\n                            </Text>\r\n                            <Text fontSize={16} fontWeight={500}>\r\n                                {userPoolBalance ? userPoolBalance.toSignificant(4) : '-'}\r\n                            </Text>\r\n                        </FixedHeightRow>\r\n                        <FixedHeightRow>\r\n                            <Text fontSize={16} fontWeight={500}>\r\n                                æ‚¨çš„æµåŠ¨æ± ä»½é¢:\r\n                            </Text>\r\n                            <Text fontSize={16} fontWeight={500}>\r\n                                {poolTokenPercentage ? poolTokenPercentage.toFixed(2) + '%' : '-'}\r\n                            </Text>\r\n                        </FixedHeightRow>\r\n\r\n                        <RowBetween marginTop=\"10px\">\r\n                            <ButtonSecondary as={Link} to={`/add/${currencyId(currency0)}/${currencyId(currency1)}`} width=\"48%\">\r\n                                æ·»åŠ \r\n                            </ButtonSecondary>\r\n                            <ButtonSecondary as={Link} width=\"48%\" to={`/remove/${currencyId(currency0)}/${currencyId(currency1)}`}>\r\n                                ç§»é™¤\r\n                            </ButtonSecondary>\r\n                        </RowBetween>\r\n                    </AutoColumn>\r\n                )}\r\n            </AutoColumn>\r\n        </HoverCard>\r\n    )\r\n}\r\n","import { TokenAmount, Pair, Currency } from '@tianheng2017/dex-sdk'\r\nimport { useMemo } from 'react'\r\nimport { abi as IUniswapV2PairABI } from '@uniswap/v2-core/build/IUniswapV2Pair.json'\r\nimport { Interface } from '@ethersproject/abi'\r\nimport { useActiveWeb3React } from '../hooks'\r\n\r\nimport { useMultipleContractSingleData } from '../state/multicall/hooks'\r\nimport { wrappedCurrency } from '../utils/wrappedCurrency'\r\n\r\nconst PAIR_INTERFACE = new Interface(IUniswapV2PairABI)\r\n\r\nexport enum PairState {\r\n  LOADING,\r\n  NOT_EXISTS,\r\n  EXISTS,\r\n  INVALID\r\n}\r\n\r\nexport function usePairs(currencies: [Currency | undefined, Currency | undefined][]): [PairState, Pair | null][] {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const tokens = useMemo(\r\n    () =>\r\n      currencies.map(([currencyA, currencyB]) => [\r\n        wrappedCurrency(currencyA, chainId),\r\n        wrappedCurrency(currencyB, chainId)\r\n      ]),\r\n    [chainId, currencies]\r\n  )\r\n\r\n  const pairAddresses = useMemo(\r\n    () =>\r\n      tokens.map(([tokenA, tokenB]) => {\r\n        return tokenA && tokenB && !tokenA.equals(tokenB) ? Pair.getAddress(tokenA, tokenB) : undefined\r\n      }),\r\n    [tokens]\r\n  )\r\n\r\n  const results = useMultipleContractSingleData(pairAddresses, PAIR_INTERFACE, 'getReserves')\r\n\r\n  return useMemo(() => {\r\n    return results.map((result, i) => {\r\n      const { result: reserves, loading } = result\r\n      const tokenA = tokens[i][0]\r\n      const tokenB = tokens[i][1]\r\n\r\n      if (loading) return [PairState.LOADING, null]\r\n      if (!tokenA || !tokenB || tokenA.equals(tokenB)) return [PairState.INVALID, null]\r\n      if (!reserves) return [PairState.NOT_EXISTS, null]\r\n      const { reserve0, reserve1 } = reserves\r\n      const [token0, token1] = tokenA.sortsBefore(tokenB) ? [tokenA, tokenB] : [tokenB, tokenA]\r\n      return [\r\n        PairState.EXISTS,\r\n        new Pair(new TokenAmount(token0, reserve0.toString()), new TokenAmount(token1, reserve1.toString()))\r\n      ]\r\n    })\r\n  }, [results, tokens])\r\n}\r\n\r\nexport function usePair(tokenA?: Currency, tokenB?: Currency): [PairState, Pair | null] {\r\n  return usePairs([[tokenA, tokenB]])[0]\r\n}\r\n","import useParsedQueryString from './useParsedQueryString'\r\n\r\nexport enum Version {\r\n  v1 = 'v1',\r\n  v2 = 'v2'\r\n}\r\n\r\nexport const DEFAULT_VERSION: Version = Version.v2\r\n\r\nexport default function useToggledVersion(): Version {\r\n  const { use } = useParsedQueryString()\r\n  if (!use || typeof use !== 'string') return Version.v2\r\n  if (use.toLowerCase() === 'v1') return Version.v1\r\n  return DEFAULT_VERSION\r\n}\r\n","import { parse, ParsedQs } from 'qs'\r\nimport { useMemo } from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nexport default function useParsedQueryString(): ParsedQs {\r\n  const { search } = useLocation()\r\n  return useMemo(\r\n    () => (search && search.length > 1 ? parse(search, { parseArrays: false, ignoreQueryPrefix: true }) : {}),\r\n    [search]\r\n  )\r\n}\r\n","import { AddressZero } from '@ethersproject/constants'\r\nimport {\r\n  BigintIsh,\r\n  Currency,\r\n  CurrencyAmount,\r\n  currencyEquals,\r\n  ETHER,\r\n  JSBI,\r\n  Pair,\r\n  Percent,\r\n  Route,\r\n  Token,\r\n  TokenAmount,\r\n  Trade,\r\n  TradeType,\r\n  WETH\r\n} from '@tianheng2017/dex-sdk'\r\nimport { useMemo } from 'react'\r\nimport { useActiveWeb3React } from '../hooks'\r\nimport { useAllTokens } from '../hooks/Tokens'\r\nimport { useV1FactoryContract } from '../hooks/useContract'\r\nimport { Version } from '../hooks/useToggledVersion'\r\nimport { NEVER_RELOAD, useSingleCallResult, useSingleContractMultipleData } from '../state/multicall/hooks'\r\nimport { useETHBalances, useTokenBalance, useTokenBalances } from '../state/wallet/hooks'\r\n\r\nexport function useV1ExchangeAddress(tokenAddress?: string): string | undefined {\r\n  const contract = useV1FactoryContract()\r\n\r\n  const inputs = useMemo(() => [tokenAddress], [tokenAddress])\r\n  return useSingleCallResult(contract, 'getExchange', inputs)?.result?.[0]\r\n}\r\n\r\nexport class MockV1Pair extends Pair {\r\n  constructor(etherAmount: BigintIsh, tokenAmount: TokenAmount) {\r\n    super(tokenAmount, new TokenAmount(WETH[tokenAmount.token.chainId], etherAmount))\r\n  }\r\n}\r\n\r\nfunction useMockV1Pair(inputCurrency?: Currency): MockV1Pair | undefined {\r\n  const token = inputCurrency instanceof Token ? inputCurrency : undefined\r\n\r\n  const isWETH = Boolean(token && token.equals(WETH[token.chainId]))\r\n  const v1PairAddress = useV1ExchangeAddress(isWETH ? undefined : token?.address)\r\n  const tokenBalance = useTokenBalance(v1PairAddress, token)\r\n  const ETHBalance = useETHBalances([v1PairAddress])[v1PairAddress ?? '']\r\n\r\n  return useMemo(\r\n    () =>\r\n      token && tokenBalance && ETHBalance && inputCurrency ? new MockV1Pair(ETHBalance.raw, tokenBalance) : undefined,\r\n    [ETHBalance, inputCurrency, token, tokenBalance]\r\n  )\r\n}\r\n\r\n// returns all v1 exchange addresses in the user's token list\r\nexport function useAllTokenV1Exchanges(): { [exchangeAddress: string]: Token } {\r\n  const allTokens = useAllTokens()\r\n  const factory = useV1FactoryContract()\r\n  const args = useMemo(() => Object.keys(allTokens).map(tokenAddress => [tokenAddress]), [allTokens])\r\n\r\n  const data = useSingleContractMultipleData(factory, 'getExchange', args, NEVER_RELOAD)\r\n\r\n  return useMemo(\r\n    () =>\r\n      data?.reduce<{ [exchangeAddress: string]: Token }>((memo, { result }, ix) => {\r\n        if (result?.[0] && result[0] !== AddressZero) {\r\n          memo[result[0]] = allTokens[args[ix][0]]\r\n        }\r\n        return memo\r\n      }, {}) ?? {},\r\n    [allTokens, args, data]\r\n  )\r\n}\r\n\r\n// returns whether any of the tokens in the user's token list have liquidity on v1\r\nexport function useUserHasLiquidityInAllTokens(): boolean | undefined {\r\n  const { account, chainId } = useActiveWeb3React()\r\n\r\n  const exchanges = useAllTokenV1Exchanges()\r\n\r\n  const v1ExchangeLiquidityTokens = useMemo(\r\n    () =>\r\n      chainId ? Object.keys(exchanges).map(address => new Token(chainId, address, 18, 'UNI-V1', 'Uniswap V1')) : [],\r\n    [chainId, exchanges]\r\n  )\r\n\r\n  const balances = useTokenBalances(account ?? undefined, v1ExchangeLiquidityTokens)\r\n\r\n  return useMemo(\r\n    () =>\r\n      Object.keys(balances).some(tokenAddress => {\r\n        const b = balances[tokenAddress]?.raw\r\n        return b && JSBI.greaterThan(b, JSBI.BigInt(0))\r\n      }),\r\n    [balances]\r\n  )\r\n}\r\n\r\n/**\r\n * Returns the trade to execute on V1 to go between input and output token\r\n */\r\nexport function useV1Trade(\r\n  isExactIn?: boolean,\r\n  inputCurrency?: Currency,\r\n  outputCurrency?: Currency,\r\n  exactAmount?: CurrencyAmount\r\n): Trade | undefined {\r\n  // get the mock v1 pairs\r\n  const inputPair = useMockV1Pair(inputCurrency)\r\n  const outputPair = useMockV1Pair(outputCurrency)\r\n\r\n  const inputIsETH = inputCurrency === ETHER\r\n  const outputIsETH = outputCurrency === ETHER\r\n\r\n  // construct a direct or through ETH v1 route\r\n  let pairs: Pair[] = []\r\n  if (inputIsETH && outputPair) {\r\n    pairs = [outputPair]\r\n  } else if (outputIsETH && inputPair) {\r\n    pairs = [inputPair]\r\n  }\r\n  // if neither are ETH, it's token-to-token (if they both exist)\r\n  else if (inputPair && outputPair) {\r\n    pairs = [inputPair, outputPair]\r\n  }\r\n\r\n  const route = inputCurrency && pairs && pairs.length > 0 && new Route(pairs, inputCurrency, outputCurrency)\r\n  let v1Trade: Trade | undefined\r\n  try {\r\n    v1Trade =\r\n      route && exactAmount\r\n        ? new Trade(route, exactAmount, isExactIn ? TradeType.EXACT_INPUT : TradeType.EXACT_OUTPUT)\r\n        : undefined\r\n  } catch (error) {\r\n    console.debug('Failed to create V1 trade', error)\r\n  }\r\n  return v1Trade\r\n}\r\n\r\nexport function getTradeVersion(trade?: Trade): Version | undefined {\r\n  const isV1 = trade?.route?.pairs?.some(pair => pair instanceof MockV1Pair)\r\n  if (isV1) return Version.v1\r\n  if (isV1 === false) return Version.v2\r\n  return undefined\r\n}\r\n\r\n// returns the v1 exchange against which a trade should be executed\r\nexport function useV1TradeExchangeAddress(trade: Trade | undefined): string | undefined {\r\n  const tokenAddress: string | undefined = useMemo(() => {\r\n    if (!trade) return undefined\r\n    const isV1 = getTradeVersion(trade) === Version.v1\r\n    if (!isV1) return undefined\r\n    return trade.inputAmount instanceof TokenAmount\r\n      ? trade.inputAmount.token.address\r\n      : trade.outputAmount instanceof TokenAmount\r\n      ? trade.outputAmount.token.address\r\n      : undefined\r\n  }, [trade])\r\n  return useV1ExchangeAddress(tokenAddress)\r\n}\r\n\r\nconst ZERO_PERCENT = new Percent('0')\r\nconst ONE_HUNDRED_PERCENT = new Percent('1')\r\n\r\n// returns whether tradeB is better than tradeA by at least a threshold percentage amount\r\nexport function isTradeBetter(\r\n  tradeA: Trade | undefined,\r\n  tradeB: Trade | undefined,\r\n  minimumDelta: Percent = ZERO_PERCENT\r\n): boolean | undefined {\r\n  if (tradeA && !tradeB) return false\r\n  if (tradeB && !tradeA) return true\r\n  if (!tradeA || !tradeB) return undefined\r\n\r\n  if (\r\n    tradeA.tradeType !== tradeB.tradeType ||\r\n    !currencyEquals(tradeA.inputAmount.currency, tradeB.inputAmount.currency) ||\r\n    !currencyEquals(tradeB.outputAmount.currency, tradeB.outputAmount.currency)\r\n  ) {\r\n    throw new Error('Trades are not comparable')\r\n  }\r\n\r\n  if (minimumDelta.equalTo(ZERO_PERCENT)) {\r\n    return tradeA.executionPrice.lessThan(tradeB.executionPrice)\r\n  } else {\r\n    return tradeA.executionPrice.raw.multiply(minimumDelta.add(ONE_HUNDRED_PERCENT)).lessThan(tradeB.executionPrice)\r\n  }\r\n}\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport enum Field {\r\n  INPUT = 'INPUT',\r\n  OUTPUT = 'OUTPUT'\r\n}\r\n\r\nexport const selectCurrency = createAction<{ field: Field; currencyId: string }>('swap/selectCurrency')\r\nexport const switchCurrencies = createAction<void>('swap/switchCurrencies')\r\nexport const typeInput = createAction<{ field: Field; typedValue: string }>('swap/typeInput')\r\nexport const replaceSwapState = createAction<{\r\n  field: Field\r\n  typedValue: string\r\n  inputCurrencyId?: string\r\n  outputCurrencyId?: string\r\n  recipient: string | null\r\n}>('swap/replaceSwapState')\r\nexport const setRecipient = createAction<{ recipient: string | null }>('swap/setRecipient')\r\n","import { MaxUint256 } from '@ethersproject/constants'\r\nimport { TransactionResponse } from '@ethersproject/providers'\r\nimport { Trade, TokenAmount, CurrencyAmount, ETHER } from '@tianheng2017/dex-sdk'\r\nimport { useCallback, useMemo } from 'react'\r\nimport { ROUTER_ADDRESS } from '../constants'\r\nimport { useTokenAllowance } from '../data/Allowances'\r\nimport { getTradeVersion, useV1TradeExchangeAddress } from '../data/V1'\r\nimport { Field } from '../state/swap/actions'\r\nimport { useTransactionAdder, useHasPendingApproval } from '../state/transactions/hooks'\r\nimport { computeSlippageAdjustedAmounts } from '../utils/prices'\r\nimport { calculateGasMargin } from '../utils'\r\nimport { useTokenContract } from './useContract'\r\nimport { useActiveWeb3React } from './index'\r\nimport { Version } from './useToggledVersion'\r\n\r\nexport enum ApprovalState {\r\n  UNKNOWN,\r\n  NOT_APPROVED,\r\n  PENDING,\r\n  APPROVED\r\n}\r\n\r\n// returns a variable indicating the state of the approval and a function which approves if necessary or early returns\r\nexport function useApproveCallback(\r\n  amountToApprove?: CurrencyAmount,\r\n  spender?: string\r\n): [ApprovalState, () => Promise<void>] {\r\n  const { account } = useActiveWeb3React()\r\n  const token = amountToApprove instanceof TokenAmount ? amountToApprove.token : undefined\r\n  const currentAllowance = useTokenAllowance(token, account ?? undefined, spender)\r\n  const pendingApproval = useHasPendingApproval(token?.address, spender)\r\n\r\n  // check the current approval status\r\n  const approvalState: ApprovalState = useMemo(() => {\r\n    if (!amountToApprove || !spender) return ApprovalState.UNKNOWN\r\n    if (amountToApprove.currency === ETHER) return ApprovalState.APPROVED\r\n    // we might not have enough data to know whether or not we need to approve\r\n    if (!currentAllowance) return ApprovalState.UNKNOWN\r\n\r\n    // amountToApprove will be defined if currentAllowance is\r\n    return currentAllowance.lessThan(amountToApprove)\r\n      ? pendingApproval\r\n        ? ApprovalState.PENDING\r\n        : ApprovalState.NOT_APPROVED\r\n      : ApprovalState.APPROVED\r\n  }, [amountToApprove, currentAllowance, pendingApproval, spender])\r\n\r\n  const tokenContract = useTokenContract(token?.address)\r\n  const addTransaction = useTransactionAdder()\r\n\r\n  const approve = useCallback(async (): Promise<void> => {\r\n    if (approvalState !== ApprovalState.NOT_APPROVED) {\r\n      console.error('approve was called unnecessarily')\r\n      return\r\n    }\r\n    if (!token) {\r\n      console.error('no token')\r\n      return\r\n    }\r\n\r\n    if (!tokenContract) {\r\n      console.error('tokenContract is null')\r\n      return\r\n    }\r\n\r\n    if (!amountToApprove) {\r\n      console.error('missing amount to approve')\r\n      return\r\n    }\r\n\r\n    if (!spender) {\r\n      console.error('no spender')\r\n      return\r\n    }\r\n\r\n    let useExact = false\r\n    const estimatedGas = await tokenContract.estimateGas.approve(spender, MaxUint256).catch(() => {\r\n      // general fallback for tokens who restrict approval amounts\r\n      useExact = true\r\n      return tokenContract.estimateGas.approve(spender, amountToApprove.raw.toString())\r\n    })\r\n\r\n    return tokenContract\r\n      .approve(spender, useExact ? amountToApprove.raw.toString() : MaxUint256, {\r\n        gasLimit: calculateGasMargin(estimatedGas)\r\n      })\r\n      .then((response: TransactionResponse) => {\r\n        addTransaction(response, {\r\n          summary: 'Approve ' + amountToApprove.currency.symbol,\r\n          approval: { tokenAddress: token.address, spender: spender }\r\n        })\r\n      })\r\n      .catch((error: Error) => {\r\n        console.debug('Failed to approve token', error)\r\n        throw error\r\n      })\r\n  }, [approvalState, token, tokenContract, amountToApprove, spender, addTransaction])\r\n\r\n  return [approvalState, approve]\r\n}\r\n\r\n// wraps useApproveCallback in the context of a swap\r\nexport function useApproveCallbackFromTrade(trade?: Trade, allowedSlippage = 0) {\r\n  const amountToApprove = useMemo(\r\n    () => (trade ? computeSlippageAdjustedAmounts(trade, allowedSlippage)[Field.INPUT] : undefined),\r\n    [trade, allowedSlippage]\r\n  )\r\n  const tradeIsV1 = getTradeVersion(trade) === Version.v1\r\n  const v1ExchangeAddress = useV1TradeExchangeAddress(trade)\r\n  return useApproveCallback(amountToApprove, tradeIsV1 ? v1ExchangeAddress : ROUTER_ADDRESS)\r\n}\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport enum Field {\r\n  CURRENCY_A = 'CURRENCY_A',\r\n  CURRENCY_B = 'CURRENCY_B'\r\n}\r\n\r\nexport const typeInput = createAction<{ field: Field; typedValue: string; noLiquidity: boolean }>('mint/typeInputMint')\r\nexport const resetMintState = createAction<void>('mint/resetMintState')\r\n","import { BLOCKED_PRICE_IMPACT_NON_EXPERT } from '../constants'\r\nimport { CurrencyAmount, Fraction, JSBI, Percent, TokenAmount, Trade } from '@tianheng2017/dex-sdk'\r\nimport { ALLOWED_PRICE_IMPACT_HIGH, ALLOWED_PRICE_IMPACT_LOW, ALLOWED_PRICE_IMPACT_MEDIUM } from '../constants'\r\nimport { Field } from '../state/swap/actions'\r\nimport { basisPointsToPercent } from './index'\r\n\r\nconst BASE_FEE = new Percent(JSBI.BigInt(30), JSBI.BigInt(10000))\r\nconst ONE_HUNDRED_PERCENT = new Percent(JSBI.BigInt(10000), JSBI.BigInt(10000))\r\nconst INPUT_FRACTION_AFTER_FEE = ONE_HUNDRED_PERCENT.subtract(BASE_FEE)\r\n\r\n// computes price breakdown for the trade\r\nexport function computeTradePriceBreakdown(\r\n  trade?: Trade\r\n): { priceImpactWithoutFee?: Percent; realizedLPFee?: CurrencyAmount } {\r\n  // for each hop in our trade, take away the x*y=k price impact from 0.3% fees\r\n  // e.g. for 3 tokens/2 hops: 1 - ((1 - .03) * (1-.03))\r\n  const realizedLPFee = !trade\r\n    ? undefined\r\n    : ONE_HUNDRED_PERCENT.subtract(\r\n        trade.route.pairs.reduce<Fraction>(\r\n          (currentFee: Fraction): Fraction => currentFee.multiply(INPUT_FRACTION_AFTER_FEE),\r\n          ONE_HUNDRED_PERCENT\r\n        )\r\n      )\r\n\r\n  // remove lp fees from price impact\r\n  const priceImpactWithoutFeeFraction = trade && realizedLPFee ? trade.priceImpact.subtract(realizedLPFee) : undefined\r\n\r\n  // the x*y=k impact\r\n  const priceImpactWithoutFeePercent = priceImpactWithoutFeeFraction\r\n    ? new Percent(priceImpactWithoutFeeFraction?.numerator, priceImpactWithoutFeeFraction?.denominator)\r\n    : undefined\r\n\r\n  // the amount of the input that accrues to LPs\r\n  const realizedLPFeeAmount =\r\n    realizedLPFee &&\r\n    trade &&\r\n    (trade.inputAmount instanceof TokenAmount\r\n      ? new TokenAmount(trade.inputAmount.token, realizedLPFee.multiply(trade.inputAmount.raw).quotient)\r\n      : CurrencyAmount.ether(realizedLPFee.multiply(trade.inputAmount.raw).quotient))\r\n\r\n  return { priceImpactWithoutFee: priceImpactWithoutFeePercent, realizedLPFee: realizedLPFeeAmount }\r\n}\r\n\r\n// computes the minimum amount out and maximum amount in for a trade given a user specified allowed slippage in bips\r\nexport function computeSlippageAdjustedAmounts(\r\n  trade: Trade | undefined,\r\n  allowedSlippage: number\r\n): { [field in Field]?: CurrencyAmount } {\r\n  const pct = basisPointsToPercent(allowedSlippage)\r\n  return {\r\n    [Field.INPUT]: trade?.maximumAmountIn(pct),\r\n    [Field.OUTPUT]: trade?.minimumAmountOut(pct)\r\n  }\r\n}\r\n\r\nexport function warningSeverity(priceImpact: Percent | undefined): 0 | 1 | 2 | 3 | 4 {\r\n  if (!priceImpact?.lessThan(BLOCKED_PRICE_IMPACT_NON_EXPERT)) return 4\r\n  if (!priceImpact?.lessThan(ALLOWED_PRICE_IMPACT_HIGH)) return 3\r\n  if (!priceImpact?.lessThan(ALLOWED_PRICE_IMPACT_MEDIUM)) return 2\r\n  if (!priceImpact?.lessThan(ALLOWED_PRICE_IMPACT_LOW)) return 1\r\n  return 0\r\n}\r\n\r\nexport function formatExecutionPrice(trade?: Trade, inverted?: boolean): string {\r\n  if (!trade) {\r\n    return ''\r\n  }\r\n  return inverted\r\n    ? `${trade.executionPrice.invert().toSignificant(6)} ${trade.inputAmount.currency.symbol} / ${\r\n        trade.outputAmount.currency.symbol\r\n      }`\r\n    : `${trade.executionPrice.toSignificant(6)} ${trade.outputAmount.currency.symbol} / ${\r\n        trade.inputAmount.currency.symbol\r\n      }`\r\n}\r\n","import { Token, TokenAmount } from '@tianheng2017/dex-sdk'\r\nimport { useMemo } from 'react'\r\n\r\nimport { useTokenContract } from '../hooks/useContract'\r\nimport { useSingleCallResult } from '../state/multicall/hooks'\r\n\r\nexport function useTokenAllowance(token?: Token, owner?: string, spender?: string): TokenAmount | undefined {\r\n  const contract = useTokenContract(token?.address, false)\r\n\r\n  const inputs = useMemo(() => [owner, spender], [owner, spender])\r\n  const allowance = useSingleCallResult(contract, 'allowance', inputs).result\r\n\r\n  return useMemo(() => (token && allowance ? new TokenAmount(token, allowance.toString()) : undefined), [\r\n    token,\r\n    allowance\r\n  ])\r\n}\r\n","import { namehash } from 'ethers/lib/utils'\r\nimport { useMemo } from 'react'\r\nimport { useSingleCallResult } from '../state/multicall/hooks'\r\nimport isZero from '../utils/isZero'\r\nimport { useENSRegistrarContract, useENSResolverContract } from './useContract'\r\nimport useDebounce from './useDebounce'\r\n\r\n/**\r\n * Does a lookup for an ENS name to find its address.\r\n */\r\nexport default function useENSAddress(ensName?: string | null): { loading: boolean; address: string | null } {\r\n  const debouncedName = useDebounce(ensName, 200)\r\n  const ensNodeArgument = useMemo(() => {\r\n    if (!debouncedName) return [undefined]\r\n    try {\r\n      return debouncedName ? [namehash(debouncedName)] : [undefined]\r\n    } catch (error) {\r\n      return [undefined]\r\n    }\r\n  }, [debouncedName])\r\n  const registrarContract = useENSRegistrarContract(false)\r\n  const resolverAddress = useSingleCallResult(registrarContract, 'resolver', ensNodeArgument)\r\n  const resolverAddressResult = resolverAddress.result?.[0]\r\n  const resolverContract = useENSResolverContract(\r\n    resolverAddressResult && !isZero(resolverAddressResult) ? resolverAddressResult : undefined,\r\n    false\r\n  )\r\n  const addr = useSingleCallResult(resolverContract, 'addr', ensNodeArgument)\r\n\r\n  const changed = debouncedName !== ensName\r\n  return {\r\n    address: changed ? null : addr.result?.[0] ?? null,\r\n    loading: changed || resolverAddress.loading || addr.loading\r\n  }\r\n}\r\n","import { isAddress } from '../utils'\r\nimport useENSAddress from './useENSAddress'\r\nimport useENSName from './useENSName'\r\n\r\n/**\r\n * Given a name or address, does a lookup to resolve to an address and name\r\n * @param nameOrAddress ENS name or address\r\n */\r\nexport default function useENS(\r\n  nameOrAddress?: string | null\r\n): { loading: boolean; address: string | null; name: string | null } {\r\n  const validated = isAddress(nameOrAddress)\r\n  const reverseLookup = useENSName(validated ? validated : undefined)\r\n  const lookup = useENSAddress(nameOrAddress)\r\n\r\n  return {\r\n    loading: reverseLookup.loading || lookup.loading,\r\n    address: validated ? validated : lookup.address,\r\n    name: reverseLookup.ENSName ? reverseLookup.ENSName : !validated && lookup.address ? nameOrAddress || null : null\r\n  }\r\n}\r\n","import { Currency, CurrencyAmount, Pair, Token, Trade } from '@tianheng2017/dex-sdk'\r\nimport flatMap from 'lodash.flatmap'\r\nimport { useMemo } from 'react'\r\n\r\nimport { BASES_TO_CHECK_TRADES_AGAINST, CUSTOM_BASES } from '../constants'\r\nimport { PairState, usePairs } from '../data/Reserves'\r\nimport { wrappedCurrency } from '../utils/wrappedCurrency'\r\n\r\nimport { useActiveWeb3React } from './index'\r\n\r\nfunction useAllCommonPairs(currencyA?: Currency, currencyB?: Currency): Pair[] {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const bases: Token[] = chainId ? BASES_TO_CHECK_TRADES_AGAINST[chainId] : []\r\n\r\n  const [tokenA, tokenB] = chainId\r\n    ? [wrappedCurrency(currencyA, chainId), wrappedCurrency(currencyB, chainId)]\r\n    : [undefined, undefined]\r\n\r\n  const basePairs: [Token, Token][] = useMemo(\r\n    () =>\r\n      flatMap(bases, (base): [Token, Token][] => bases.map(otherBase => [base, otherBase])).filter(\r\n        ([t0, t1]) => t0.address !== t1.address\r\n      ),\r\n    [bases]\r\n  )\r\n\r\n  const allPairCombinations: [Token, Token][] = useMemo(\r\n    () =>\r\n      tokenA && tokenB\r\n        ? [\r\n            // the direct pair\r\n            [tokenA, tokenB],\r\n            // token A against all bases\r\n            ...bases.map((base): [Token, Token] => [tokenA, base]),\r\n            // token B against all bases\r\n            ...bases.map((base): [Token, Token] => [tokenB, base]),\r\n            // each base against all bases\r\n            ...basePairs\r\n          ]\r\n            .filter((tokens): tokens is [Token, Token] => Boolean(tokens[0] && tokens[1]))\r\n            .filter(([t0, t1]) => t0.address !== t1.address)\r\n            .filter(([tokenA, tokenB]) => {\r\n              if (!chainId) return true\r\n              const customBases = CUSTOM_BASES[chainId]\r\n              if (!customBases) return true\r\n\r\n              const customBasesA: Token[] | undefined = customBases[tokenA.address]\r\n              const customBasesB: Token[] | undefined = customBases[tokenB.address]\r\n\r\n              if (!customBasesA && !customBasesB) return true\r\n\r\n              if (customBasesA && !customBasesA.find(base => tokenB.equals(base))) return false\r\n              if (customBasesB && !customBasesB.find(base => tokenA.equals(base))) return false\r\n\r\n              return true\r\n            })\r\n        : [],\r\n    [tokenA, tokenB, bases, basePairs, chainId]\r\n  )\r\n\r\n  const allPairs = usePairs(allPairCombinations)\r\n\r\n  // only pass along valid pairs, non-duplicated pairs\r\n  return useMemo(\r\n    () =>\r\n      Object.values(\r\n        allPairs\r\n          // filter out invalid pairs\r\n          .filter((result): result is [PairState.EXISTS, Pair] => Boolean(result[0] === PairState.EXISTS && result[1]))\r\n          // filter out duplicated pairs\r\n          .reduce<{ [pairAddress: string]: Pair }>((memo, [, curr]) => {\r\n            memo[curr.liquidityToken.address] = memo[curr.liquidityToken.address] ?? curr\r\n            return memo\r\n          }, {})\r\n      ),\r\n    [allPairs]\r\n  )\r\n}\r\n\r\n/**\r\n * Returns the best trade for the exact amount of tokens in to the given token out\r\n */\r\nexport function useTradeExactIn(currencyAmountIn?: CurrencyAmount, currencyOut?: Currency): Trade | null {\r\n  const allowedPairs = useAllCommonPairs(currencyAmountIn?.currency, currencyOut)\r\n  return useMemo(() => {\r\n    if (currencyAmountIn && currencyOut && allowedPairs.length > 0) {\r\n      return (\r\n        Trade.bestTradeExactIn(allowedPairs, currencyAmountIn, currencyOut, { maxHops: 3, maxNumResults: 1 })[0] ?? null\r\n      )\r\n    }\r\n    return null\r\n  }, [allowedPairs, currencyAmountIn, currencyOut])\r\n}\r\n\r\n/**\r\n * Returns the best trade for the token in to the exact amount of token out\r\n */\r\nexport function useTradeExactOut(currencyIn?: Currency, currencyAmountOut?: CurrencyAmount): Trade | null {\r\n  const allowedPairs = useAllCommonPairs(currencyIn, currencyAmountOut?.currency)\r\n\r\n  return useMemo(() => {\r\n    if (currencyIn && currencyAmountOut && allowedPairs.length > 0) {\r\n      return (\r\n        Trade.bestTradeExactOut(allowedPairs, currencyIn, currencyAmountOut, { maxHops: 3, maxNumResults: 1 })[0] ??\r\n        null\r\n      )\r\n    }\r\n    return null\r\n  }, [allowedPairs, currencyIn, currencyAmountOut])\r\n}\r\n","import useENS from '../../hooks/useENS'\r\nimport { Version } from '../../hooks/useToggledVersion'\r\nimport { parseUnits } from '@ethersproject/units'\r\nimport { Currency, CurrencyAmount, ETHER, JSBI, Token, TokenAmount, Trade } from '@tianheng2017/dex-sdk'\r\nimport { ParsedQs } from 'qs'\r\nimport { useCallback, useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useV1Trade } from '../../data/V1'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useCurrency } from '../../hooks/Tokens'\r\nimport { useTradeExactIn, useTradeExactOut } from '../../hooks/Trades'\r\nimport useParsedQueryString from '../../hooks/useParsedQueryString'\r\nimport { isAddress } from '../../utils'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { useCurrencyBalances } from '../wallet/hooks'\r\nimport { Field, replaceSwapState, selectCurrency, setRecipient, switchCurrencies, typeInput } from './actions'\r\nimport { SwapState } from './reducer'\r\nimport useToggledVersion from '../../hooks/useToggledVersion'\r\nimport { useUserSlippageTolerance } from '../user/hooks'\r\nimport { computeSlippageAdjustedAmounts } from '../../utils/prices'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport function useSwapState(): AppState['swap'] {\r\n  return useSelector<AppState, AppState['swap']>(state => state.swap)\r\n}\r\n\r\nexport function useSwapActionHandlers(): {\r\n  onCurrencySelection: (field: Field, currency: Currency) => void\r\n  onSwitchTokens: () => void\r\n  onUserInput: (field: Field, typedValue: string) => void\r\n  onChangeRecipient: (recipient: string | null) => void\r\n} {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const onCurrencySelection = useCallback(\r\n    (field: Field, currency: Currency) => {\r\n      dispatch(\r\n        selectCurrency({\r\n          field,\r\n          currencyId: currency instanceof Token ? currency.address : currency === ETHER ? 'ETH' : ''\r\n        })\r\n      )\r\n    },\r\n    [dispatch]\r\n  )\r\n\r\n  const onSwitchTokens = useCallback(() => {\r\n    dispatch(switchCurrencies())\r\n  }, [dispatch])\r\n\r\n  const onUserInput = useCallback(\r\n    (field: Field, typedValue: string) => {\r\n      dispatch(typeInput({ field, typedValue }))\r\n    },\r\n    [dispatch]\r\n  )\r\n\r\n  const onChangeRecipient = useCallback(\r\n    (recipient: string | null) => {\r\n      dispatch(setRecipient({ recipient }))\r\n    },\r\n    [dispatch]\r\n  )\r\n\r\n  return {\r\n    onSwitchTokens,\r\n    onCurrencySelection,\r\n    onUserInput,\r\n    onChangeRecipient\r\n  }\r\n}\r\n\r\n// try to parse a user entered amount for a given token\r\nexport function tryParseAmount(value?: string, currency?: Currency): CurrencyAmount | undefined {\r\n  if (!value || !currency) {\r\n    return undefined\r\n  }\r\n  try {\r\n    const typedValueParsed = parseUnits(value, currency.decimals).toString()\r\n    if (typedValueParsed !== '0') {\r\n      return currency instanceof Token\r\n        ? new TokenAmount(currency, JSBI.BigInt(typedValueParsed))\r\n        : CurrencyAmount.ether(JSBI.BigInt(typedValueParsed))\r\n    }\r\n  } catch (error) {\r\n    // should fail if the user specifies too many decimal places of precision (or maybe exceed max uint?)\r\n    console.debug(`Failed to parse input amount: \"${value}\"`, error)\r\n  }\r\n  // necessary for all paths to return a value\r\n  return undefined\r\n}\r\n\r\nconst BAD_RECIPIENT_ADDRESSES: string[] = [\r\n  '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', // v2 factory\r\n  '0xf164fC0Ec4E93095b804a4795bBe1e041497b92a', // v2 router 01\r\n  '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D' // v2 router 02\r\n]\r\n\r\n/**\r\n * Returns true if any of the pairs or tokens in a trade have the given checksummed address\r\n * @param trade to check for the given address\r\n * @param checksummedAddress address to check in the pairs and tokens\r\n */\r\nfunction involvesAddress(trade: Trade, checksummedAddress: string): boolean {\r\n  return (\r\n    trade.route.path.some(token => token.address === checksummedAddress) ||\r\n    trade.route.pairs.some(pair => pair.liquidityToken.address === checksummedAddress)\r\n  )\r\n}\r\n\r\n// from the current swap inputs, compute the best trade and return it.\r\nexport function useDerivedSwapInfo(): {\r\n  currencies: { [field in Field]?: Currency }\r\n  currencyBalances: { [field in Field]?: CurrencyAmount }\r\n  parsedAmount: CurrencyAmount | undefined\r\n  v2Trade: Trade | undefined\r\n  inputError?: string\r\n  v1Trade: Trade | undefined\r\n} {\r\n  const { t } = useTranslation()\r\n\r\n  const { account } = useActiveWeb3React()\r\n\r\n  const toggledVersion = useToggledVersion()\r\n\r\n  const {\r\n    independentField,\r\n    typedValue,\r\n    [Field.INPUT]: { currencyId: inputCurrencyId },\r\n    [Field.OUTPUT]: { currencyId: outputCurrencyId },\r\n    recipient\r\n  } = useSwapState()\r\n\r\n  const inputCurrency = useCurrency(inputCurrencyId)\r\n  const outputCurrency = useCurrency(outputCurrencyId)\r\n  const recipientLookup = useENS(recipient ?? undefined)\r\n  const to: string | null = (recipient === null ? account : recipientLookup.address) ?? null\r\n\r\n  const relevantTokenBalances = useCurrencyBalances(account ?? undefined, [\r\n    inputCurrency ?? undefined,\r\n    outputCurrency ?? undefined\r\n  ])\r\n\r\n  const isExactIn: boolean = independentField === Field.INPUT\r\n  const parsedAmount = tryParseAmount(typedValue, (isExactIn ? inputCurrency : outputCurrency) ?? undefined)\r\n\r\n  const bestTradeExactIn = useTradeExactIn(isExactIn ? parsedAmount : undefined, outputCurrency ?? undefined)\r\n  const bestTradeExactOut = useTradeExactOut(inputCurrency ?? undefined, !isExactIn ? parsedAmount : undefined)\r\n\r\n  const v2Trade = isExactIn ? bestTradeExactIn : bestTradeExactOut\r\n\r\n  const currencyBalances = {\r\n    [Field.INPUT]: relevantTokenBalances[0],\r\n    [Field.OUTPUT]: relevantTokenBalances[1]\r\n  }\r\n\r\n  const currencies: { [field in Field]?: Currency } = {\r\n    [Field.INPUT]: inputCurrency ?? undefined,\r\n    [Field.OUTPUT]: outputCurrency ?? undefined\r\n  }\r\n\r\n  // get link to trade on v1, if a better rate exists\r\n  const v1Trade = useV1Trade(isExactIn, currencies[Field.INPUT], currencies[Field.OUTPUT], parsedAmount)\r\n\r\n  let inputError: string | undefined\r\n  if (!account) {\r\n      inputError = t('connectWallet')\r\n  }\r\n\r\n  if (!parsedAmount) {\r\n      inputError = inputError ?? t('enterAnAmount')\r\n  }\r\n\r\n  if (!currencies[Field.INPUT] || !currencies[Field.OUTPUT]) {\r\n      inputError = inputError ?? t('selectAToken')\r\n  }\r\n\r\n  const formattedTo = isAddress(to)\r\n  if (!to || !formattedTo) {\r\n      inputError = inputError ?? t('enterARecipient')\r\n  } else {\r\n    if (\r\n      BAD_RECIPIENT_ADDRESSES.indexOf(formattedTo) !== -1 ||\r\n      (bestTradeExactIn && involvesAddress(bestTradeExactIn, formattedTo)) ||\r\n      (bestTradeExactOut && involvesAddress(bestTradeExactOut, formattedTo))\r\n    ) {\r\n        inputError = inputError ?? t('invalidRecipient')\r\n    }\r\n  }\r\n\r\n  const [allowedSlippage] = useUserSlippageTolerance()\r\n\r\n  const slippageAdjustedAmounts = v2Trade && allowedSlippage && computeSlippageAdjustedAmounts(v2Trade, allowedSlippage)\r\n\r\n  const slippageAdjustedAmountsV1 =\r\n    v1Trade && allowedSlippage && computeSlippageAdjustedAmounts(v1Trade, allowedSlippage)\r\n\r\n  // compare input balance to max input based on version\r\n  const [balanceIn, amountIn] = [\r\n    currencyBalances[Field.INPUT],\r\n    toggledVersion === Version.v1\r\n      ? slippageAdjustedAmountsV1\r\n        ? slippageAdjustedAmountsV1[Field.INPUT]\r\n        : null\r\n      : slippageAdjustedAmounts\r\n      ? slippageAdjustedAmounts[Field.INPUT]\r\n      : null\r\n  ]\r\n\r\n  if (balanceIn && amountIn && balanceIn.lessThan(amountIn)) {\r\n    inputError = 'Insufficient ' + amountIn.currency.symbol + ' balance'\r\n  }\r\n\r\n  return {\r\n    currencies,\r\n    currencyBalances,\r\n    parsedAmount,\r\n    v2Trade: v2Trade ?? undefined,\r\n    inputError,\r\n    v1Trade\r\n  }\r\n}\r\n\r\nfunction parseCurrencyFromURLParameter(urlParam: any): string {\r\n  if (typeof urlParam === 'string') {\r\n    const valid = isAddress(urlParam)\r\n    if (valid) return valid\r\n    if (urlParam.toUpperCase() === 'ETH') return 'ETH'\r\n    if (valid === false) return 'ETH'\r\n  }\r\n  return 'ETH' ?? ''\r\n}\r\n\r\nfunction parseTokenAmountURLParameter(urlParam: any): string {\r\n  return typeof urlParam === 'string' && !isNaN(parseFloat(urlParam)) ? urlParam : ''\r\n}\r\n\r\nfunction parseIndependentFieldURLParameter(urlParam: any): Field {\r\n  return typeof urlParam === 'string' && urlParam.toLowerCase() === 'output' ? Field.OUTPUT : Field.INPUT\r\n}\r\n\r\nconst ENS_NAME_REGEX = /^[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)?$/\r\nconst ADDRESS_REGEX = /^0x[a-fA-F0-9]{40}$/\r\nfunction validatedRecipient(recipient: any): string | null {\r\n  if (typeof recipient !== 'string') return null\r\n  const address = isAddress(recipient)\r\n  if (address) return address\r\n  if (ENS_NAME_REGEX.test(recipient)) return recipient\r\n  if (ADDRESS_REGEX.test(recipient)) return recipient\r\n  return null\r\n}\r\n\r\nexport function queryParametersToSwapState(parsedQs: ParsedQs): SwapState {\r\n  let inputCurrency = parseCurrencyFromURLParameter(parsedQs.inputCurrency)\r\n  let outputCurrency = parseCurrencyFromURLParameter(parsedQs.outputCurrency)\r\n  if (inputCurrency === outputCurrency) {\r\n    if (typeof parsedQs.outputCurrency === 'string') {\r\n      inputCurrency = ''\r\n    } else {\r\n      outputCurrency = ''\r\n    }\r\n  }\r\n\r\n  const recipient = validatedRecipient(parsedQs.recipient)\r\n\r\n  return {\r\n    [Field.INPUT]: {\r\n      currencyId: inputCurrency\r\n    },\r\n    [Field.OUTPUT]: {\r\n      currencyId: outputCurrency\r\n    },\r\n    typedValue: parseTokenAmountURLParameter(parsedQs.exactAmount),\r\n    independentField: parseIndependentFieldURLParameter(parsedQs.exactField),\r\n    recipient\r\n  }\r\n}\r\n\r\n// updates the swap state to use the defaults for a given network\r\nexport function useDefaultsFromURLSearch():\r\n  | { inputCurrencyId: string | undefined; outputCurrencyId: string | undefined }\r\n  | undefined {\r\n  const { chainId } = useActiveWeb3React()\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const parsedQs = useParsedQueryString()\r\n  const [result, setResult] = useState<\r\n    { inputCurrencyId: string | undefined; outputCurrencyId: string | undefined } | undefined\r\n  >()\r\n\r\n  useEffect(() => {\r\n    if (!chainId) return\r\n    const parsed = queryParametersToSwapState(parsedQs)\r\n\r\n    dispatch(\r\n      replaceSwapState({\r\n        typedValue: parsed.typedValue,\r\n        field: parsed.independentField,\r\n        inputCurrencyId: parsed[Field.INPUT].currencyId,\r\n        outputCurrencyId: parsed[Field.OUTPUT].currencyId,\r\n        recipient: parsed.recipient\r\n      })\r\n    )\r\n\r\n    setResult({ inputCurrencyId: parsed[Field.INPUT].currencyId, outputCurrencyId: parsed[Field.OUTPUT].currencyId })\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dispatch, chainId])\r\n\r\n  return result\r\n}\r\n","import { Currency, CurrencyAmount, ETHER, JSBI, Pair, Percent, Price, TokenAmount } from '@tianheng2017/dex-sdk'\r\nimport { useCallback, useMemo } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { PairState, usePair } from '../../data/Reserves'\r\nimport { useTotalSupply } from '../../data/TotalSupply'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { wrappedCurrency, wrappedCurrencyAmount } from '../../utils/wrappedCurrency'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { tryParseAmount } from '../swap/hooks'\r\nimport { useCurrencyBalances } from '../wallet/hooks'\r\nimport { Field, typeInput } from './actions'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nconst ZERO = JSBI.BigInt(0)\r\n\r\nexport function useMintState(): AppState['mint'] {\r\n    return useSelector<AppState, AppState['mint']>(state => state.mint)\r\n}\r\n\r\nexport function useDerivedMintInfo(\r\n    currencyA: Currency | undefined,\r\n    currencyB: Currency | undefined\r\n): {\r\n    dependentField: Field\r\n    currencies: { [field in Field]?: Currency }\r\n    pair?: Pair | null\r\n    pairState: PairState\r\n    currencyBalances: { [field in Field]?: CurrencyAmount }\r\n    parsedAmounts: { [field in Field]?: CurrencyAmount }\r\n    price?: Price\r\n    noLiquidity?: boolean\r\n    liquidityMinted?: TokenAmount\r\n    poolTokenPercentage?: Percent\r\n    error?: string\r\n} {\r\n    const { t } = useTranslation()\r\n    const { account, chainId } = useActiveWeb3React()\r\n\r\n    const { independentField, typedValue, otherTypedValue } = useMintState()\r\n\r\n    const dependentField = independentField === Field.CURRENCY_A ? Field.CURRENCY_B : Field.CURRENCY_A\r\n\r\n    // tokens\r\n    const currencies: { [field in Field]?: Currency } = useMemo(\r\n        () => ({\r\n            [Field.CURRENCY_A]: currencyA ?? undefined,\r\n            [Field.CURRENCY_B]: currencyB ?? undefined\r\n        }),\r\n        [currencyA, currencyB]\r\n    )\r\n\r\n    // pair\r\n    const [pairState, pair] = usePair(currencies[Field.CURRENCY_A], currencies[Field.CURRENCY_B])\r\n    const totalSupply = useTotalSupply(pair?.liquidityToken)\r\n\r\n    const noLiquidity: boolean =\r\n        pairState === PairState.NOT_EXISTS || Boolean(totalSupply && JSBI.equal(totalSupply.raw, ZERO))\r\n\r\n    // balances\r\n    const balances = useCurrencyBalances(account ?? undefined, [\r\n        currencies[Field.CURRENCY_A],\r\n        currencies[Field.CURRENCY_B]\r\n    ])\r\n    const currencyBalances: { [field in Field]?: CurrencyAmount } = {\r\n        [Field.CURRENCY_A]: balances[0],\r\n        [Field.CURRENCY_B]: balances[1]\r\n    }\r\n\r\n    // amounts\r\n    const independentAmount: CurrencyAmount | undefined = tryParseAmount(typedValue, currencies[independentField])\r\n    const dependentAmount: CurrencyAmount | undefined = useMemo(() => {\r\n        if (noLiquidity) {\r\n            if (otherTypedValue && currencies[dependentField]) {\r\n                return tryParseAmount(otherTypedValue, currencies[dependentField])\r\n            }\r\n            return undefined\r\n        } else if (independentAmount) {\r\n            // we wrap the currencies just to get the price in terms of the other token\r\n            const wrappedIndependentAmount = wrappedCurrencyAmount(independentAmount, chainId)\r\n            const [tokenA, tokenB] = [wrappedCurrency(currencyA, chainId), wrappedCurrency(currencyB, chainId)]\r\n            if (tokenA && tokenB && wrappedIndependentAmount && pair) {\r\n                const dependentCurrency = dependentField === Field.CURRENCY_B ? currencyB : currencyA\r\n                const dependentTokenAmount =\r\n                    dependentField === Field.CURRENCY_B\r\n                        ? pair.priceOf(tokenA).quote(wrappedIndependentAmount)\r\n                        : pair.priceOf(tokenB).quote(wrappedIndependentAmount)\r\n                return dependentCurrency === ETHER ? CurrencyAmount.ether(dependentTokenAmount.raw) : dependentTokenAmount\r\n            }\r\n            return undefined\r\n        } else {\r\n            return undefined\r\n        }\r\n    }, [noLiquidity, otherTypedValue, currencies, dependentField, independentAmount, currencyA, chainId, currencyB, pair])\r\n    const parsedAmounts: { [field in Field]: CurrencyAmount | undefined } = {\r\n        [Field.CURRENCY_A]: independentField === Field.CURRENCY_A ? independentAmount : dependentAmount,\r\n        [Field.CURRENCY_B]: independentField === Field.CURRENCY_A ? dependentAmount : independentAmount\r\n    }\r\n\r\n    const price = useMemo(() => {\r\n        if (noLiquidity) {\r\n            const { [Field.CURRENCY_A]: currencyAAmount, [Field.CURRENCY_B]: currencyBAmount } = parsedAmounts\r\n            if (currencyAAmount && currencyBAmount) {\r\n                return new Price(currencyAAmount.currency, currencyBAmount.currency, currencyAAmount.raw, currencyBAmount.raw)\r\n            }\r\n            return undefined\r\n        } else {\r\n            const wrappedCurrencyA = wrappedCurrency(currencyA, chainId)\r\n            return pair && wrappedCurrencyA ? pair.priceOf(wrappedCurrencyA) : undefined\r\n        }\r\n    }, [chainId, currencyA, noLiquidity, pair, parsedAmounts])\r\n\r\n    // liquidity minted\r\n    const liquidityMinted = useMemo(() => {\r\n        const { [Field.CURRENCY_A]: currencyAAmount, [Field.CURRENCY_B]: currencyBAmount } = parsedAmounts\r\n        const [tokenAmountA, tokenAmountB] = [\r\n            wrappedCurrencyAmount(currencyAAmount, chainId),\r\n            wrappedCurrencyAmount(currencyBAmount, chainId)\r\n        ]\r\n        if (pair && totalSupply && tokenAmountA && tokenAmountB) {\r\n            return pair.getLiquidityMinted(totalSupply, tokenAmountA, tokenAmountB)\r\n        } else {\r\n            return undefined\r\n        }\r\n    }, [parsedAmounts, chainId, pair, totalSupply])\r\n\r\n    const poolTokenPercentage = useMemo(() => {\r\n        if (liquidityMinted && totalSupply) {\r\n            return new Percent(liquidityMinted.raw, totalSupply.add(liquidityMinted).raw)\r\n        } else {\r\n            return undefined\r\n        }\r\n    }, [liquidityMinted, totalSupply])\r\n\r\n    let error: string | undefined\r\n    if (!account) {\r\n        error = t('connectWallet')\r\n    }\r\n\r\n    if (pairState === PairState.INVALID) {\r\n        error = error ?? t('invalidPair')\r\n    }\r\n\r\n    if (!parsedAmounts[Field.CURRENCY_A] || !parsedAmounts[Field.CURRENCY_B]) {\r\n        error = error ?? t('enterAnAmount')\r\n    }\r\n\r\n    const { [Field.CURRENCY_A]: currencyAAmount, [Field.CURRENCY_B]: currencyBAmount } = parsedAmounts\r\n\r\n    if (currencyAAmount && currencyBalances?.[Field.CURRENCY_A]?.lessThan(currencyAAmount)) {\r\n        error = currencies[Field.CURRENCY_A]?.symbol + ' ä½™é¢ä¸è¶³'\r\n    }\r\n\r\n    if (currencyBAmount && currencyBalances?.[Field.CURRENCY_B]?.lessThan(currencyBAmount)) {\r\n        error = currencies[Field.CURRENCY_B]?.symbol + ' ä½™é¢ä¸è¶³'\r\n    }\r\n\r\n    return {\r\n        dependentField,\r\n        currencies,\r\n        pair,\r\n        pairState,\r\n        currencyBalances,\r\n        parsedAmounts,\r\n        price,\r\n        noLiquidity,\r\n        liquidityMinted,\r\n        poolTokenPercentage,\r\n        error\r\n    }\r\n}\r\n\r\nexport function useMintActionHandlers(\r\n    noLiquidity: boolean | undefined\r\n): {\r\n    onFieldAInput: (typedValue: string) => void\r\n    onFieldBInput: (typedValue: string) => void\r\n} {\r\n    const dispatch = useDispatch<AppDispatch>()\r\n\r\n    const onFieldAInput = useCallback(\r\n        (typedValue: string) => {\r\n            dispatch(typeInput({ field: Field.CURRENCY_A, typedValue, noLiquidity: noLiquidity === true }))\r\n        },\r\n        [dispatch, noLiquidity]\r\n    )\r\n    const onFieldBInput = useCallback(\r\n        (typedValue: string) => {\r\n            dispatch(typeInput({ field: Field.CURRENCY_B, typedValue, noLiquidity: noLiquidity === true }))\r\n        },\r\n        [dispatch, noLiquidity]\r\n    )\r\n\r\n    return {\r\n        onFieldAInput,\r\n        onFieldBInput\r\n    }\r\n}\r\n","import { CurrencyAmount, ETHER, JSBI } from '@tianheng2017/dex-sdk'\r\nimport { MIN_ETH } from '../constants'\r\n\r\n/**\r\n * Given some token amount, return the max that can be spent of it\r\n * @param currencyAmount to return max of\r\n */\r\nexport function maxAmountSpend(currencyAmount?: CurrencyAmount): CurrencyAmount | undefined {\r\n  if (!currencyAmount) return undefined\r\n  if (currencyAmount.currency === ETHER) {\r\n    if (JSBI.greaterThan(currencyAmount.raw, MIN_ETH)) {\r\n      return CurrencyAmount.ether(JSBI.subtract(currencyAmount.raw, MIN_ETH))\r\n    } else {\r\n      return CurrencyAmount.ether(JSBI.BigInt(0))\r\n    }\r\n  }\r\n  return currencyAmount\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nexport const BodyWrapper = styled.div`\r\n  position: relative;\r\n  max-width: 420px;\r\n  width: 100%;\r\n  background: ${({ theme }) => theme.bg1};\r\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\r\n    0px 24px 32px rgba(0, 0, 0, 0.01);\r\n  border-radius: 30px;\r\n  padding: 1rem;\r\n`\r\n\r\n/**\r\n * The styled container element that wraps the content of most pages and the tabs.\r\n */\r\nexport default function AppBody({ children }: { children: React.ReactNode }) {\r\n  return <BodyWrapper>{children}</BodyWrapper>\r\n}\r\n","import { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\n\r\nexport const Wrapper = styled.div`\r\n  position: relative;\r\n`\r\n\r\nexport const ClickableText = styled(Text)`\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  color: ${({ theme }) => theme.primary1};\r\n`\r\nexport const MaxButton = styled.button<{ width: string }>`\r\n  padding: 0.5rem 1rem;\r\n  background-color: ${({ theme }) => theme.primary5};\r\n  border: 1px solid ${({ theme }) => theme.primary5};\r\n  border-radius: 0.5rem;\r\n  font-size: 1rem;\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    padding: 0.25rem 0.5rem;\r\n  `};\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  margin: 0.25rem;\r\n  overflow: hidden;\r\n  color: ${({ theme }) => theme.primary1};\r\n  :hover {\r\n    border: 1px solid ${({ theme }) => theme.primary1};\r\n  }\r\n  :focus {\r\n    border: 1px solid ${({ theme }) => theme.primary1};\r\n    outline: none;\r\n  }\r\n`\r\n\r\nexport const Dots = styled.span`\r\n  &::after {\r\n    display: inline-block;\r\n    animation: ellipsis 1.25s infinite;\r\n    content: '.';\r\n    width: 1em;\r\n    text-align: left;\r\n  }\r\n  @keyframes ellipsis {\r\n    0% {\r\n      content: '.';\r\n    }\r\n    33% {\r\n      content: '..';\r\n    }\r\n    66% {\r\n      content: '...';\r\n    }\r\n  }\r\n`\r\n","import { Currency, CurrencyAmount, Fraction, Percent } from '@tianheng2017/dex-sdk'\r\nimport React from 'react'\r\nimport { Text } from 'rebass'\r\nimport { ButtonPrimary } from '../../components/Button'\r\nimport { RowBetween, RowFixed } from '../../components/Row'\r\nimport CurrencyLogo from '../../components/CurrencyLogo'\r\nimport { Field } from '../../state/mint/actions'\r\nimport { TYPE } from '../../theme'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport function ConfirmAddModalBottom({\r\n    noLiquidity,\r\n    price,\r\n    currencies,\r\n    parsedAmounts,\r\n    poolTokenPercentage,\r\n    onAdd\r\n}: {\r\n    noLiquidity?: boolean\r\n    price?: Fraction\r\n    currencies: { [field in Field]?: Currency }\r\n    parsedAmounts: { [field in Field]?: CurrencyAmount }\r\n    poolTokenPercentage?: Percent\r\n    onAdd: () => void\r\n}) {\r\n    const { t } = useTranslation()\r\n    return (\r\n        <>\r\n            <RowBetween>\r\n                <TYPE.body>{currencies[Field.CURRENCY_A]?.symbol} å­˜å…¥</TYPE.body>\r\n                <RowFixed>\r\n                    <CurrencyLogo currency={currencies[Field.CURRENCY_A]} style={{ marginRight: '8px' }} />\r\n                    <TYPE.body>{parsedAmounts[Field.CURRENCY_A]?.toSignificant(6)}</TYPE.body>\r\n                </RowFixed>\r\n            </RowBetween>\r\n            <RowBetween>\r\n                <TYPE.body>{currencies[Field.CURRENCY_B]?.symbol} å­˜å…¥</TYPE.body>\r\n                <RowFixed>\r\n                    <CurrencyLogo currency={currencies[Field.CURRENCY_B]} style={{ marginRight: '8px' }} />\r\n                    <TYPE.body>{parsedAmounts[Field.CURRENCY_B]?.toSignificant(6)}</TYPE.body>\r\n                </RowFixed>\r\n            </RowBetween>\r\n            <RowBetween>\r\n                <TYPE.body>ä»·æ ¼</TYPE.body>\r\n                <TYPE.body>\r\n                    {`1 ${currencies[Field.CURRENCY_A]?.symbol} = ${price?.toSignificant(4)} ${currencies[Field.CURRENCY_B]?.symbol\r\n                        }`}\r\n                </TYPE.body>\r\n            </RowBetween>\r\n            <RowBetween style={{ justifyContent: 'flex-end' }}>\r\n                <TYPE.body>\r\n                    {`1 ${currencies[Field.CURRENCY_B]?.symbol} = ${price?.invert().toSignificant(4)} ${currencies[Field.CURRENCY_A]?.symbol\r\n                        }`}\r\n                </TYPE.body>\r\n            </RowBetween>\r\n            <RowBetween>\r\n                <TYPE.body>{t('shareOfPool')}:</TYPE.body>\r\n                <TYPE.body>{noLiquidity ? '100' : poolTokenPercentage?.toSignificant(4)}%</TYPE.body>\r\n            </RowBetween>\r\n            <ButtonPrimary style={{ margin: '20px 0 0 0' }} onClick={onAdd}>\r\n                <Text fontWeight={500} fontSize={20}>\r\n                    {noLiquidity ? 'åˆ›å»ºæµåŠ¨æ± å¹¶æ·»åŠ æµåŠ¨æ€§' : 'ç¡®è®¤æ·»åŠ '}\r\n                </Text>\r\n            </ButtonPrimary>\r\n        </>\r\n    )\r\n}\r\n","import { Currency, Percent, Price } from '@tianheng2017/dex-sdk'\r\nimport React, { useContext } from 'react'\r\nimport { Text } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { AutoColumn } from '../../components/Column'\r\nimport { AutoRow } from '../../components/Row'\r\nimport { ONE_BIPS } from '../../constants'\r\nimport { Field } from '../../state/mint/actions'\r\nimport { TYPE } from '../../theme'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport function PoolPriceBar({\r\n    currencies,\r\n    noLiquidity,\r\n    poolTokenPercentage,\r\n    price\r\n}: {\r\n    currencies: { [field in Field]?: Currency }\r\n    noLiquidity?: boolean\r\n    poolTokenPercentage?: Percent\r\n    price?: Price\r\n}) {\r\n    const { t } = useTranslation()\r\n    const theme = useContext(ThemeContext)\r\n    return (\r\n        <AutoColumn gap=\"md\">\r\n            <AutoRow justify=\"space-around\" gap=\"4px\">\r\n                <AutoColumn justify=\"center\">\r\n                    <TYPE.black>{price?.toSignificant(6) ?? '-'}</TYPE.black>\r\n                    <Text fontWeight={500} fontSize={14} color={theme.text2} pt={1}>\r\n                        {currencies[Field.CURRENCY_B]?.symbol} {t('per')} {currencies[Field.CURRENCY_A]?.symbol}\r\n                    </Text>\r\n                </AutoColumn>\r\n                <AutoColumn justify=\"center\">\r\n                    <TYPE.black>{price?.invert()?.toSignificant(6) ?? '-'}</TYPE.black>\r\n                    <Text fontWeight={500} fontSize={14} color={theme.text2} pt={1}>\r\n                        {currencies[Field.CURRENCY_A]?.symbol} {t('per')} {currencies[Field.CURRENCY_B]?.symbol}\r\n                    </Text>\r\n                </AutoColumn>\r\n                <AutoColumn justify=\"center\">\r\n                    <TYPE.black>\r\n                        {noLiquidity && price\r\n                            ? '100'\r\n                            : (poolTokenPercentage?.lessThan(ONE_BIPS) ? '<0.01' : poolTokenPercentage?.toFixed(2)) ?? '0'}\r\n                        %\r\n                    </TYPE.black>\r\n                    <Text fontWeight={500} fontSize={14} color={theme.text2} pt={1}>\r\n                        {t('shareOfPool')}\r\n                    </Text>\r\n                </AutoColumn>\r\n            </AutoRow>\r\n        </AutoColumn>\r\n    )\r\n}\r\n","import { BigNumber } from '@ethersproject/bignumber'\r\nimport { TransactionResponse } from '@ethersproject/providers'\r\nimport { Currency, currencyEquals, ETHER, TokenAmount, WETH } from '@tianheng2017/dex-sdk'\r\nimport React, { useCallback, useContext, useState } from 'react'\r\nimport { Plus } from 'react-feather'\r\nimport ReactGA from 'react-ga'\r\nimport { RouteComponentProps } from 'react-router-dom'\r\nimport { Text } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { ButtonError, ButtonLight, ButtonPrimary } from '../../components/Button'\r\nimport { BlueCard, GreyCard, LightCard } from '../../components/Card'\r\nimport { AutoColumn, ColumnCenter } from '../../components/Column'\r\nimport TransactionConfirmationModal, { ConfirmationModalContent } from '../../components/TransactionConfirmationModal'\r\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel'\r\nimport DoubleCurrencyLogo from '../../components/DoubleLogo'\r\nimport { AddRemoveTabs } from '../../components/NavigationTabs'\r\nimport { MinimalPositionCard } from '../../components/PositionCard'\r\nimport Row, { RowBetween, RowFlat } from '../../components/Row'\r\n\r\nimport { ROUTER_ADDRESS } from '../../constants'\r\nimport { PairState } from '../../data/Reserves'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useCurrency } from '../../hooks/Tokens'\r\nimport { ApprovalState, useApproveCallback } from '../../hooks/useApproveCallback'\r\nimport { useWalletModalToggle } from '../../state/application/hooks'\r\nimport { Field } from '../../state/mint/actions'\r\nimport { useDerivedMintInfo, useMintActionHandlers, useMintState } from '../../state/mint/hooks'\r\n\r\nimport { useTransactionAdder } from '../../state/transactions/hooks'\r\nimport { useIsExpertMode, useUserDeadline, useUserSlippageTolerance } from '../../state/user/hooks'\r\nimport { TYPE } from '../../theme'\r\nimport { calculateGasMargin, calculateSlippageAmount, getRouterContract } from '../../utils'\r\nimport { maxAmountSpend } from '../../utils/maxAmountSpend'\r\nimport { wrappedCurrency } from '../../utils/wrappedCurrency'\r\nimport AppBody from '../AppBody'\r\nimport { Dots, Wrapper } from '../Pool/styleds'\r\nimport { ConfirmAddModalBottom } from './ConfirmAddModalBottom'\r\nimport { currencyId } from '../../utils/currencyId'\r\nimport { PoolPriceBar } from './PoolPriceBar'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport default function AddLiquidity({\r\n    match: {\r\n        params: { currencyIdA, currencyIdB }\r\n    },\r\n    history\r\n}: RouteComponentProps<{ currencyIdA?: string; currencyIdB?: string }>) {\r\n    const { t } = useTranslation()\r\n    const { account, chainId, library } = useActiveWeb3React()\r\n    const theme = useContext(ThemeContext)\r\n\r\n    const currencyA = useCurrency(currencyIdA)\r\n    const currencyB = useCurrency(currencyIdB)\r\n\r\n    const oneCurrencyIsWETH = Boolean(\r\n        chainId &&\r\n        ((currencyA && currencyEquals(currencyA, WETH[chainId])) ||\r\n            (currencyB && currencyEquals(currencyB, WETH[chainId])))\r\n    )\r\n\r\n    const toggleWalletModal = useWalletModalToggle() // toggle wallet when disconnected\r\n\r\n    const expertMode = useIsExpertMode()\r\n\r\n    // mint state\r\n    const { independentField, typedValue, otherTypedValue } = useMintState()\r\n    const {\r\n        dependentField,\r\n        currencies,\r\n        pair,\r\n        pairState,\r\n        currencyBalances,\r\n        parsedAmounts,\r\n        price,\r\n        noLiquidity,\r\n        liquidityMinted,\r\n        poolTokenPercentage,\r\n        error\r\n    } = useDerivedMintInfo(currencyA ?? undefined, currencyB ?? undefined)\r\n    const { onFieldAInput, onFieldBInput } = useMintActionHandlers(noLiquidity)\r\n\r\n    const isValid = !error\r\n\r\n    // modal and loading\r\n    const [showConfirm, setShowConfirm] = useState<boolean>(false)\r\n    const [attemptingTxn, setAttemptingTxn] = useState<boolean>(false) // clicked confirm\r\n\r\n    // txn values\r\n    const [deadline] = useUserDeadline() // custom from users settings\r\n    const [allowedSlippage] = useUserSlippageTolerance() // custom from users\r\n    const [txHash, setTxHash] = useState<string>('')\r\n\r\n    // get formatted amounts\r\n    const formattedAmounts = {\r\n        [independentField]: typedValue,\r\n        [dependentField]: noLiquidity ? otherTypedValue : parsedAmounts[dependentField]?.toSignificant(6) ?? ''\r\n    }\r\n\r\n    // get the max amounts user can add\r\n    const maxAmounts: { [field in Field]?: TokenAmount } = [Field.CURRENCY_A, Field.CURRENCY_B].reduce(\r\n        (accumulator, field) => {\r\n            return {\r\n                ...accumulator,\r\n                [field]: maxAmountSpend(currencyBalances[field])\r\n            }\r\n        },\r\n        {}\r\n    )\r\n\r\n    const atMaxAmounts: { [field in Field]?: TokenAmount } = [Field.CURRENCY_A, Field.CURRENCY_B].reduce(\r\n        (accumulator, field) => {\r\n            return {\r\n                ...accumulator,\r\n                [field]: maxAmounts[field]?.equalTo(parsedAmounts[field] ?? '0')\r\n            }\r\n        },\r\n        {}\r\n    )\r\n\r\n    // check whether the user has approved the router on the tokens\r\n    const [approvalA, approveACallback] = useApproveCallback(parsedAmounts[Field.CURRENCY_A], ROUTER_ADDRESS)\r\n    const [approvalB, approveBCallback] = useApproveCallback(parsedAmounts[Field.CURRENCY_B], ROUTER_ADDRESS)\r\n\r\n    const addTransaction = useTransactionAdder()\r\n\r\n    async function onAdd() {\r\n        if (!chainId || !library || !account) return\r\n        const router = getRouterContract(chainId, library, account)\r\n\r\n        const { [Field.CURRENCY_A]: parsedAmountA, [Field.CURRENCY_B]: parsedAmountB } = parsedAmounts\r\n        if (!parsedAmountA || !parsedAmountB || !currencyA || !currencyB) {\r\n            return\r\n        }\r\n\r\n        const amountsMin = {\r\n            [Field.CURRENCY_A]: calculateSlippageAmount(parsedAmountA, noLiquidity ? 0 : allowedSlippage)[0],\r\n            [Field.CURRENCY_B]: calculateSlippageAmount(parsedAmountB, noLiquidity ? 0 : allowedSlippage)[0]\r\n        }\r\n\r\n        const deadlineFromNow = Math.ceil(Date.now() / 1000) + deadline\r\n\r\n        let estimate,\r\n            method: (...args: any) => Promise<TransactionResponse>,\r\n            args: Array<string | string[] | number>,\r\n            value: BigNumber | null\r\n        if (currencyA === ETHER || currencyB === ETHER) {\r\n            const tokenBIsETH = currencyB === ETHER\r\n            estimate = router.estimateGas.addLiquidityETH\r\n            method = router.addLiquidityETH\r\n            args = [\r\n                wrappedCurrency(tokenBIsETH ? currencyA : currencyB, chainId)?.address ?? '', // token\r\n                (tokenBIsETH ? parsedAmountA : parsedAmountB).raw.toString(), // token desired\r\n                amountsMin[tokenBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(), // token min\r\n                amountsMin[tokenBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(), // eth min\r\n                account,\r\n                deadlineFromNow\r\n            ]\r\n            value = BigNumber.from((tokenBIsETH ? parsedAmountB : parsedAmountA).raw.toString())\r\n        } else {\r\n            estimate = router.estimateGas.addLiquidity\r\n            method = router.addLiquidity\r\n            args = [\r\n                wrappedCurrency(currencyA, chainId)?.address ?? '',\r\n                wrappedCurrency(currencyB, chainId)?.address ?? '',\r\n                parsedAmountA.raw.toString(),\r\n                parsedAmountB.raw.toString(),\r\n                amountsMin[Field.CURRENCY_A].toString(),\r\n                amountsMin[Field.CURRENCY_B].toString(),\r\n                account,\r\n                deadlineFromNow\r\n            ]\r\n            value = null\r\n        }\r\n\r\n        setAttemptingTxn(true)\r\n        await estimate(...args, value ? { value } : {})\r\n            .then(estimatedGasLimit =>\r\n                method(...args, {\r\n                    ...(value ? { value } : {}),\r\n                    gasLimit: calculateGasMargin(estimatedGasLimit)\r\n                }).then(response => {\r\n                    setAttemptingTxn(false)\r\n\r\n                    addTransaction(response, {\r\n                        summary:\r\n                            'Add ' +\r\n                            parsedAmounts[Field.CURRENCY_A]?.toSignificant(3) +\r\n                            ' ' +\r\n                            currencies[Field.CURRENCY_A]?.symbol +\r\n                            ' and ' +\r\n                            parsedAmounts[Field.CURRENCY_B]?.toSignificant(3) +\r\n                            ' ' +\r\n                            currencies[Field.CURRENCY_B]?.symbol\r\n                    })\r\n\r\n                    setTxHash(response.hash)\r\n\r\n                    ReactGA.event({\r\n                        category: 'Liquidity',\r\n                        action: 'Add',\r\n                        label: [currencies[Field.CURRENCY_A]?.symbol, currencies[Field.CURRENCY_B]?.symbol].join('/')\r\n                    })\r\n                })\r\n            )\r\n            .catch(error => {\r\n                setAttemptingTxn(false)\r\n                // we only care if the error is something _other_ than the user rejected the tx\r\n                if (error?.code !== 4001) {\r\n                    console.error(error)\r\n                }\r\n            })\r\n    }\r\n\r\n    const modalHeader = () => {\r\n        return noLiquidity ? (\r\n            <AutoColumn gap=\"20px\">\r\n                <LightCard mt=\"20px\" borderRadius=\"20px\">\r\n                    <RowFlat>\r\n                        <Text fontSize=\"48px\" fontWeight={500} lineHeight=\"42px\" marginRight={10}>\r\n                            {currencies[Field.CURRENCY_A]?.symbol + '/' + currencies[Field.CURRENCY_B]?.symbol}\r\n                        </Text>\r\n                        <DoubleCurrencyLogo\r\n                            currency0={currencies[Field.CURRENCY_A]}\r\n                            currency1={currencies[Field.CURRENCY_B]}\r\n                            size={30}\r\n                        />\r\n                    </RowFlat>\r\n                </LightCard>\r\n            </AutoColumn>\r\n        ) : (\r\n            <AutoColumn gap=\"20px\">\r\n                <RowFlat style={{ marginTop: '20px' }}>\r\n                    <Text fontSize=\"48px\" fontWeight={500} lineHeight=\"42px\" marginRight={10}>\r\n                        {liquidityMinted?.toSignificant(6)}\r\n                    </Text>\r\n                    <DoubleCurrencyLogo\r\n                        currency0={currencies[Field.CURRENCY_A]}\r\n                        currency1={currencies[Field.CURRENCY_B]}\r\n                        size={30}\r\n                    />\r\n                </RowFlat>\r\n                <Row>\r\n                    <Text fontSize=\"24px\">\r\n                        {currencies[Field.CURRENCY_A]?.symbol + '/' + currencies[Field.CURRENCY_B]?.symbol + ' æµåŠ¨æ± é€šè¯'}\r\n                    </Text>\r\n                </Row>\r\n                <TYPE.italic fontSize={12} textAlign=\"left\" padding={'8px 0 0 0 '}>\r\n                        {`è¾“å‡ºæ˜¯é¢„ä¼°çš„ã€‚å¦‚æžœä»·æ ¼å˜åŠ¨è¶…è¿‡ ${allowedSlippage /\r\n                            100}% ï¼…ï¼Œä½ çš„äº¤æ˜“å°†è¢«æ’¤é”€`}\r\n                </TYPE.italic>\r\n            </AutoColumn>\r\n        )\r\n    }\r\n\r\n    const modalBottom = () => {\r\n        return (\r\n            <ConfirmAddModalBottom\r\n                price={price}\r\n                currencies={currencies}\r\n                parsedAmounts={parsedAmounts}\r\n                noLiquidity={noLiquidity}\r\n                onAdd={onAdd}\r\n                poolTokenPercentage={poolTokenPercentage}\r\n            />\r\n        )\r\n    }\r\n\r\n    const pendingText = `æä¾›äº† ${parsedAmounts[Field.CURRENCY_A]?.toSignificant(6)} ${currencies[Field.CURRENCY_A]?.symbol\r\n        } å’Œ ${parsedAmounts[Field.CURRENCY_B]?.toSignificant(6)} ${currencies[Field.CURRENCY_B]?.symbol}`\r\n\r\n    const handleCurrencyASelect = useCallback(\r\n        (currencyA: Currency) => {\r\n            const newCurrencyIdA = currencyId(currencyA)\r\n            if (newCurrencyIdA === currencyIdB) {\r\n                history.push(`/add/${currencyIdB}/${currencyIdA}`)\r\n            } else {\r\n                history.push(`/add/${newCurrencyIdA}/${currencyIdB}`)\r\n            }\r\n        },\r\n        [currencyIdB, history, currencyIdA]\r\n    )\r\n    const handleCurrencyBSelect = useCallback(\r\n        (currencyB: Currency) => {\r\n            const newCurrencyIdB = currencyId(currencyB)\r\n            if (currencyIdA === newCurrencyIdB) {\r\n                if (currencyIdB) {\r\n                    history.push(`/add/${currencyIdB}/${newCurrencyIdB}`)\r\n                } else {\r\n                    history.push(`/add/${newCurrencyIdB}`)\r\n                }\r\n            } else {\r\n                history.push(`/add/${currencyIdA ? currencyIdA : 'ETH'}/${newCurrencyIdB}`)\r\n            }\r\n        },\r\n        [currencyIdA, history, currencyIdB]\r\n    )\r\n\r\n    const handleDismissConfirmation = useCallback(() => {\r\n        setShowConfirm(false)\r\n        // if there was a tx hash, we want to clear the input\r\n        if (txHash) {\r\n            onFieldAInput('')\r\n        }\r\n        setTxHash('')\r\n    }, [onFieldAInput, txHash])\r\n\r\n    return (\r\n        <>\r\n            <AppBody>\r\n                <AddRemoveTabs adding={true} />\r\n                <Wrapper>\r\n                    <TransactionConfirmationModal\r\n                        isOpen={showConfirm}\r\n                        onDismiss={handleDismissConfirmation}\r\n                        attemptingTxn={attemptingTxn}\r\n                        hash={txHash}\r\n                        content={() => (\r\n                            <ConfirmationModalContent\r\n                                title={noLiquidity ? 'æ‚¨æ­£åœ¨åˆ›å»ºä¸€ä¸ªæµåŠ¨æ± ' : 'æ‚¨å°†æ”¶åˆ°'}\r\n                                onDismiss={handleDismissConfirmation}\r\n                                topContent={modalHeader}\r\n                                bottomContent={modalBottom}\r\n                            />\r\n                        )}\r\n                        pendingText={pendingText}\r\n                    />\r\n                    <AutoColumn gap=\"20px\">\r\n                        {noLiquidity && (\r\n                            <ColumnCenter>\r\n                                <BlueCard>\r\n                                    <AutoColumn gap=\"10px\">\r\n                                        <TYPE.link fontWeight={600} color={'primaryText1'}>\r\n                                            {t('firstAdd1')}\r\n                                        </TYPE.link>\r\n                                        <TYPE.link fontWeight={400} color={'primaryText1'}>\r\n                                            {t('firstAdd2')}\r\n                                        </TYPE.link>\r\n                                        <TYPE.link fontWeight={400} color={'primaryText1'}>\r\n                                            {t('firstAdd3')}\r\n                                        </TYPE.link>\r\n                                    </AutoColumn>\r\n                                </BlueCard>\r\n                            </ColumnCenter>\r\n                        )}\r\n                        <CurrencyInputPanel\r\n                            value={formattedAmounts[Field.CURRENCY_A]}\r\n                            onUserInput={onFieldAInput}\r\n                            onMax={() => {\r\n                                onFieldAInput(maxAmounts[Field.CURRENCY_A]?.toExact() ?? '')\r\n                            }}\r\n                            onCurrencySelect={handleCurrencyASelect}\r\n                            showMaxButton={!atMaxAmounts[Field.CURRENCY_A]}\r\n                            currency={currencies[Field.CURRENCY_A]}\r\n                            id=\"add-liquidity-input-tokena\"\r\n                            showCommonBases\r\n                        />\r\n                        <ColumnCenter>\r\n                            <Plus size=\"16\" color={theme.text2} />\r\n                        </ColumnCenter>\r\n                        <CurrencyInputPanel\r\n                            value={formattedAmounts[Field.CURRENCY_B]}\r\n                            onUserInput={onFieldBInput}\r\n                            onCurrencySelect={handleCurrencyBSelect}\r\n                            onMax={() => {\r\n                                onFieldBInput(maxAmounts[Field.CURRENCY_B]?.toExact() ?? '')\r\n                            }}\r\n                            showMaxButton={!atMaxAmounts[Field.CURRENCY_B]}\r\n                            currency={currencies[Field.CURRENCY_B]}\r\n                            id=\"add-liquidity-input-tokenb\"\r\n                            showCommonBases\r\n                        />\r\n                        {currencies[Field.CURRENCY_A] && currencies[Field.CURRENCY_B] && pairState !== PairState.INVALID && (\r\n                            <>\r\n                                <GreyCard padding=\"0px\" borderRadius={'20px'}>\r\n                                    <RowBetween padding=\"1rem\">\r\n                                        <TYPE.subHeader fontWeight={500} fontSize={14}>\r\n                                            {noLiquidity ? t('initPrice') : t('prices')} {t('poolShare')}\r\n                                        </TYPE.subHeader>\r\n                                    </RowBetween>{' '}\r\n                                    <LightCard padding=\"1rem\" borderRadius={'20px'}>\r\n                                        <PoolPriceBar\r\n                                            currencies={currencies}\r\n                                            poolTokenPercentage={poolTokenPercentage}\r\n                                            noLiquidity={noLiquidity}\r\n                                            price={price}\r\n                                        />\r\n                                    </LightCard>\r\n                                </GreyCard>\r\n                            </>\r\n                        )}\r\n\r\n                        {!account ? (\r\n                            <ButtonLight onClick={toggleWalletModal}>{t('connectWallet')}</ButtonLight>\r\n                        ) : (\r\n                            <AutoColumn gap={'md'}>\r\n                                {(approvalA === ApprovalState.NOT_APPROVED ||\r\n                                    approvalA === ApprovalState.PENDING ||\r\n                                    approvalB === ApprovalState.NOT_APPROVED ||\r\n                                    approvalB === ApprovalState.PENDING) &&\r\n                                    isValid && (\r\n                                        <RowBetween>\r\n                                            {approvalA !== ApprovalState.APPROVED && (\r\n                                                <ButtonPrimary\r\n                                                    onClick={approveACallback}\r\n                                                    disabled={approvalA === ApprovalState.PENDING}\r\n                                                    width={approvalB !== ApprovalState.APPROVED ? '48%' : '100%'}\r\n                                                >\r\n                                                    {approvalA === ApprovalState.PENDING ? (\r\n                                                        <Dots>æ‰¹å‡†ä¸­ {currencies[Field.CURRENCY_A]?.symbol}</Dots>\r\n                                                    ) : (\r\n                                                        'æ‰¹å‡† ' + currencies[Field.CURRENCY_A]?.symbol\r\n                                                    )}\r\n                                                </ButtonPrimary>\r\n                                            )}\r\n                                            {approvalB !== ApprovalState.APPROVED && (\r\n                                                <ButtonPrimary\r\n                                                    onClick={approveBCallback}\r\n                                                    disabled={approvalB === ApprovalState.PENDING}\r\n                                                    width={approvalA !== ApprovalState.APPROVED ? '48%' : '100%'}\r\n                                                >\r\n                                                    {approvalB === ApprovalState.PENDING ? (\r\n                                                        <Dots>æ‰¹å‡†ä¸­ {currencies[Field.CURRENCY_B]?.symbol}</Dots>\r\n                                                    ) : (\r\n                                                        'æ‰¹å‡† ' + currencies[Field.CURRENCY_B]?.symbol\r\n                                                    )}\r\n                                                </ButtonPrimary>\r\n                                            )}\r\n                                        </RowBetween>\r\n                                    )}\r\n                                <ButtonError\r\n                                    onClick={() => {\r\n                                        expertMode ? onAdd() : setShowConfirm(true)\r\n                                    }}\r\n                                    disabled={!isValid || approvalA !== ApprovalState.APPROVED || approvalB !== ApprovalState.APPROVED}\r\n                                    error={!isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B]}\r\n                                >\r\n                                    <Text fontSize={20} fontWeight={500}>\r\n                                        {error ?? 'æ·»åŠ '}\r\n                                    </Text>\r\n                                </ButtonError>\r\n                            </AutoColumn>\r\n                        )}\r\n                    </AutoColumn>\r\n                </Wrapper>\r\n            </AppBody>\r\n\r\n            {pair && !noLiquidity && pairState !== PairState.INVALID ? (\r\n                <AutoColumn style={{ minWidth: '20rem', marginTop: '1rem' }}>\r\n                    <MinimalPositionCard showUnwrapped={oneCurrencyIsWETH} pair={pair} />\r\n                </AutoColumn>\r\n            ) : null}\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Redirect, RouteComponentProps } from 'react-router-dom'\r\nimport AddLiquidity from './index'\r\n\r\nexport function RedirectToAddLiquidity() {\r\n  return <Redirect to=\"/add/\" />\r\n}\r\n\r\nconst OLD_PATH_STRUCTURE = /^(0x[a-fA-F0-9]{40})-(0x[a-fA-F0-9]{40})$/\r\nexport function RedirectOldAddLiquidityPathStructure(props: RouteComponentProps<{ currencyIdA: string }>) {\r\n  const {\r\n    match: {\r\n      params: { currencyIdA }\r\n    }\r\n  } = props\r\n  const match = currencyIdA.match(OLD_PATH_STRUCTURE)\r\n  if (match?.length) {\r\n    return <Redirect to={`/add/${match[1]}/${match[2]}`} />\r\n  }\r\n\r\n  return <AddLiquidity {...props} />\r\n}\r\n\r\nexport function RedirectDuplicateTokenIds(props: RouteComponentProps<{ currencyIdA: string; currencyIdB: string }>) {\r\n  const {\r\n    match: {\r\n      params: { currencyIdA, currencyIdB }\r\n    }\r\n  } = props\r\n  if (currencyIdA.toLowerCase() === currencyIdB.toLowerCase()) {\r\n    return <Redirect to={`/add/${currencyIdA}`} />\r\n  }\r\n  return <AddLiquidity {...props} />\r\n}\r\n","import { Currency, ETHER, JSBI, TokenAmount } from '@tianheng2017/dex-sdk'\r\nimport React, { useCallback, useEffect, useState } from 'react'\r\nimport { Plus } from 'react-feather'\r\nimport { Text } from 'rebass'\r\nimport { ButtonDropdownLight } from '../../components/Button'\r\nimport { LightCard } from '../../components/Card'\r\nimport { AutoColumn, ColumnCenter } from '../../components/Column'\r\nimport CurrencyLogo from '../../components/CurrencyLogo'\r\nimport { FindPoolTabs } from '../../components/NavigationTabs'\r\nimport { MinimalPositionCard } from '../../components/PositionCard'\r\nimport Row from '../../components/Row'\r\nimport CurrencySearchModal from '../../components/SearchModal/CurrencySearchModal'\r\nimport { PairState, usePair } from '../../data/Reserves'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { usePairAdder } from '../../state/user/hooks'\r\nimport { useTokenBalance } from '../../state/wallet/hooks'\r\nimport { StyledInternalLink } from '../../theme'\r\nimport { currencyId } from '../../utils/currencyId'\r\nimport AppBody from '../AppBody'\r\nimport { Dots } from '../Pool/styleds'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nenum Fields {\r\n    TOKEN0 = 0,\r\n    TOKEN1 = 1\r\n}\r\n\r\nexport default function PoolFinder() {\r\n    const { t } = useTranslation()\r\n    const { account } = useActiveWeb3React()\r\n\r\n    const [showSearch, setShowSearch] = useState<boolean>(false)\r\n    const [activeField, setActiveField] = useState<number>(Fields.TOKEN1)\r\n\r\n    const [currency0, setCurrency0] = useState<Currency | null>(ETHER)\r\n    const [currency1, setCurrency1] = useState<Currency | null>(null)\r\n\r\n    const [pairState, pair] = usePair(currency0 ?? undefined, currency1 ?? undefined)\r\n    const addPair = usePairAdder()\r\n    useEffect(() => {\r\n        if (pair) {\r\n            addPair(pair)\r\n        }\r\n    }, [pair, addPair])\r\n\r\n    const validPairNoLiquidity: boolean =\r\n        pairState === PairState.NOT_EXISTS ||\r\n        Boolean(\r\n            pairState === PairState.EXISTS &&\r\n            pair &&\r\n            JSBI.equal(pair.reserve0.raw, JSBI.BigInt(0)) &&\r\n            JSBI.equal(pair.reserve1.raw, JSBI.BigInt(0))\r\n        )\r\n\r\n    const position: TokenAmount | undefined = useTokenBalance(account ?? undefined, pair?.liquidityToken)\r\n    const hasPosition = Boolean(position && JSBI.greaterThan(position.raw, JSBI.BigInt(0)))\r\n\r\n    const handleCurrencySelect = useCallback(\r\n        (currency: Currency) => {\r\n            if (activeField === Fields.TOKEN0) {\r\n                setCurrency0(currency)\r\n            } else {\r\n                setCurrency1(currency)\r\n            }\r\n        },\r\n        [activeField]\r\n    )\r\n\r\n    const handleSearchDismiss = useCallback(() => {\r\n        setShowSearch(false)\r\n    }, [setShowSearch])\r\n\r\n    const prerequisiteMessage = (\r\n        <LightCard padding=\"45px 10px\">\r\n            <Text textAlign=\"center\">\r\n                {!account ? t('connectWalletFindPools') : t('selectFindLiquidity')}\r\n            </Text>\r\n        </LightCard>\r\n    )\r\n\r\n    return (\r\n        <AppBody>\r\n            <FindPoolTabs />\r\n            <AutoColumn gap=\"md\">\r\n                <ButtonDropdownLight\r\n                    onClick={() => {\r\n                        setShowSearch(true)\r\n                        setActiveField(Fields.TOKEN0)\r\n                    }}\r\n                >\r\n                    {currency0 ? (\r\n                        <Row>\r\n                            <CurrencyLogo currency={currency0} />\r\n                            <Text fontWeight={500} fontSize={20} marginLeft={'12px'}>\r\n                                {currency0.symbol}\r\n                            </Text>\r\n                        </Row>\r\n                    ) : (\r\n                        <Text fontWeight={500} fontSize={20} marginLeft={'12px'}>\r\n                            {t('selectToken')}\r\n                        </Text>\r\n                    )}\r\n                </ButtonDropdownLight>\r\n\r\n                <ColumnCenter>\r\n                    <Plus size=\"16\" color=\"#888D9B\" />\r\n                </ColumnCenter>\r\n\r\n                <ButtonDropdownLight\r\n                    onClick={() => {\r\n                        setShowSearch(true)\r\n                        setActiveField(Fields.TOKEN1)\r\n                    }}\r\n                >\r\n                    {currency1 ? (\r\n                        <Row>\r\n                            <CurrencyLogo currency={currency1} />\r\n                            <Text fontWeight={500} fontSize={20} marginLeft={'12px'}>\r\n                                {currency1.symbol}\r\n                            </Text>\r\n                        </Row>\r\n                    ) : (\r\n                        <Text fontWeight={500} fontSize={20} marginLeft={'12px'}>\r\n                            {t('selectToken')}\r\n                        </Text>\r\n                    )}\r\n                </ButtonDropdownLight>\r\n\r\n                {hasPosition && (\r\n                    <ColumnCenter\r\n                        style={{ justifyItems: 'center', backgroundColor: '', padding: '12px 0px', borderRadius: '12px' }}\r\n                    >\r\n                        <Text textAlign=\"center\" fontWeight={500}>\r\n                            ä»“ä½æ‰¾åˆ°äº†!\r\n                        </Text>\r\n                    </ColumnCenter>\r\n                )}\r\n\r\n                {currency0 && currency1 ? (\r\n                    pairState === PairState.EXISTS ? (\r\n                        hasPosition && pair ? (\r\n                            <MinimalPositionCard pair={pair} border=\"1px solid #CED0D9\" />\r\n                        ) : (\r\n                            <LightCard padding=\"45px 10px\">\r\n                                <AutoColumn gap=\"sm\" justify=\"center\">\r\n                                    <Text textAlign=\"center\">{t('noHavePool')}</Text>\r\n                                    <StyledInternalLink to={`/add/${currencyId(currency0)}/${currencyId(currency1)}`}>\r\n                                        <Text textAlign=\"center\">{t('addLiquidity')}</Text>\r\n                                    </StyledInternalLink>\r\n                                </AutoColumn>\r\n                            </LightCard>\r\n                        )\r\n                    ) : validPairNoLiquidity ? (\r\n                        <LightCard padding=\"45px 10px\">\r\n                            <AutoColumn gap=\"sm\" justify=\"center\">\r\n                                <Text textAlign=\"center\">{t('noPoolFund')}</Text>\r\n                                <StyledInternalLink to={`/add/${currencyId(currency0)}/${currencyId(currency1)}`}>\r\n                                    {t('createPool')}\r\n                                </StyledInternalLink>\r\n                            </AutoColumn>\r\n                        </LightCard>\r\n                    ) : pairState === PairState.INVALID ? (\r\n                        <LightCard padding=\"45px 10px\">\r\n                            <AutoColumn gap=\"sm\" justify=\"center\">\r\n                                <Text textAlign=\"center\" fontWeight={500}>\r\n                                    Invalid pair.\r\n                                </Text>\r\n                            </AutoColumn>\r\n                        </LightCard>\r\n                    ) : pairState === PairState.LOADING ? (\r\n                        <LightCard padding=\"45px 10px\">\r\n                            <AutoColumn gap=\"sm\" justify=\"center\">\r\n                                <Text textAlign=\"center\">\r\n                                    {t('loading')}\r\n                                    <Dots />\r\n                                </Text>\r\n                            </AutoColumn>\r\n                        </LightCard>\r\n                    ) : null\r\n                ) : (\r\n                    prerequisiteMessage\r\n                )}\r\n            </AutoColumn>\r\n\r\n            <CurrencySearchModal\r\n                isOpen={showSearch}\r\n                onCurrencySelect={handleCurrencySelect}\r\n                onDismiss={handleSearchDismiss}\r\n                showCommonBases\r\n                selectedCurrency={(activeField === Fields.TOKEN0 ? currency1 : currency0) ?? undefined}\r\n            />\r\n        </AppBody>\r\n    )\r\n}\r\n","import React, { useContext, useMemo } from 'react'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { Pair } from '@tianheng2017/dex-sdk'\r\nimport { Link } from 'react-router-dom'\r\nimport { SwapPoolTabs } from '../../components/NavigationTabs'\r\n\r\nimport Question from '../../components/QuestionHelper'\r\nimport FullPositionCard from '../../components/PositionCard'\r\nimport { useTokenBalancesWithLoadingIndicator } from '../../state/wallet/hooks'\r\nimport { StyledInternalLink, TYPE } from '../../theme'\r\nimport { Text } from 'rebass'\r\nimport { LightCard } from '../../components/Card'\r\nimport { RowBetween } from '../../components/Row'\r\nimport { ButtonPrimary } from '../../components/Button'\r\nimport { AutoColumn } from '../../components/Column'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { usePairs } from '../../data/Reserves'\r\nimport { toV2LiquidityToken, useTrackedTokenPairs } from '../../state/user/hooks'\r\nimport AppBody from '../AppBody'\r\nimport { Dots } from '../../components/swap/styleds'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport default function Pool() {\r\n    const theme = useContext(ThemeContext)\r\n    const { account } = useActiveWeb3React()\r\n    const { t } = useTranslation()\r\n\r\n    // fetch the user's balances of all tracked V2 LP tokens\r\n    const trackedTokenPairs = useTrackedTokenPairs()\r\n    const tokenPairsWithLiquidityTokens = useMemo(\r\n        () => trackedTokenPairs.map(tokens => ({ liquidityToken: toV2LiquidityToken(tokens), tokens })),\r\n        [trackedTokenPairs]\r\n    )\r\n    const liquidityTokens = useMemo(() => tokenPairsWithLiquidityTokens.map(tpwlt => tpwlt.liquidityToken), [\r\n        tokenPairsWithLiquidityTokens\r\n    ])\r\n    const [v2PairsBalances, fetchingV2PairBalances] = useTokenBalancesWithLoadingIndicator(\r\n        account ?? undefined,\r\n        liquidityTokens\r\n    )\r\n\r\n    // fetch the reserves for all V2 pools in which the user has a balance\r\n    const liquidityTokensWithBalances = useMemo(\r\n        () =>\r\n            tokenPairsWithLiquidityTokens.filter(({ liquidityToken }) =>\r\n                v2PairsBalances[liquidityToken.address]?.greaterThan('0')\r\n            ),\r\n        [tokenPairsWithLiquidityTokens, v2PairsBalances]\r\n    )\r\n\r\n    const v2Pairs = usePairs(liquidityTokensWithBalances.map(({ tokens }) => tokens))\r\n    const v2IsLoading =\r\n        fetchingV2PairBalances || v2Pairs?.length < liquidityTokensWithBalances.length || v2Pairs?.some(V2Pair => !V2Pair)\r\n\r\n    const allV2PairsWithLiquidity = v2Pairs.map(([, pair]) => pair).filter((v2Pair): v2Pair is Pair => Boolean(v2Pair))\r\n\r\n    return (\r\n        <>\r\n            <AppBody>\r\n                <SwapPoolTabs active={'pool'} />\r\n                <AutoColumn gap=\"lg\" justify=\"center\">\r\n                    <ButtonPrimary id=\"join-pool-button\" as={Link} style={{ padding: 16 }} to=\"/add/ETH\">\r\n                        <Text fontWeight={500} fontSize={20}>\r\n                            {t('addLiquidity')}\r\n                        </Text>\r\n                    </ButtonPrimary>\r\n\r\n                    <AutoColumn gap=\"12px\" style={{ width: '100%' }}>\r\n                        <RowBetween padding={'0 8px'}>\r\n                            <Text color={theme.text1} fontWeight={500}>\r\n                                {t('yourLiquidity')}\r\n                            </Text>\r\n                            <Question text={t('yourLiquidityHelper')} />\r\n                        </RowBetween>\r\n\r\n                        {!account ? (\r\n                            <LightCard padding=\"40px\">\r\n                                <TYPE.body color={theme.text3} textAlign=\"center\">\r\n                                    {t('connectWalletViewLiquidity')}\r\n                                </TYPE.body>\r\n                            </LightCard>\r\n                        ) : v2IsLoading ? (\r\n                            <LightCard padding=\"40px\">\r\n                                <TYPE.body color={theme.text3} textAlign=\"center\">\r\n                                    <Dots>{t('loading')}</Dots>\r\n                                </TYPE.body>\r\n                            </LightCard>\r\n                        ) : allV2PairsWithLiquidity?.length > 0 ? (\r\n                            <>\r\n                                {allV2PairsWithLiquidity.map(v2Pair => (\r\n                                    <FullPositionCard key={v2Pair.liquidityToken.address} pair={v2Pair} />\r\n                                ))}\r\n                            </>\r\n                        ) : (\r\n                            <LightCard padding=\"40px\">\r\n                                <TYPE.body color={theme.text3} textAlign=\"center\">\r\n                                    {t('noLiquidityFound')}\r\n                                </TYPE.body>\r\n                            </LightCard>\r\n                        )}\r\n\r\n                        <div>\r\n                            <Text textAlign=\"center\" fontSize={14} style={{ padding: '.5rem 0 .5rem 0' }}>\r\n                                {t('notFundPool')}{' '}\r\n                                <StyledInternalLink id=\"import-pool-link\" to={'/find'}>\r\n                                    {t('import')}\r\n                                </StyledInternalLink>\r\n                            </Text>\r\n                        </div>\r\n                    </AutoColumn>\r\n                </AutoColumn>\r\n            </AppBody>\r\n        </>\r\n    )\r\n}\r\n","import React, { useCallback } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst StyledRangeInput = styled.input<{ size: number }>`\r\n  -webkit-appearance: none; /* Hides the slider so that custom slider can be made */\r\n  width: 100%; /* Specific width is required for Firefox. */\r\n  background: transparent; /* Otherwise white in Chrome */\r\n  cursor: pointer;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n\r\n  &::-moz-focus-outer {\r\n    border: 0;\r\n  }\r\n\r\n  &::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    height: ${({ size }) => size}px;\r\n    width: ${({ size }) => size}px;\r\n    background-color: #565a69;\r\n    border-radius: 100%;\r\n    border: none;\r\n    transform: translateY(-50%);\r\n    color: ${({ theme }) => theme.bg1};\r\n\r\n    &:hover,\r\n    &:focus {\r\n      box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.1), 0px 4px 8px rgba(0, 0, 0, 0.08), 0px 16px 24px rgba(0, 0, 0, 0.06),\r\n        0px 24px 32px rgba(0, 0, 0, 0.04);\r\n    }\r\n  }\r\n\r\n  &::-moz-range-thumb {\r\n    height: ${({ size }) => size}px;\r\n    width: ${({ size }) => size}px;\r\n    background-color: #565a69;\r\n    border-radius: 100%;\r\n    border: none;\r\n    color: ${({ theme }) => theme.bg1};\r\n\r\n    &:hover,\r\n    &:focus {\r\n      box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.1), 0px 4px 8px rgba(0, 0, 0, 0.08), 0px 16px 24px rgba(0, 0, 0, 0.06),\r\n        0px 24px 32px rgba(0, 0, 0, 0.04);\r\n    }\r\n  }\r\n\r\n  &::-ms-thumb {\r\n    height: ${({ size }) => size}px;\r\n    width: ${({ size }) => size}px;\r\n    background-color: #565a69;\r\n    border-radius: 100%;\r\n    color: ${({ theme }) => theme.bg1};\r\n\r\n    &:hover,\r\n    &:focus {\r\n      box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.1), 0px 4px 8px rgba(0, 0, 0, 0.08), 0px 16px 24px rgba(0, 0, 0, 0.06),\r\n        0px 24px 32px rgba(0, 0, 0, 0.04);\r\n    }\r\n  }\r\n\r\n  &::-webkit-slider-runnable-track {\r\n    background: linear-gradient(90deg, ${({ theme }) => theme.bg5}, ${({ theme }) => theme.bg3});\r\n    height: 2px;\r\n  }\r\n\r\n  &::-moz-range-track {\r\n    background: linear-gradient(90deg, ${({ theme }) => theme.bg5}, ${({ theme }) => theme.bg3});\r\n    height: 2px;\r\n  }\r\n\r\n  &::-ms-track {\r\n    width: 100%;\r\n    border-color: transparent;\r\n    color: transparent;\r\n\r\n    background: ${({ theme }) => theme.bg5};\r\n    height: 2px;\r\n  }\r\n  &::-ms-fill-lower {\r\n    background: ${({ theme }) => theme.bg5};\r\n  }\r\n  &::-ms-fill-upper {\r\n    background: ${({ theme }) => theme.bg3};\r\n  }\r\n`\r\n\r\ninterface InputSliderProps {\r\n  value: number\r\n  onChange: (value: number) => void\r\n  step?: number\r\n  min?: number\r\n  max?: number\r\n  size?: number\r\n}\r\n\r\nexport default function Slider({ value, onChange, min = 0, step = 1, max = 100, size = 28 }: InputSliderProps) {\r\n  const changeCallback = useCallback(\r\n    e => {\r\n      onChange(parseInt(e.target.value))\r\n    },\r\n    [onChange]\r\n  )\r\n\r\n  return (\r\n    <StyledRangeInput\r\n      size={size}\r\n      type=\"range\"\r\n      value={value}\r\n      style={{ width: '90%', marginLeft: 15, marginRight: 15, padding: '15px 0' }}\r\n      onChange={changeCallback}\r\n      aria-labelledby=\"input slider\"\r\n      step={step}\r\n      min={min}\r\n      max={max}\r\n    />\r\n  )\r\n}\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport enum Field {\r\n  LIQUIDITY_PERCENT = 'LIQUIDITY_PERCENT',\r\n  LIQUIDITY = 'LIQUIDITY',\r\n  CURRENCY_A = 'CURRENCY_A',\r\n  CURRENCY_B = 'CURRENCY_B'\r\n}\r\n\r\nexport const typeInput = createAction<{ field: Field; typedValue: string }>('burn/typeInputBurn')\r\n","import { Currency, CurrencyAmount, JSBI, Pair, Percent, TokenAmount } from '@tianheng2017/dex-sdk'\r\nimport { useCallback } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { usePair } from '../../data/Reserves'\r\nimport { useTotalSupply } from '../../data/TotalSupply'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { wrappedCurrency } from '../../utils/wrappedCurrency'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { tryParseAmount } from '../swap/hooks'\r\nimport { useTokenBalances } from '../wallet/hooks'\r\nimport { Field, typeInput } from './actions'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport function useBurnState(): AppState['burn'] {\r\n    return useSelector<AppState, AppState['burn']>(state => state.burn)\r\n}\r\n\r\nexport function useDerivedBurnInfo(\r\n    currencyA: Currency | undefined,\r\n    currencyB: Currency | undefined\r\n): {\r\n    pair?: Pair | null\r\n    parsedAmounts: {\r\n        [Field.LIQUIDITY_PERCENT]: Percent\r\n        [Field.LIQUIDITY]?: TokenAmount\r\n        [Field.CURRENCY_A]?: CurrencyAmount\r\n        [Field.CURRENCY_B]?: CurrencyAmount\r\n    }\r\n    error?: string\r\n} {\r\n    const { t } = useTranslation()\r\n    const { account, chainId } = useActiveWeb3React()\r\n\r\n    const { independentField, typedValue } = useBurnState()\r\n\r\n    // pair + totalsupply\r\n    const [, pair] = usePair(currencyA, currencyB)\r\n\r\n    // balances\r\n    const relevantTokenBalances = useTokenBalances(account ?? undefined, [pair?.liquidityToken])\r\n    const userLiquidity: undefined | TokenAmount = relevantTokenBalances?.[pair?.liquidityToken?.address ?? '']\r\n\r\n    const [tokenA, tokenB] = [wrappedCurrency(currencyA, chainId), wrappedCurrency(currencyB, chainId)]\r\n    const tokens = {\r\n        [Field.CURRENCY_A]: tokenA,\r\n        [Field.CURRENCY_B]: tokenB,\r\n        [Field.LIQUIDITY]: pair?.liquidityToken\r\n    }\r\n\r\n    // liquidity values\r\n    const totalSupply = useTotalSupply(pair?.liquidityToken)\r\n    const liquidityValueA =\r\n        pair &&\r\n            totalSupply &&\r\n            userLiquidity &&\r\n            tokenA &&\r\n            // this condition is a short-circuit in the case where useTokenBalance updates sooner than useTotalSupply\r\n            JSBI.greaterThanOrEqual(totalSupply.raw, userLiquidity.raw)\r\n            ? new TokenAmount(tokenA, pair.getLiquidityValue(tokenA, totalSupply, userLiquidity, false).raw)\r\n            : undefined\r\n    const liquidityValueB =\r\n        pair &&\r\n            totalSupply &&\r\n            userLiquidity &&\r\n            tokenB &&\r\n            // this condition is a short-circuit in the case where useTokenBalance updates sooner than useTotalSupply\r\n            JSBI.greaterThanOrEqual(totalSupply.raw, userLiquidity.raw)\r\n            ? new TokenAmount(tokenB, pair.getLiquidityValue(tokenB, totalSupply, userLiquidity, false).raw)\r\n            : undefined\r\n    const liquidityValues: { [Field.CURRENCY_A]?: TokenAmount;[Field.CURRENCY_B]?: TokenAmount } = {\r\n        [Field.CURRENCY_A]: liquidityValueA,\r\n        [Field.CURRENCY_B]: liquidityValueB\r\n    }\r\n\r\n    let percentToRemove: Percent = new Percent('0', '100')\r\n    // user specified a %\r\n    if (independentField === Field.LIQUIDITY_PERCENT) {\r\n        percentToRemove = new Percent(typedValue, '100')\r\n    }\r\n    // user specified a specific amount of liquidity tokens\r\n    else if (independentField === Field.LIQUIDITY) {\r\n        if (pair?.liquidityToken) {\r\n            const independentAmount = tryParseAmount(typedValue, pair.liquidityToken)\r\n            if (independentAmount && userLiquidity && !independentAmount.greaterThan(userLiquidity)) {\r\n                percentToRemove = new Percent(independentAmount.raw, userLiquidity.raw)\r\n            }\r\n        }\r\n    }\r\n    // user specified a specific amount of token a or b\r\n    else {\r\n        if (tokens[independentField]) {\r\n            const independentAmount = tryParseAmount(typedValue, tokens[independentField])\r\n            const liquidityValue = liquidityValues[independentField]\r\n            if (independentAmount && liquidityValue && !independentAmount.greaterThan(liquidityValue)) {\r\n                percentToRemove = new Percent(independentAmount.raw, liquidityValue.raw)\r\n            }\r\n        }\r\n    }\r\n\r\n    const parsedAmounts: {\r\n        [Field.LIQUIDITY_PERCENT]: Percent\r\n        [Field.LIQUIDITY]?: TokenAmount\r\n        [Field.CURRENCY_A]?: TokenAmount\r\n        [Field.CURRENCY_B]?: TokenAmount\r\n    } = {\r\n        [Field.LIQUIDITY_PERCENT]: percentToRemove,\r\n        [Field.LIQUIDITY]:\r\n            userLiquidity && percentToRemove && percentToRemove.greaterThan('0')\r\n                ? new TokenAmount(userLiquidity.token, percentToRemove.multiply(userLiquidity.raw).quotient)\r\n                : undefined,\r\n        [Field.CURRENCY_A]:\r\n            tokenA && percentToRemove && percentToRemove.greaterThan('0') && liquidityValueA\r\n                ? new TokenAmount(tokenA, percentToRemove.multiply(liquidityValueA.raw).quotient)\r\n                : undefined,\r\n        [Field.CURRENCY_B]:\r\n            tokenB && percentToRemove && percentToRemove.greaterThan('0') && liquidityValueB\r\n                ? new TokenAmount(tokenB, percentToRemove.multiply(liquidityValueB.raw).quotient)\r\n                : undefined\r\n    }\r\n\r\n    let error: string | undefined\r\n    if (!account) {\r\n        error = t('connectWallet')\r\n    }\r\n\r\n    if (!parsedAmounts[Field.LIQUIDITY] || !parsedAmounts[Field.CURRENCY_A] || !parsedAmounts[Field.CURRENCY_B]) {\r\n        error = error ?? t('enterAnAmount')\r\n    }\r\n\r\n    return { pair, parsedAmounts, error }\r\n}\r\n\r\nexport function useBurnActionHandlers(): {\r\n    onUserInput: (field: Field, typedValue: string) => void\r\n} {\r\n    const dispatch = useDispatch<AppDispatch>()\r\n\r\n    const onUserInput = useCallback(\r\n        (field: Field, typedValue: string) => {\r\n            dispatch(typeInput({ field, typedValue }))\r\n        },\r\n        [dispatch]\r\n    )\r\n\r\n    return {\r\n        onUserInput\r\n    }\r\n}\r\n","import { splitSignature } from '@ethersproject/bytes'\r\nimport { Contract } from '@ethersproject/contracts'\r\nimport { TransactionResponse } from '@ethersproject/providers'\r\nimport { Currency, currencyEquals, ETHER, Percent, WETH } from '@tianheng2017/dex-sdk'\r\nimport React, { useCallback, useContext, useMemo, useState } from 'react'\r\nimport { ArrowDown, Plus } from 'react-feather'\r\nimport ReactGA from 'react-ga'\r\nimport { RouteComponentProps } from 'react-router'\r\nimport { Text } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { ButtonPrimary, ButtonLight, ButtonError, ButtonConfirmed } from '../../components/Button'\r\nimport { LightCard } from '../../components/Card'\r\nimport { AutoColumn, ColumnCenter } from '../../components/Column'\r\nimport TransactionConfirmationModal, { ConfirmationModalContent } from '../../components/TransactionConfirmationModal'\r\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel'\r\nimport DoubleCurrencyLogo from '../../components/DoubleLogo'\r\nimport { AddRemoveTabs } from '../../components/NavigationTabs'\r\nimport { MinimalPositionCard } from '../../components/PositionCard'\r\nimport Row, { RowBetween, RowFixed } from '../../components/Row'\r\n\r\nimport Slider from '../../components/Slider'\r\nimport CurrencyLogo from '../../components/CurrencyLogo'\r\nimport { ROUTER_ADDRESS } from '../../constants'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useCurrency } from '../../hooks/Tokens'\r\nimport { usePairContract } from '../../hooks/useContract'\r\n\r\nimport { useTransactionAdder } from '../../state/transactions/hooks'\r\nimport { StyledInternalLink, TYPE } from '../../theme'\r\nimport { calculateGasMargin, calculateSlippageAmount, getRouterContract } from '../../utils'\r\nimport { currencyId } from '../../utils/currencyId'\r\nimport useDebouncedChangeHandler from '../../utils/useDebouncedChangeHandler'\r\nimport { wrappedCurrency } from '../../utils/wrappedCurrency'\r\nimport AppBody from '../AppBody'\r\nimport { ClickableText, MaxButton, Wrapper } from '../Pool/styleds'\r\nimport { useApproveCallback, ApprovalState } from '../../hooks/useApproveCallback'\r\nimport { Dots } from '../../components/swap/styleds'\r\nimport { useBurnActionHandlers } from '../../state/burn/hooks'\r\nimport { useDerivedBurnInfo, useBurnState } from '../../state/burn/hooks'\r\nimport { Field } from '../../state/burn/actions'\r\nimport { useWalletModalToggle } from '../../state/application/hooks'\r\nimport { useUserDeadline, useUserSlippageTolerance } from '../../state/user/hooks'\r\nimport { BigNumber } from '@ethersproject/bignumber'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport default function RemoveLiquidity({\r\n    history,\r\n    match: {\r\n        params: { currencyIdA, currencyIdB }\r\n    }\r\n}: RouteComponentProps<{ currencyIdA: string; currencyIdB: string }>) {\r\n    const { t } = useTranslation()\r\n    const [currencyA, currencyB] = [useCurrency(currencyIdA) ?? undefined, useCurrency(currencyIdB) ?? undefined]\r\n    const { account, chainId, library } = useActiveWeb3React()\r\n    const [tokenA, tokenB] = useMemo(() => [wrappedCurrency(currencyA, chainId), wrappedCurrency(currencyB, chainId)], [\r\n        currencyA,\r\n        currencyB,\r\n        chainId\r\n    ])\r\n\r\n    const theme = useContext(ThemeContext)\r\n\r\n    // toggle wallet when disconnected\r\n    const toggleWalletModal = useWalletModalToggle()\r\n\r\n    // burn state\r\n    const { independentField, typedValue } = useBurnState()\r\n    const { pair, parsedAmounts, error } = useDerivedBurnInfo(currencyA ?? undefined, currencyB ?? undefined)\r\n    const { onUserInput: _onUserInput } = useBurnActionHandlers()\r\n    const isValid = !error\r\n\r\n    // modal and loading\r\n    const [showConfirm, setShowConfirm] = useState<boolean>(false)\r\n    const [showDetailed, setShowDetailed] = useState<boolean>(false)\r\n    const [attemptingTxn, setAttemptingTxn] = useState(false) // clicked confirm\r\n\r\n    // txn values\r\n    const [txHash, setTxHash] = useState<string>('')\r\n    const [deadline] = useUserDeadline()\r\n    const [allowedSlippage] = useUserSlippageTolerance()\r\n\r\n    const formattedAmounts = {\r\n        [Field.LIQUIDITY_PERCENT]: parsedAmounts[Field.LIQUIDITY_PERCENT].equalTo('0')\r\n            ? '0'\r\n            : parsedAmounts[Field.LIQUIDITY_PERCENT].lessThan(new Percent('1', '100'))\r\n                ? '<1'\r\n                : parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0),\r\n        [Field.LIQUIDITY]:\r\n            independentField === Field.LIQUIDITY ? typedValue : parsedAmounts[Field.LIQUIDITY]?.toSignificant(6) ?? '',\r\n        [Field.CURRENCY_A]:\r\n            independentField === Field.CURRENCY_A ? typedValue : parsedAmounts[Field.CURRENCY_A]?.toSignificant(6) ?? '',\r\n        [Field.CURRENCY_B]:\r\n            independentField === Field.CURRENCY_B ? typedValue : parsedAmounts[Field.CURRENCY_B]?.toSignificant(6) ?? ''\r\n    }\r\n\r\n    const atMaxAmount = parsedAmounts[Field.LIQUIDITY_PERCENT]?.equalTo(new Percent('1'))\r\n\r\n    // pair contract\r\n    const pairContract: Contract | null = usePairContract(pair?.liquidityToken?.address)\r\n\r\n    // allowance handling\r\n    const [signatureData, setSignatureData] = useState<{ v: number; r: string; s: string; deadline: number } | null>(null)\r\n    const [approval, approveCallback] = useApproveCallback(parsedAmounts[Field.LIQUIDITY], ROUTER_ADDRESS)\r\n    async function onAttemptToApprove() {\r\n        if (!pairContract || !pair || !library) throw new Error('missing dependencies')\r\n        const liquidityAmount = parsedAmounts[Field.LIQUIDITY]\r\n        if (!liquidityAmount) throw new Error('missing liquidity amount')\r\n        // try to gather a signature for permission\r\n        const nonce = await pairContract.nonces(account)\r\n\r\n        const deadlineForSignature: number = Math.ceil(Date.now() / 1000) + deadline\r\n\r\n        const EIP712Domain = [\r\n            { name: 'name', type: 'string' },\r\n            { name: 'version', type: 'string' },\r\n            { name: 'chainId', type: 'uint256' },\r\n            { name: 'verifyingContract', type: 'address' }\r\n        ]\r\n        const domain = {\r\n            name: 'Uniswap V2',\r\n            version: '1',\r\n            chainId: chainId,\r\n            verifyingContract: pair.liquidityToken.address\r\n        }\r\n        const Permit = [\r\n            { name: 'owner', type: 'address' },\r\n            { name: 'spender', type: 'address' },\r\n            { name: 'value', type: 'uint256' },\r\n            { name: 'nonce', type: 'uint256' },\r\n            { name: 'deadline', type: 'uint256' }\r\n        ]\r\n        const message = {\r\n            owner: account,\r\n            spender: ROUTER_ADDRESS,\r\n            value: liquidityAmount.raw.toString(),\r\n            nonce: nonce.toHexString(),\r\n            deadline: deadlineForSignature\r\n        }\r\n        const data = JSON.stringify({\r\n            types: {\r\n                EIP712Domain,\r\n                Permit\r\n            },\r\n            domain,\r\n            primaryType: 'Permit',\r\n            message\r\n        })\r\n\r\n        library\r\n            .send('eth_signTypedData_v4', [account, data])\r\n            .then(splitSignature)\r\n            .then(signature => {\r\n                setSignatureData({\r\n                    v: signature.v,\r\n                    r: signature.r,\r\n                    s: signature.s,\r\n                    deadline: deadlineForSignature\r\n                })\r\n            })\r\n            .catch(error => {\r\n                // for all errors other than 4001 (EIP-1193 user rejected request), fall back to manual approve\r\n                if (error?.code !== 4001) {\r\n                    approveCallback()\r\n                }\r\n            })\r\n    }\r\n\r\n    // wrapped onUserInput to clear signatures\r\n    const onUserInput = useCallback(\r\n        (field: Field, typedValue: string) => {\r\n            setSignatureData(null)\r\n            return _onUserInput(field, typedValue)\r\n        },\r\n        [_onUserInput]\r\n    )\r\n\r\n    const onLiquidityInput = useCallback((typedValue: string): void => onUserInput(Field.LIQUIDITY, typedValue), [\r\n        onUserInput\r\n    ])\r\n    const onCurrencyAInput = useCallback((typedValue: string): void => onUserInput(Field.CURRENCY_A, typedValue), [\r\n        onUserInput\r\n    ])\r\n    const onCurrencyBInput = useCallback((typedValue: string): void => onUserInput(Field.CURRENCY_B, typedValue), [\r\n        onUserInput\r\n    ])\r\n\r\n    // tx sending\r\n    const addTransaction = useTransactionAdder()\r\n    async function onRemove() {\r\n        if (!chainId || !library || !account) throw new Error('missing dependencies')\r\n        const { [Field.CURRENCY_A]: currencyAmountA, [Field.CURRENCY_B]: currencyAmountB } = parsedAmounts\r\n        if (!currencyAmountA || !currencyAmountB) {\r\n            throw new Error('missing currency amounts')\r\n        }\r\n        const router = getRouterContract(chainId, library, account)\r\n\r\n        const amountsMin = {\r\n            [Field.CURRENCY_A]: calculateSlippageAmount(currencyAmountA, allowedSlippage)[0],\r\n            [Field.CURRENCY_B]: calculateSlippageAmount(currencyAmountB, allowedSlippage)[0]\r\n        }\r\n\r\n        if (!currencyA || !currencyB) throw new Error('missing tokens')\r\n        const liquidityAmount = parsedAmounts[Field.LIQUIDITY]\r\n        if (!liquidityAmount) throw new Error('missing liquidity amount')\r\n\r\n        const currencyBIsETH = currencyB === ETHER\r\n        const oneCurrencyIsETH = currencyA === ETHER || currencyBIsETH\r\n        const deadlineFromNow = Math.ceil(Date.now() / 1000) + deadline\r\n\r\n        if (!tokenA || !tokenB) throw new Error('could not wrap')\r\n\r\n        let methodNames: string[], args: Array<string | string[] | number | boolean>\r\n        // we have approval, use normal remove liquidity\r\n        if (approval === ApprovalState.APPROVED) {\r\n            // removeLiquidityETH\r\n            if (oneCurrencyIsETH) {\r\n                methodNames = ['removeLiquidityETH', 'removeLiquidityETHSupportingFeeOnTransferTokens']\r\n                args = [\r\n                    currencyBIsETH ? tokenA.address : tokenB.address,\r\n                    liquidityAmount.raw.toString(),\r\n                    amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(),\r\n                    amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(),\r\n                    account,\r\n                    deadlineFromNow\r\n                ]\r\n            }\r\n            // removeLiquidity\r\n            else {\r\n                methodNames = ['removeLiquidity']\r\n                args = [\r\n                    tokenA.address,\r\n                    tokenB.address,\r\n                    liquidityAmount.raw.toString(),\r\n                    amountsMin[Field.CURRENCY_A].toString(),\r\n                    amountsMin[Field.CURRENCY_B].toString(),\r\n                    account,\r\n                    deadlineFromNow\r\n                ]\r\n            }\r\n        }\r\n        // we have a signataure, use permit versions of remove liquidity\r\n        else if (signatureData !== null) {\r\n            // removeLiquidityETHWithPermit\r\n            if (oneCurrencyIsETH) {\r\n                methodNames = ['removeLiquidityETHWithPermit', 'removeLiquidityETHWithPermitSupportingFeeOnTransferTokens']\r\n                args = [\r\n                    currencyBIsETH ? tokenA.address : tokenB.address,\r\n                    liquidityAmount.raw.toString(),\r\n                    amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(),\r\n                    amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(),\r\n                    account,\r\n                    signatureData.deadline,\r\n                    false,\r\n                    signatureData.v,\r\n                    signatureData.r,\r\n                    signatureData.s\r\n                ]\r\n            }\r\n            // removeLiquidityETHWithPermit\r\n            else {\r\n                methodNames = ['removeLiquidityWithPermit']\r\n                args = [\r\n                    tokenA.address,\r\n                    tokenB.address,\r\n                    liquidityAmount.raw.toString(),\r\n                    amountsMin[Field.CURRENCY_A].toString(),\r\n                    amountsMin[Field.CURRENCY_B].toString(),\r\n                    account,\r\n                    signatureData.deadline,\r\n                    false,\r\n                    signatureData.v,\r\n                    signatureData.r,\r\n                    signatureData.s\r\n                ]\r\n            }\r\n        } else {\r\n            throw new Error('Attempting to confirm without approval or a signature. Please contact support.')\r\n        }\r\n\r\n        const safeGasEstimates: (BigNumber | undefined)[] = await Promise.all(\r\n            methodNames.map(methodName =>\r\n                router.estimateGas[methodName](...args)\r\n                    .then(calculateGasMargin)\r\n                    .catch(error => {\r\n                        console.error(`estimateGas failed`, methodName, args, error)\r\n                        return undefined\r\n                    })\r\n            )\r\n        )\r\n\r\n        const indexOfSuccessfulEstimation = safeGasEstimates.findIndex(safeGasEstimate =>\r\n            BigNumber.isBigNumber(safeGasEstimate)\r\n        )\r\n\r\n        // all estimations failed...\r\n        if (indexOfSuccessfulEstimation === -1) {\r\n            console.error('This transaction would fail. Please contact support.')\r\n        } else {\r\n            const methodName = methodNames[indexOfSuccessfulEstimation]\r\n            const safeGasEstimate = safeGasEstimates[indexOfSuccessfulEstimation]\r\n\r\n            setAttemptingTxn(true)\r\n            await router[methodName](...args, {\r\n                gasLimit: safeGasEstimate\r\n            })\r\n                .then((response: TransactionResponse) => {\r\n                    setAttemptingTxn(false)\r\n\r\n                    addTransaction(response, {\r\n                        summary:\r\n                            'Remove ' +\r\n                            parsedAmounts[Field.CURRENCY_A]?.toSignificant(3) +\r\n                            ' ' +\r\n                            currencyA?.symbol +\r\n                            ' and ' +\r\n                            parsedAmounts[Field.CURRENCY_B]?.toSignificant(3) +\r\n                            ' ' +\r\n                            currencyB?.symbol\r\n                    })\r\n\r\n                    setTxHash(response.hash)\r\n\r\n                    ReactGA.event({\r\n                        category: 'Liquidity',\r\n                        action: 'Remove',\r\n                        label: [currencyA?.symbol, currencyB?.symbol].join('/')\r\n                    })\r\n                })\r\n                .catch((error: Error) => {\r\n                    setAttemptingTxn(false)\r\n                    // we only care if the error is something _other_ than the user rejected the tx\r\n                    console.error(error)\r\n                })\r\n        }\r\n    }\r\n\r\n    function modalHeader() {\r\n        return (\r\n            <AutoColumn gap={'md'} style={{ marginTop: '20px' }}>\r\n                <RowBetween align=\"flex-end\">\r\n                    <Text fontSize={24} fontWeight={500}>\r\n                        {parsedAmounts[Field.CURRENCY_A]?.toSignificant(6)}\r\n                    </Text>\r\n                    <RowFixed gap=\"4px\">\r\n                        <CurrencyLogo currency={currencyA} size={'24px'} />\r\n                        <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\r\n                            {currencyA?.symbol}\r\n                        </Text>\r\n                    </RowFixed>\r\n                </RowBetween>\r\n                <RowFixed>\r\n                    <Plus size=\"16\" color={theme.text2} />\r\n                </RowFixed>\r\n                <RowBetween align=\"flex-end\">\r\n                    <Text fontSize={24} fontWeight={500}>\r\n                        {parsedAmounts[Field.CURRENCY_B]?.toSignificant(6)}\r\n                    </Text>\r\n                    <RowFixed gap=\"4px\">\r\n                        <CurrencyLogo currency={currencyB} size={'24px'} />\r\n                        <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\r\n                            {currencyB?.symbol}\r\n                        </Text>\r\n                    </RowFixed>\r\n                </RowBetween>\r\n\r\n                <TYPE.italic fontSize={12} color={theme.text2} textAlign=\"left\" padding={'12px 0 0 0'}>\r\n                    {`è¾“å‡ºæ˜¯ä¼°è®¡å€¼ã€‚å¦‚æžœä»·æ ¼å˜åŒ–è¶…è¿‡ ${allowedSlippage /\r\n                        100}ï¼…ï¼Œæ‚¨çš„äº¤æ˜“å°†å›žæ»š`}\r\n                </TYPE.italic>\r\n            </AutoColumn>\r\n        )\r\n    }\r\n\r\n    function modalBottom() {\r\n        return (\r\n            <>\r\n                <RowBetween>\r\n                    <Text color={theme.text2} fontWeight={500} fontSize={16}>\r\n                        {currencyA?.symbol + '/' + currencyB?.symbol} æµåŠ¨æ± é€šè¯é”€æ¯\r\n                    </Text>\r\n                    <RowFixed>\r\n                        <DoubleCurrencyLogo currency0={currencyA} currency1={currencyB} margin={true} />\r\n                        <Text fontWeight={500} fontSize={16}>\r\n                            {parsedAmounts[Field.LIQUIDITY]?.toSignificant(6)}\r\n                        </Text>\r\n                    </RowFixed>\r\n                </RowBetween>\r\n                {pair && (\r\n                    <>\r\n                        <RowBetween>\r\n                            <Text color={theme.text2} fontWeight={500} fontSize={16}>\r\n                                ä»·æ ¼\r\n                            </Text>\r\n                            <Text fontWeight={500} fontSize={16} color={theme.text1}>\r\n                                1 {currencyA?.symbol} = {tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-'} {currencyB?.symbol}\r\n                            </Text>\r\n                        </RowBetween>\r\n                        <RowBetween>\r\n                            <div />\r\n                            <Text fontWeight={500} fontSize={16} color={theme.text1}>\r\n                                1 {currencyB?.symbol} = {tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-'} {currencyA?.symbol}\r\n                            </Text>\r\n                        </RowBetween>\r\n                    </>\r\n                )}\r\n                <ButtonPrimary disabled={!(approval === ApprovalState.APPROVED || signatureData !== null)} onClick={onRemove}>\r\n                    <Text fontWeight={500} fontSize={20}>\r\n                        ç¡®å®š\r\n                    </Text>\r\n                </ButtonPrimary>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const pendingText = `ç§»é™¤ ${parsedAmounts[Field.CURRENCY_A]?.toSignificant(6)} ${currencyA?.symbol\r\n        } å’Œ ${parsedAmounts[Field.CURRENCY_B]?.toSignificant(6)} ${currencyB?.symbol}`\r\n\r\n    const liquidityPercentChangeCallback = useCallback(\r\n        (value: number) => {\r\n            onUserInput(Field.LIQUIDITY_PERCENT, value.toString())\r\n        },\r\n        [onUserInput]\r\n    )\r\n\r\n    const oneCurrencyIsETH = currencyA === ETHER || currencyB === ETHER\r\n    const oneCurrencyIsWETH = Boolean(\r\n        chainId &&\r\n        ((currencyA && currencyEquals(WETH[chainId], currencyA)) ||\r\n            (currencyB && currencyEquals(WETH[chainId], currencyB)))\r\n    )\r\n\r\n    const handleSelectCurrencyA = useCallback(\r\n        (currency: Currency) => {\r\n            if (currencyIdB && currencyId(currency) === currencyIdB) {\r\n                history.push(`/remove/${currencyId(currency)}/${currencyIdA}`)\r\n            } else {\r\n                history.push(`/remove/${currencyId(currency)}/${currencyIdB}`)\r\n            }\r\n        },\r\n        [currencyIdA, currencyIdB, history]\r\n    )\r\n    const handleSelectCurrencyB = useCallback(\r\n        (currency: Currency) => {\r\n            if (currencyIdA && currencyId(currency) === currencyIdA) {\r\n                history.push(`/remove/${currencyIdB}/${currencyId(currency)}`)\r\n            } else {\r\n                history.push(`/remove/${currencyIdA}/${currencyId(currency)}`)\r\n            }\r\n        },\r\n        [currencyIdA, currencyIdB, history]\r\n    )\r\n\r\n    const handleDismissConfirmation = useCallback(() => {\r\n        setShowConfirm(false)\r\n        setSignatureData(null) // important that we clear signature data to avoid bad sigs\r\n        // if there was a tx hash, we want to clear the input\r\n        if (txHash) {\r\n            onUserInput(Field.LIQUIDITY_PERCENT, '0')\r\n        }\r\n        setTxHash('')\r\n    }, [onUserInput, txHash])\r\n\r\n    const [innerLiquidityPercentage, setInnerLiquidityPercentage] = useDebouncedChangeHandler(\r\n        Number.parseInt(parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0)),\r\n        liquidityPercentChangeCallback\r\n    )\r\n\r\n    return (\r\n        <>\r\n            <AppBody>\r\n                <AddRemoveTabs adding={false} />\r\n                <Wrapper>\r\n                    <TransactionConfirmationModal\r\n                        isOpen={showConfirm}\r\n                        onDismiss={handleDismissConfirmation}\r\n                        attemptingTxn={attemptingTxn}\r\n                        hash={txHash ? txHash : ''}\r\n                        content={() => (\r\n                            <ConfirmationModalContent\r\n                                title={'ä½ å°†æ”¶åˆ°'}\r\n                                onDismiss={handleDismissConfirmation}\r\n                                topContent={modalHeader}\r\n                                bottomContent={modalBottom}\r\n                            />\r\n                        )}\r\n                        pendingText={pendingText}\r\n                    />\r\n                    <AutoColumn gap=\"md\">\r\n                        <LightCard>\r\n                            <AutoColumn gap=\"20px\">\r\n                                <RowBetween>\r\n                                    <Text fontWeight={500}>é‡‘é¢</Text>\r\n                                    <ClickableText\r\n                                        fontWeight={500}\r\n                                        onClick={() => {\r\n                                            setShowDetailed(!showDetailed)\r\n                                        }}\r\n                                    >\r\n                                        {showDetailed ? 'ç®€å•' : 'è¯¦ç»†'}\r\n                                    </ClickableText>\r\n                                </RowBetween>\r\n                                <Row style={{ alignItems: 'flex-end' }}>\r\n                                    <Text fontSize={72} fontWeight={500}>\r\n                                        {formattedAmounts[Field.LIQUIDITY_PERCENT]}%\r\n                                    </Text>\r\n                                </Row>\r\n                                {!showDetailed && (\r\n                                    <>\r\n                                        <Slider value={innerLiquidityPercentage} onChange={setInnerLiquidityPercentage} />\r\n                                        <RowBetween>\r\n                                            <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '25')} width=\"20%\">\r\n                                                25%\r\n                                            </MaxButton>\r\n                                            <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '50')} width=\"20%\">\r\n                                                50%\r\n                                            </MaxButton>\r\n                                            <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '75')} width=\"20%\">\r\n                                                75%\r\n                                            </MaxButton>\r\n                                            <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')} width=\"20%\">\r\n                                                Max\r\n                                            </MaxButton>\r\n                                        </RowBetween>\r\n                                    </>\r\n                                )}\r\n                            </AutoColumn>\r\n                        </LightCard>\r\n                        {!showDetailed && (\r\n                            <>\r\n                                <ColumnCenter>\r\n                                    <ArrowDown size=\"16\" color={theme.text2} />\r\n                                </ColumnCenter>\r\n                                <LightCard>\r\n                                    <AutoColumn gap=\"10px\">\r\n                                        <RowBetween>\r\n                                            <Text fontSize={24} fontWeight={500}>\r\n                                                {formattedAmounts[Field.CURRENCY_A] || '-'}\r\n                                            </Text>\r\n                                            <RowFixed>\r\n                                                <CurrencyLogo currency={currencyA} style={{ marginRight: '12px' }} />\r\n                                                <Text fontSize={24} fontWeight={500} id=\"remove-liquidity-tokena-symbol\">\r\n                                                    {currencyA?.symbol}\r\n                                                </Text>\r\n                                            </RowFixed>\r\n                                        </RowBetween>\r\n                                        <RowBetween>\r\n                                            <Text fontSize={24} fontWeight={500}>\r\n                                                {formattedAmounts[Field.CURRENCY_B] || '-'}\r\n                                            </Text>\r\n                                            <RowFixed>\r\n                                                <CurrencyLogo currency={currencyB} style={{ marginRight: '12px' }} />\r\n                                                <Text fontSize={24} fontWeight={500} id=\"remove-liquidity-tokenb-symbol\">\r\n                                                    {currencyB?.symbol}\r\n                                                </Text>\r\n                                            </RowFixed>\r\n                                        </RowBetween>\r\n                                        {chainId && (oneCurrencyIsWETH || oneCurrencyIsETH) ? (\r\n                                            <RowBetween style={{ justifyContent: 'flex-end' }}>\r\n                                                {oneCurrencyIsETH ? (\r\n                                                    <StyledInternalLink\r\n                                                        to={`/remove/${currencyA === ETHER ? WETH[chainId].address : currencyIdA}/${currencyB === ETHER ? WETH[chainId].address : currencyIdB\r\n                                                            }`}\r\n                                                    >\r\n                                                        æŽ¥æ”¶WETH\r\n                                                    </StyledInternalLink>\r\n                                                ) : oneCurrencyIsWETH ? (\r\n                                                    <StyledInternalLink\r\n                                                        to={`/remove/${currencyA && currencyEquals(currencyA, WETH[chainId]) ? 'ETH' : currencyIdA\r\n                                                            }/${currencyB && currencyEquals(currencyB, WETH[chainId]) ? 'ETH' : currencyIdB}`}\r\n                                                    >\r\n                                                        æŽ¥æ”¶WETH\r\n                                                    </StyledInternalLink>\r\n                                                ) : null}\r\n                                            </RowBetween>\r\n                                        ) : null}\r\n                                    </AutoColumn>\r\n                                </LightCard>\r\n                            </>\r\n                        )}\r\n\r\n                        {showDetailed && (\r\n                            <>\r\n                                <CurrencyInputPanel\r\n                                    value={formattedAmounts[Field.LIQUIDITY]}\r\n                                    onUserInput={onLiquidityInput}\r\n                                    onMax={() => {\r\n                                        onUserInput(Field.LIQUIDITY_PERCENT, '100')\r\n                                    }}\r\n                                    showMaxButton={!atMaxAmount}\r\n                                    disableCurrencySelect\r\n                                    currency={pair?.liquidityToken}\r\n                                    pair={pair}\r\n                                    id=\"liquidity-amount\"\r\n                                />\r\n                                <ColumnCenter>\r\n                                    <ArrowDown size=\"16\" color={theme.text2} />\r\n                                </ColumnCenter>\r\n                                <CurrencyInputPanel\r\n                                    hideBalance={true}\r\n                                    value={formattedAmounts[Field.CURRENCY_A]}\r\n                                    onUserInput={onCurrencyAInput}\r\n                                    onMax={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')}\r\n                                    showMaxButton={!atMaxAmount}\r\n                                    currency={currencyA}\r\n                                    label={'Output'}\r\n                                    onCurrencySelect={handleSelectCurrencyA}\r\n                                    id=\"remove-liquidity-tokena\"\r\n                                />\r\n                                <ColumnCenter>\r\n                                    <Plus size=\"16\" color={theme.text2} />\r\n                                </ColumnCenter>\r\n                                <CurrencyInputPanel\r\n                                    hideBalance={true}\r\n                                    value={formattedAmounts[Field.CURRENCY_B]}\r\n                                    onUserInput={onCurrencyBInput}\r\n                                    onMax={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')}\r\n                                    showMaxButton={!atMaxAmount}\r\n                                    currency={currencyB}\r\n                                    label={'Output'}\r\n                                    onCurrencySelect={handleSelectCurrencyB}\r\n                                    id=\"remove-liquidity-tokenb\"\r\n                                />\r\n                            </>\r\n                        )}\r\n                        {pair && (\r\n                            <div style={{ padding: '10px 20px' }}>\r\n                                <RowBetween>\r\n                                    ä»·æ ¼:\r\n                                    <div>\r\n                                        1 {currencyA?.symbol} = {tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-'} {currencyB?.symbol}\r\n                                    </div>\r\n                                </RowBetween>\r\n                                <RowBetween>\r\n                                    <div />\r\n                                    <div>\r\n                                        1 {currencyB?.symbol} = {tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-'} {currencyA?.symbol}\r\n                                    </div>\r\n                                </RowBetween>\r\n                            </div>\r\n                        )}\r\n                        <div style={{ position: 'relative' }}>\r\n                            {!account ? (\r\n                                <ButtonLight onClick={toggleWalletModal}>{t('connectWallet')}</ButtonLight>\r\n                            ) : (\r\n                                <RowBetween>\r\n                                    <ButtonConfirmed\r\n                                        onClick={onAttemptToApprove}\r\n                                        confirmed={approval === ApprovalState.APPROVED || signatureData !== null}\r\n                                        disabled={approval !== ApprovalState.NOT_APPROVED || signatureData !== null}\r\n                                        mr=\"0.5rem\"\r\n                                        fontWeight={500}\r\n                                        fontSize={16}\r\n                                    >\r\n                                        {approval === ApprovalState.PENDING ? (\r\n                                            <Dots>æ‰¹å‡†ä¸­</Dots>\r\n                                        ) : approval === ApprovalState.APPROVED || signatureData !== null ? (\r\n                                            'å·²æ‰¹å‡†'\r\n                                        ) : (\r\n                                            'æ‰¹å‡†'\r\n                                        )}\r\n                                    </ButtonConfirmed>\r\n                                    <ButtonError\r\n                                        onClick={() => {\r\n                                            setShowConfirm(true)\r\n                                        }}\r\n                                        disabled={!isValid || (signatureData === null && approval !== ApprovalState.APPROVED)}\r\n                                        error={!isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B]}\r\n                                    >\r\n                                        <Text fontSize={16} fontWeight={500}>\r\n                                            {error || 'ç§»é™¤'}\r\n                                        </Text>\r\n                                    </ButtonError>\r\n                                </RowBetween>\r\n                            )}\r\n                        </div>\r\n                    </AutoColumn>\r\n                </Wrapper>\r\n            </AppBody>\r\n\r\n            {pair ? (\r\n                <AutoColumn style={{ minWidth: '20rem', marginTop: '1rem' }}>\r\n                    <MinimalPositionCard showUnwrapped={oneCurrencyIsWETH} pair={pair} />\r\n                </AutoColumn>\r\n            ) : null}\r\n        </>\r\n    )\r\n}\r\n","import { useCallback, useEffect, useRef, useState } from 'react'\r\n\r\n/**\r\n * Easy way to debounce the handling of a rapidly changing value, e.g. a changing slider input\r\n * @param value value that is rapidly changing\r\n * @param onChange change handler that should receive the debounced updates to the value\r\n * @param debouncedMs how long we should wait for changes to be applied\r\n */\r\nexport default function useDebouncedChangeHandler<T>(\r\n  value: T,\r\n  onChange: (newValue: T) => void,\r\n  debouncedMs = 100\r\n): [T, (value: T) => void] {\r\n  const [inner, setInner] = useState<T>(() => value)\r\n  const timer = useRef<ReturnType<typeof setTimeout>>()\r\n\r\n  const onChangeInner = useCallback(\r\n    (newValue: T) => {\r\n      setInner(newValue)\r\n      if (timer.current) {\r\n        clearTimeout(timer.current)\r\n      }\r\n      timer.current = setTimeout(() => {\r\n        onChange(newValue)\r\n        timer.current = undefined\r\n      }, debouncedMs)\r\n    },\r\n    [debouncedMs, onChange]\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (timer.current) {\r\n      clearTimeout(timer.current)\r\n      timer.current = undefined\r\n    }\r\n    setInner(value)\r\n  }, [value])\r\n\r\n  return [inner, onChangeInner]\r\n}\r\n","import React from 'react'\r\nimport { RouteComponentProps, Redirect } from 'react-router-dom'\r\n\r\nconst OLD_PATH_STRUCTURE = /^(0x[a-fA-F0-9]{40})-(0x[a-fA-F0-9]{40})$/\r\n\r\nexport function RedirectOldRemoveLiquidityPathStructure({\r\n  match: {\r\n    params: { tokens }\r\n  }\r\n}: RouteComponentProps<{ tokens: string }>) {\r\n  if (!OLD_PATH_STRUCTURE.test(tokens)) {\r\n    return <Redirect to=\"/pool\" />\r\n  }\r\n  const [currency0, currency1] = tokens.split('-')\r\n\r\n  return <Redirect to={`/remove/${currency0}/${currency1}`} />\r\n}\r\n","import React, { useContext, useCallback } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport useENS from '../../hooks/useENS'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { ExternalLink, TYPE } from '../../theme'\r\nimport { AutoColumn } from '../Column'\r\nimport { RowBetween } from '../Row'\r\nimport { getEtherscanLink } from '../../utils'\r\n\r\nconst InputPanel = styled.div`\r\n  ${({ theme }) => theme.flexColumnNoWrap}\r\n  position: relative;\r\n  border-radius: 1.25rem;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  z-index: 1;\r\n  width: 100%;\r\n`\r\n\r\nconst ContainerRow = styled.div<{ error: boolean }>`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 1.25rem;\r\n  border: 1px solid ${({ error, theme }) => (error ? theme.red1 : theme.bg2)};\r\n  transition: border-color 300ms ${({ error }) => (error ? 'step-end' : 'step-start')},\r\n    color 500ms ${({ error }) => (error ? 'step-end' : 'step-start')};\r\n  background-color: ${({ theme }) => theme.bg1};\r\n`\r\n\r\nconst InputContainer = styled.div`\r\n  flex: 1;\r\n  padding: 1rem;\r\n`\r\n\r\nconst Input = styled.input<{ error?: boolean }>`\r\n  font-size: 1.25rem;\r\n  outline: none;\r\n  border: none;\r\n  flex: 1 1 auto;\r\n  width: 0;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  transition: color 300ms ${({ error }) => (error ? 'step-end' : 'step-start')};\r\n  color: ${({ error, theme }) => (error ? theme.red1 : theme.primary1)};\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  font-weight: 500;\r\n  width: 100%;\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text4};\r\n  }\r\n  padding: 0px;\r\n  -webkit-appearance: textfield;\r\n\r\n  ::-webkit-search-decoration {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  ::-webkit-outer-spin-button,\r\n  ::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text4};\r\n  }\r\n`\r\n\r\nexport default function AddressInputPanel({\r\n  id,\r\n  value,\r\n  onChange\r\n}: {\r\n  id?: string\r\n  // the typed string value\r\n  value: string\r\n  // triggers whenever the typed value changes\r\n  onChange: (value: string) => void\r\n}) {\r\n  const { chainId } = useActiveWeb3React()\r\n  const theme = useContext(ThemeContext)\r\n\r\n  const { address, loading, name } = useENS(value)\r\n\r\n  const handleInput = useCallback(\r\n    event => {\r\n      const input = event.target.value\r\n      const withoutSpaces = input.replace(/\\s+/g, '')\r\n      onChange(withoutSpaces)\r\n    },\r\n    [onChange]\r\n  )\r\n\r\n  const error = Boolean(value.length > 0 && !loading && !address)\r\n\r\n  return (\r\n    <InputPanel id={id}>\r\n      <ContainerRow error={error}>\r\n        <InputContainer>\r\n          <AutoColumn gap=\"md\">\r\n            <RowBetween>\r\n              <TYPE.black color={theme.text2} fontWeight={500} fontSize={14}>\r\n                Recipient\r\n              </TYPE.black>\r\n              {address && chainId && (\r\n                <ExternalLink href={getEtherscanLink(chainId, name ?? address, 'address')} style={{ fontSize: '14px' }}>\r\n                  (æŸ¥çœ‹Bscscan)\r\n                </ExternalLink>\r\n              )}\r\n            </RowBetween>\r\n            <Input\r\n              className=\"recipient-address-input\"\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoCorrect=\"off\"\r\n              autoCapitalize=\"off\"\r\n              spellCheck=\"false\"\r\n              placeholder=\"Wallet Address or ENS name\"\r\n              error={error}\r\n              pattern=\"^(0x[a-fA-F0-9]{40})$\"\r\n              onChange={handleInput}\r\n              value={value}\r\n            />\r\n          </AutoColumn>\r\n        </InputContainer>\r\n      </ContainerRow>\r\n    </InputPanel>\r\n  )\r\n}\r\n","import { Percent } from '@tianheng2017/dex-sdk'\r\nimport React from 'react'\r\nimport { ONE_BIPS } from '../../constants'\r\nimport { warningSeverity } from '../../utils/prices'\r\nimport { ErrorText } from './styleds'\r\n\r\n/**\r\n * Formatted version of price impact text with warning colors\r\n */\r\nexport default function FormattedPriceImpact({ priceImpact }: { priceImpact?: Percent }) {\r\n  return (\r\n    <ErrorText fontWeight={500} fontSize={14} severity={warningSeverity(priceImpact)}>\r\n      {priceImpact ? (priceImpact.lessThan(ONE_BIPS) ? '<0.01%' : `${priceImpact.toFixed(2)}%`) : '-'}\r\n    </ErrorText>\r\n  )\r\n}\r\n","import { Trade, TradeType } from '@tianheng2017/dex-sdk'\r\nimport React, { useContext, useMemo, useState } from 'react'\r\nimport { Repeat } from 'react-feather'\r\nimport { Text } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { Field } from '../../state/swap/actions'\r\nimport { TYPE } from '../../theme'\r\nimport {\r\n  computeSlippageAdjustedAmounts,\r\n  computeTradePriceBreakdown,\r\n  formatExecutionPrice,\r\n  warningSeverity\r\n} from '../../utils/prices'\r\nimport { ButtonError } from '../Button'\r\nimport { AutoColumn } from '../Column'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport { AutoRow, RowBetween, RowFixed } from '../Row'\r\nimport FormattedPriceImpact from './FormattedPriceImpact'\r\nimport { StyledBalanceMaxMini, SwapCallbackError } from './styleds'\r\n\r\nexport default function SwapModalFooter({\r\n  trade,\r\n  onConfirm,\r\n  allowedSlippage,\r\n  swapErrorMessage,\r\n  disabledConfirm\r\n}: {\r\n  trade: Trade\r\n  allowedSlippage: number\r\n  onConfirm: () => void\r\n  swapErrorMessage: string | undefined\r\n  disabledConfirm: boolean\r\n}) {\r\n  const [showInverted, setShowInverted] = useState<boolean>(false)\r\n  const theme = useContext(ThemeContext)\r\n  const slippageAdjustedAmounts = useMemo(() => computeSlippageAdjustedAmounts(trade, allowedSlippage), [\r\n    allowedSlippage,\r\n    trade\r\n  ])\r\n  const { priceImpactWithoutFee, realizedLPFee } = useMemo(() => computeTradePriceBreakdown(trade), [trade])\r\n  const severity = warningSeverity(priceImpactWithoutFee)\r\n\r\n  return (\r\n    <>\r\n      <AutoColumn gap=\"0px\">\r\n        <RowBetween align=\"center\">\r\n          <Text fontWeight={400} fontSize={14} color={theme.text2}>\r\n            Price\r\n          </Text>\r\n          <Text\r\n            fontWeight={500}\r\n            fontSize={14}\r\n            color={theme.text1}\r\n            style={{\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              display: 'flex',\r\n              textAlign: 'right',\r\n              paddingLeft: '10px'\r\n            }}\r\n          >\r\n            {formatExecutionPrice(trade, showInverted)}\r\n            <StyledBalanceMaxMini onClick={() => setShowInverted(!showInverted)}>\r\n              <Repeat size={14} />\r\n            </StyledBalanceMaxMini>\r\n          </Text>\r\n        </RowBetween>\r\n\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n              {trade.tradeType === TradeType.EXACT_INPUT ? 'Minimum received' : 'Maximum sold'}\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"Your transaction will revert if there is a large, unfavorable price movement before it is confirmed.\" />\r\n          </RowFixed>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14}>\r\n              {trade.tradeType === TradeType.EXACT_INPUT\r\n                ? slippageAdjustedAmounts[Field.OUTPUT]?.toSignificant(4) ?? '-'\r\n                : slippageAdjustedAmounts[Field.INPUT]?.toSignificant(4) ?? '-'}\r\n            </TYPE.black>\r\n            <TYPE.black fontSize={14} marginLeft={'4px'}>\r\n              {trade.tradeType === TradeType.EXACT_INPUT\r\n                ? trade.outputAmount.currency.symbol\r\n                : trade.inputAmount.currency.symbol}\r\n            </TYPE.black>\r\n          </RowFixed>\r\n        </RowBetween>\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black color={theme.text2} fontSize={14} fontWeight={400}>\r\n              Price Impact\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"The difference between the market price and your price due to trade size.\" />\r\n          </RowFixed>\r\n          <FormattedPriceImpact priceImpact={priceImpactWithoutFee} />\r\n        </RowBetween>\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n              Liquidity Provider Fee\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"A portion of each trade (0.30%) goes to liquidity providers as a protocol incentive.\" />\r\n          </RowFixed>\r\n          <TYPE.black fontSize={14}>\r\n            {realizedLPFee ? realizedLPFee?.toSignificant(6) + ' ' + trade.inputAmount.currency.symbol : '-'}\r\n          </TYPE.black>\r\n        </RowBetween>\r\n      </AutoColumn>\r\n\r\n      <AutoRow>\r\n        <ButtonError\r\n          onClick={onConfirm}\r\n          disabled={disabledConfirm}\r\n          error={severity > 2}\r\n          style={{ margin: '10px 0 0 0' }}\r\n          id=\"confirm-swap-or-send\"\r\n        >\r\n          <Text fontSize={20} fontWeight={500}>\r\n            {severity > 2 ? 'Swap Anyway' : 'Confirm Swap'}\r\n          </Text>\r\n        </ButtonError>\r\n\r\n        {swapErrorMessage ? <SwapCallbackError error={swapErrorMessage} /> : null}\r\n      </AutoRow>\r\n    </>\r\n  )\r\n}\r\n","import { Trade, TradeType } from '@tianheng2017/dex-sdk'\r\nimport React, { useContext, useMemo } from 'react'\r\nimport { ArrowDown, AlertTriangle } from 'react-feather'\r\nimport { Text } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { Field } from '../../state/swap/actions'\r\nimport { TYPE } from '../../theme'\r\nimport { ButtonPrimary } from '../Button'\r\nimport { isAddress, shortenAddress } from '../../utils'\r\nimport { computeSlippageAdjustedAmounts, computeTradePriceBreakdown, warningSeverity } from '../../utils/prices'\r\nimport { AutoColumn } from '../Column'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\nimport { RowBetween, RowFixed } from '../Row'\r\nimport { TruncatedText, SwapShowAcceptChanges } from './styleds'\r\n\r\nexport default function SwapModalHeader({\r\n  trade,\r\n  allowedSlippage,\r\n  recipient,\r\n  showAcceptChanges,\r\n  onAcceptChanges\r\n}: {\r\n  trade: Trade\r\n  allowedSlippage: number\r\n  recipient: string | null\r\n  showAcceptChanges: boolean\r\n  onAcceptChanges: () => void\r\n}) {\r\n  const slippageAdjustedAmounts = useMemo(() => computeSlippageAdjustedAmounts(trade, allowedSlippage), [\r\n    trade,\r\n    allowedSlippage\r\n  ])\r\n  const { priceImpactWithoutFee } = useMemo(() => computeTradePriceBreakdown(trade), [trade])\r\n  const priceImpactSeverity = warningSeverity(priceImpactWithoutFee)\r\n\r\n  const theme = useContext(ThemeContext)\r\n\r\n  return (\r\n    <AutoColumn gap={'md'} style={{ marginTop: '20px' }}>\r\n      <RowBetween align=\"flex-end\">\r\n        <RowFixed gap={'0px'}>\r\n          <CurrencyLogo currency={trade.inputAmount.currency} size={'24px'} style={{ marginRight: '12px' }} />\r\n          <TruncatedText\r\n            fontSize={24}\r\n            fontWeight={500}\r\n            color={showAcceptChanges && trade.tradeType === TradeType.EXACT_OUTPUT ? theme.primary1 : ''}\r\n          >\r\n            {trade.inputAmount.toSignificant(6)}\r\n          </TruncatedText>\r\n        </RowFixed>\r\n        <RowFixed gap={'0px'}>\r\n          <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\r\n            {trade.inputAmount.currency.symbol}\r\n          </Text>\r\n        </RowFixed>\r\n      </RowBetween>\r\n      <RowFixed>\r\n        <ArrowDown size=\"16\" color={theme.text2} style={{ marginLeft: '4px', minWidth: '16px' }} />\r\n      </RowFixed>\r\n      <RowBetween align=\"flex-end\">\r\n        <RowFixed gap={'0px'}>\r\n          <CurrencyLogo currency={trade.outputAmount.currency} size={'24px'} style={{ marginRight: '12px' }} />\r\n          <TruncatedText\r\n            fontSize={24}\r\n            fontWeight={500}\r\n            color={\r\n              priceImpactSeverity > 2\r\n                ? theme.red1\r\n                : showAcceptChanges && trade.tradeType === TradeType.EXACT_INPUT\r\n                ? theme.primary1\r\n                : ''\r\n            }\r\n          >\r\n            {trade.outputAmount.toSignificant(6)}\r\n          </TruncatedText>\r\n        </RowFixed>\r\n        <RowFixed gap={'0px'}>\r\n          <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\r\n            {trade.outputAmount.currency.symbol}\r\n          </Text>\r\n        </RowFixed>\r\n      </RowBetween>\r\n      {showAcceptChanges ? (\r\n        <SwapShowAcceptChanges justify=\"flex-start\" gap={'0px'}>\r\n          <RowBetween>\r\n            <RowFixed>\r\n              <AlertTriangle size={20} style={{ marginRight: '8px', minWidth: 24 }} />\r\n              <TYPE.main color={theme.primary1}> Price Updated</TYPE.main>\r\n            </RowFixed>\r\n            <ButtonPrimary\r\n              style={{ padding: '.5rem', width: 'fit-content', fontSize: '0.825rem', borderRadius: '12px' }}\r\n              onClick={onAcceptChanges}\r\n            >\r\n              Accept\r\n            </ButtonPrimary>\r\n          </RowBetween>\r\n        </SwapShowAcceptChanges>\r\n      ) : null}\r\n      <AutoColumn justify=\"flex-start\" gap=\"sm\" style={{ padding: '12px 0 0 0px' }}>\r\n        {trade.tradeType === TradeType.EXACT_INPUT ? (\r\n          <TYPE.italic textAlign=\"left\" style={{ width: '100%' }}>\r\n            {`Output is estimated. You will receive at least `}\r\n            <b>\r\n              {slippageAdjustedAmounts[Field.OUTPUT]?.toSignificant(6)} {trade.outputAmount.currency.symbol}\r\n            </b>\r\n            {' or the transaction will revert.'}\r\n          </TYPE.italic>\r\n        ) : (\r\n          <TYPE.italic textAlign=\"left\" style={{ width: '100%' }}>\r\n            {`Input is estimated. You will sell at most `}\r\n            <b>\r\n              {slippageAdjustedAmounts[Field.INPUT]?.toSignificant(6)} {trade.inputAmount.currency.symbol}\r\n            </b>\r\n            {' or the transaction will revert.'}\r\n          </TYPE.italic>\r\n        )}\r\n      </AutoColumn>\r\n      {recipient !== null ? (\r\n        <AutoColumn justify=\"flex-start\" gap=\"sm\" style={{ padding: '12px 0 0 0px' }}>\r\n          <TYPE.main>\r\n            Output will be sent to{' '}\r\n            <b title={recipient}>{isAddress(recipient) ? shortenAddress(recipient) : recipient}</b>\r\n          </TYPE.main>\r\n        </AutoColumn>\r\n      ) : null}\r\n    </AutoColumn>\r\n  )\r\n}\r\n","import { currencyEquals, Trade } from '@tianheng2017/dex-sdk'\r\nimport React, { useCallback, useMemo } from 'react'\r\nimport TransactionConfirmationModal, {\r\n  ConfirmationModalContent,\r\n  TransactionErrorContent\r\n} from '../TransactionConfirmationModal'\r\nimport SwapModalFooter from './SwapModalFooter'\r\nimport SwapModalHeader from './SwapModalHeader'\r\n\r\n/**\r\n * Returns true if the trade requires a confirmation of details before we can submit it\r\n * @param tradeA trade A\r\n * @param tradeB trade B\r\n */\r\nfunction tradeMeaningfullyDiffers(tradeA: Trade, tradeB: Trade): boolean {\r\n  return (\r\n    tradeA.tradeType !== tradeB.tradeType ||\r\n    !currencyEquals(tradeA.inputAmount.currency, tradeB.inputAmount.currency) ||\r\n    !tradeA.inputAmount.equalTo(tradeB.inputAmount) ||\r\n    !currencyEquals(tradeA.outputAmount.currency, tradeB.outputAmount.currency) ||\r\n    !tradeA.outputAmount.equalTo(tradeB.outputAmount)\r\n  )\r\n}\r\n\r\nexport default function ConfirmSwapModal({\r\n  trade,\r\n  originalTrade,\r\n  onAcceptChanges,\r\n  allowedSlippage,\r\n  onConfirm,\r\n  onDismiss,\r\n  recipient,\r\n  swapErrorMessage,\r\n  isOpen,\r\n  attemptingTxn,\r\n  txHash\r\n}: {\r\n  isOpen: boolean\r\n  trade: Trade | undefined\r\n  originalTrade: Trade | undefined\r\n  attemptingTxn: boolean\r\n  txHash: string | undefined\r\n  recipient: string | null\r\n  allowedSlippage: number\r\n  onAcceptChanges: () => void\r\n  onConfirm: () => void\r\n  swapErrorMessage: string | undefined\r\n  onDismiss: () => void\r\n}) {\r\n  const showAcceptChanges = useMemo(\r\n    () => Boolean(trade && originalTrade && tradeMeaningfullyDiffers(trade, originalTrade)),\r\n    [originalTrade, trade]\r\n  )\r\n\r\n  const modalHeader = useCallback(() => {\r\n    return trade ? (\r\n      <SwapModalHeader\r\n        trade={trade}\r\n        allowedSlippage={allowedSlippage}\r\n        recipient={recipient}\r\n        showAcceptChanges={showAcceptChanges}\r\n        onAcceptChanges={onAcceptChanges}\r\n      />\r\n    ) : null\r\n  }, [allowedSlippage, onAcceptChanges, recipient, showAcceptChanges, trade])\r\n\r\n  const modalBottom = useCallback(() => {\r\n    return trade ? (\r\n      <SwapModalFooter\r\n        onConfirm={onConfirm}\r\n        trade={trade}\r\n        disabledConfirm={showAcceptChanges}\r\n        swapErrorMessage={swapErrorMessage}\r\n        allowedSlippage={allowedSlippage}\r\n      />\r\n    ) : null\r\n  }, [allowedSlippage, onConfirm, showAcceptChanges, swapErrorMessage, trade])\r\n\r\n  // text to show while loading\r\n  const pendingText = `Swapping ${trade?.inputAmount?.toSignificant(6)} ${\r\n    trade?.inputAmount?.currency?.symbol\r\n  } for ${trade?.outputAmount?.toSignificant(6)} ${trade?.outputAmount?.currency?.symbol}`\r\n\r\n  const confirmationContent = useCallback(\r\n    () =>\r\n      swapErrorMessage ? (\r\n        <TransactionErrorContent onDismiss={onDismiss} message={swapErrorMessage} />\r\n      ) : (\r\n        <ConfirmationModalContent\r\n          title=\"Confirm Swap\"\r\n          onDismiss={onDismiss}\r\n          topContent={modalHeader}\r\n          bottomContent={modalBottom}\r\n        />\r\n      ),\r\n    [onDismiss, modalBottom, modalHeader, swapErrorMessage]\r\n  )\r\n\r\n  return (\r\n    <TransactionConfirmationModal\r\n      isOpen={isOpen}\r\n      onDismiss={onDismiss}\r\n      attemptingTxn={attemptingTxn}\r\n      hash={txHash}\r\n      content={confirmationContent}\r\n      pendingText={pendingText}\r\n    />\r\n  )\r\n}\r\n","import { Trade } from '@tianheng2017/dex-sdk'\r\nimport React, { Fragment, memo, useContext } from 'react'\r\nimport { ChevronRight } from 'react-feather'\r\nimport { Flex } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { TYPE } from '../../theme'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\n\r\nexport default memo(function SwapRoute({ trade }: { trade: Trade }) {\r\n  const theme = useContext(ThemeContext)\r\n  return (\r\n    <Flex\r\n      px=\"1rem\"\r\n      py=\"0.5rem\"\r\n      my=\"0.5rem\"\r\n      style={{ border: `1px solid ${theme.bg3}`, borderRadius: '1rem' }}\r\n      flexWrap=\"wrap\"\r\n      width=\"100%\"\r\n      justifyContent=\"space-evenly\"\r\n      alignItems=\"center\"\r\n    >\r\n      {trade.route.path.map((token, i, path) => {\r\n        const isLastItem: boolean = i === path.length - 1\r\n        return (\r\n          <Fragment key={i}>\r\n            <Flex my=\"0.5rem\" alignItems=\"center\" style={{ flexShrink: 0 }}>\r\n              <CurrencyLogo currency={token} size=\"1.5rem\" />\r\n              <TYPE.black fontSize={14} color={theme.text1} ml=\"0.5rem\">\r\n                {token.symbol}\r\n              </TYPE.black>\r\n            </Flex>\r\n            {isLastItem ? null : <ChevronRight color={theme.text2} />}\r\n          </Fragment>\r\n        )\r\n      })}\r\n    </Flex>\r\n  )\r\n})\r\n","import { Trade, TradeType } from '@tianheng2017/dex-sdk'\r\nimport React, { useContext } from 'react'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { Field } from '../../state/swap/actions'\r\nimport { useUserSlippageTolerance } from '../../state/user/hooks'\r\nimport { TYPE } from '../../theme'\r\nimport { computeSlippageAdjustedAmounts, computeTradePriceBreakdown } from '../../utils/prices'\r\nimport { AutoColumn } from '../Column'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport { RowBetween, RowFixed } from '../Row'\r\nimport FormattedPriceImpact from './FormattedPriceImpact'\r\nimport { SectionBreak } from './styleds'\r\nimport SwapRoute from './SwapRoute'\r\n\r\nfunction TradeSummary({ trade, allowedSlippage }: { trade: Trade; allowedSlippage: number }) {\r\n  const theme = useContext(ThemeContext)\r\n  const { priceImpactWithoutFee, realizedLPFee } = computeTradePriceBreakdown(trade)\r\n  const isExactIn = trade.tradeType === TradeType.EXACT_INPUT\r\n  const slippageAdjustedAmounts = computeSlippageAdjustedAmounts(trade, allowedSlippage)\r\n\r\n  return (\r\n    <>\r\n      <AutoColumn style={{ padding: '0 20px' }}>\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n              {isExactIn ? 'Minimum received' : 'Maximum sold'}\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"Your transaction will revert if there is a large, unfavorable price movement before it is confirmed.\" />\r\n          </RowFixed>\r\n          <RowFixed>\r\n            <TYPE.black color={theme.text1} fontSize={14}>\r\n              {isExactIn\r\n                ? `${slippageAdjustedAmounts[Field.OUTPUT]?.toSignificant(4)} ${trade.outputAmount.currency.symbol}` ??\r\n                  '-'\r\n                : `${slippageAdjustedAmounts[Field.INPUT]?.toSignificant(4)} ${trade.inputAmount.currency.symbol}` ??\r\n                  '-'}\r\n            </TYPE.black>\r\n          </RowFixed>\r\n        </RowBetween>\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n              Price Impact\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"The difference between the market price and estimated price due to trade size.\" />\r\n          </RowFixed>\r\n          <FormattedPriceImpact priceImpact={priceImpactWithoutFee} />\r\n        </RowBetween>\r\n\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n              Liquidity Provider Fee\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"A portion of each trade (0.30%) goes to liquidity providers as a protocol incentive.\" />\r\n          </RowFixed>\r\n          <TYPE.black fontSize={14} color={theme.text1}>\r\n            {realizedLPFee ? `${realizedLPFee.toSignificant(4)} ${trade.inputAmount.currency.symbol}` : '-'}\r\n          </TYPE.black>\r\n        </RowBetween>\r\n      </AutoColumn>\r\n    </>\r\n  )\r\n}\r\n\r\nexport interface AdvancedSwapDetailsProps {\r\n  trade?: Trade\r\n}\r\n\r\nexport function AdvancedSwapDetails({ trade }: AdvancedSwapDetailsProps) {\r\n  const theme = useContext(ThemeContext)\r\n\r\n  const [allowedSlippage] = useUserSlippageTolerance()\r\n\r\n  const showRoute = Boolean(trade && trade.route.path.length > 2)\r\n\r\n  return (\r\n    <AutoColumn gap=\"md\">\r\n      {trade && (\r\n        <>\r\n          <TradeSummary trade={trade} allowedSlippage={allowedSlippage} />\r\n          {showRoute && (\r\n            <>\r\n              <SectionBreak />\r\n              <AutoColumn style={{ padding: '0 24px' }}>\r\n                <RowFixed>\r\n                  <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n                    Route\r\n                  </TYPE.black>\r\n                  <QuestionHelper text=\"Routing through these tokens resulted in the best price for your trade.\" />\r\n                </RowFixed>\r\n                <SwapRoute trade={trade} />\r\n              </AutoColumn>\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </AutoColumn>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { useLastTruthy } from '../../hooks/useLast'\r\nimport { AdvancedSwapDetails, AdvancedSwapDetailsProps } from './AdvancedSwapDetails'\r\n\r\nconst AdvancedDetailsFooter = styled.div<{ show: boolean }>`\r\n  padding-top: calc(16px + 2rem);\r\n  padding-bottom: 20px;\r\n  margin-top: -2rem;\r\n  width: 100%;\r\n  max-width: 400px;\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n  color: ${({ theme }) => theme.text2};\r\n  background-color: ${({ theme }) => theme.advancedBG};\r\n  z-index: -1;\r\n\r\n  transform: ${({ show }) => (show ? 'translateY(0%)' : 'translateY(-100%)')};\r\n  transition: transform 300ms ease-in-out;\r\n`\r\n\r\nexport default function AdvancedSwapDetailsDropdown({ trade, ...rest }: AdvancedSwapDetailsProps) {\r\n  const lastTrade = useLastTruthy(trade)\r\n\r\n  return (\r\n    <AdvancedDetailsFooter show={Boolean(trade)}>\r\n      <AdvancedSwapDetails {...rest} trade={trade ?? lastTrade ?? undefined} />\r\n    </AdvancedDetailsFooter>\r\n  )\r\n}\r\n","import { stringify } from 'qs'\r\nimport React, { useContext, useMemo } from 'react'\r\nimport { useLocation } from 'react-router'\r\nimport { Text } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport useParsedQueryString from '../../hooks/useParsedQueryString'\r\nimport { DEFAULT_VERSION, Version } from '../../hooks/useToggledVersion'\r\n\r\nimport { StyledInternalLink } from '../../theme'\r\nimport { YellowCard } from '../Card'\r\nimport { AutoColumn } from '../Column'\r\n\r\nexport default function BetterTradeLink({ version }: { version: Version }) {\r\n  const theme = useContext(ThemeContext)\r\n  const location = useLocation()\r\n  const search = useParsedQueryString()\r\n\r\n  const linkDestination = useMemo(() => {\r\n    return {\r\n      ...location,\r\n      search: `?${stringify({\r\n        ...search,\r\n        use: version !== DEFAULT_VERSION ? version : undefined\r\n      })}`\r\n    }\r\n  }, [location, search, version])\r\n\r\n  return (\r\n    <YellowCard style={{ marginTop: '12px', padding: '8px 4px' }}>\r\n      <AutoColumn gap=\"sm\" justify=\"center\" style={{ alignItems: 'center', textAlign: 'center' }}>\r\n        <Text lineHeight=\"145.23%;\" fontSize={14} fontWeight={400} color={theme.text1}>\r\n          There is a better price for this trade on{' '}\r\n          <StyledInternalLink to={linkDestination}>\r\n            <b>Uniswap {version.toUpperCase()} â†—</b>\r\n          </StyledInternalLink>\r\n        </Text>\r\n      </AutoColumn>\r\n    </YellowCard>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Price } from '@tianheng2017/dex-sdk'\r\nimport { useContext } from 'react'\r\nimport { Repeat } from 'react-feather'\r\nimport { Text } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { StyledBalanceMaxMini } from './styleds'\r\n\r\ninterface TradePriceProps {\r\n  price?: Price\r\n  showInverted: boolean\r\n  setShowInverted: (showInverted: boolean) => void\r\n}\r\n\r\nexport default function TradePrice({ price, showInverted, setShowInverted }: TradePriceProps) {\r\n  const theme = useContext(ThemeContext)\r\n\r\n  const formattedPrice = showInverted ? price?.toSignificant(6) : price?.invert()?.toSignificant(6)\r\n\r\n  const show = Boolean(price?.baseCurrency && price?.quoteCurrency)\r\n  const label = showInverted\r\n    ? `${price?.quoteCurrency?.symbol} per ${price?.baseCurrency?.symbol}`\r\n    : `${price?.baseCurrency?.symbol} per ${price?.quoteCurrency?.symbol}`\r\n\r\n  return (\r\n    <Text\r\n      fontWeight={500}\r\n      fontSize={14}\r\n      color={theme.text2}\r\n      style={{ justifyContent: 'center', alignItems: 'center', display: 'flex' }}\r\n    >\r\n      {show ? (\r\n        <>\r\n          {formattedPrice ?? '-'} {label}\r\n          <StyledBalanceMaxMini onClick={() => setShowInverted(!showInverted)}>\r\n            <Repeat size={14} />\r\n          </StyledBalanceMaxMini>\r\n        </>\r\n      ) : (\r\n        '-'\r\n      )}\r\n    </Text>\r\n  )\r\n}\r\n","import { Token } from '@tianheng2017/dex-sdk'\r\nimport { transparentize } from 'polished'\r\nimport React, { useCallback, useMemo, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useAllTokens } from '../../hooks/Tokens'\r\nimport { ExternalLink, TYPE } from '../../theme'\r\nimport { getEtherscanLink, shortenAddress } from '../../utils'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\nimport Modal from '../Modal'\r\nimport { AutoRow, RowBetween } from '../Row'\r\nimport { AutoColumn } from '../Column'\r\nimport { AlertTriangle } from 'react-feather'\r\nimport { ButtonError } from '../Button'\r\n\r\nconst Wrapper = styled.div<{ error: boolean }>`\r\n  background: ${({ theme }) => transparentize(0.6, theme.bg3)};\r\n  padding: 0.75rem;\r\n  border-radius: 20px;\r\n`\r\n\r\nconst WarningContainer = styled.div`\r\n  max-width: 420px;\r\n  width: 100%;\r\n  padding: 1rem;\r\n  background: rgba(242, 150, 2, 0.05);\r\n  border: 1px solid #f3841e;\r\n  border-radius: 20px;\r\n  overflow: auto;\r\n`\r\n\r\nconst StyledWarningIcon = styled(AlertTriangle)`\r\n  stroke: ${({ theme }) => theme.red2};\r\n`\r\n\r\ninterface TokenWarningCardProps {\r\n  token?: Token\r\n}\r\n\r\nfunction TokenWarningCard({ token }: TokenWarningCardProps) {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const tokenSymbol = token?.symbol?.toLowerCase() ?? ''\r\n  const tokenName = token?.name?.toLowerCase() ?? ''\r\n\r\n  const allTokens = useAllTokens()\r\n\r\n  const duplicateNameOrSymbol = useMemo(() => {\r\n    if (!token || !chainId) return false\r\n\r\n    return Object.keys(allTokens).some(tokenAddress => {\r\n      const userToken = allTokens[tokenAddress]\r\n      if (userToken.equals(token)) {\r\n        return false\r\n      }\r\n      return userToken.symbol?.toLowerCase() === tokenSymbol || userToken.name?.toLowerCase() === tokenName\r\n    })\r\n  }, [token, chainId, allTokens, tokenSymbol, tokenName])\r\n\r\n  if (!token) return null\r\n\r\n  return (\r\n    <Wrapper error={duplicateNameOrSymbol}>\r\n      <AutoRow gap=\"6px\">\r\n        <AutoColumn gap=\"24px\">\r\n          <CurrencyLogo currency={token} size={'16px'} />\r\n          <div> </div>\r\n        </AutoColumn>\r\n        <AutoColumn gap=\"10px\" justify=\"flex-start\">\r\n          <TYPE.main>\r\n            {token && token.name && token.symbol && token.name !== token.symbol\r\n              ? `${token.name} (${token.symbol})`\r\n              : token.name || token.symbol}{' '}\r\n          </TYPE.main>\r\n          {chainId && (\r\n            <ExternalLink style={{ fontWeight: 400 }} href={getEtherscanLink(chainId, token.address, 'token')}>\r\n                          <TYPE.blue title={token.address}>{shortenAddress(token.address)} (æŸ¥çœ‹Bscscan)</TYPE.blue>\r\n            </ExternalLink>\r\n          )}\r\n        </AutoColumn>\r\n      </AutoRow>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default function TokenWarningModal({\r\n  isOpen,\r\n  tokens,\r\n  onConfirm\r\n}: {\r\n  isOpen: boolean\r\n  tokens: Token[]\r\n  onConfirm: () => void\r\n}) {\r\n  const [understandChecked, setUnderstandChecked] = useState(false)\r\n  const toggleUnderstand = useCallback(() => setUnderstandChecked(uc => !uc), [])\r\n\r\n  const handleDismiss = useCallback(() => null, [])\r\n  return (\r\n    <Modal isOpen={isOpen} onDismiss={handleDismiss} maxHeight={90}>\r\n      <WarningContainer className=\"token-warning-container\">\r\n        <AutoColumn gap=\"lg\">\r\n          <AutoRow gap=\"6px\">\r\n            <StyledWarningIcon />\r\n            <TYPE.main color={'red2'}>Token imported</TYPE.main>\r\n          </AutoRow>\r\n          <TYPE.body color={'red2'}>\r\n            Anyone can create an ERC20 token on Ethereum with <em>any</em> name, including creating fake versions of\r\n            existing tokens and tokens that claim to represent projects that do not have a token.\r\n          </TYPE.body>\r\n          <TYPE.body color={'red2'}>\r\n            This interface can load arbitrary tokens by token addresses. Please take extra caution and do your research\r\n            when interacting with arbitrary ERC20 tokens.\r\n          </TYPE.body>\r\n          <TYPE.body color={'red2'}>\r\n            If you purchase an arbitrary token, <strong>you may be unable to sell it back.</strong>\r\n          </TYPE.body>\r\n          {tokens.map(token => {\r\n            return <TokenWarningCard key={token.address} token={token} />\r\n          })}\r\n          <RowBetween>\r\n            <div>\r\n              <label style={{ cursor: 'pointer', userSelect: 'none' }}>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"understand-checkbox\"\r\n                  checked={understandChecked}\r\n                  onChange={toggleUnderstand}\r\n                />{' '}\r\n                I understand\r\n              </label>\r\n            </div>\r\n            <ButtonError\r\n              disabled={!understandChecked}\r\n              error={true}\r\n              width={'140px'}\r\n              padding=\"0.5rem 1rem\"\r\n              className=\"token-dismiss-button\"\r\n              style={{\r\n                borderRadius: '10px'\r\n              }}\r\n              onClick={() => {\r\n                onConfirm()\r\n              }}\r\n            >\r\n              <TYPE.body color=\"white\">Continue</TYPE.body>\r\n            </ButtonError>\r\n          </RowBetween>\r\n        </AutoColumn>\r\n      </WarningContainer>\r\n    </Modal>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { RowBetween } from '../Row'\r\nimport { AutoColumn } from '../Column'\r\nimport { transparentize } from 'polished'\r\n\r\nconst Wrapper = styled(AutoColumn)`\r\n  margin-top: 1.25rem;\r\n`\r\n\r\nconst Grouping = styled(RowBetween)`\r\n  width: 50%;\r\n`\r\n\r\nconst Circle = styled.div<{ confirmed?: boolean; disabled?: boolean }>`\r\n  min-width: 20px;\r\n  min-height: 20px;\r\n  background-color: ${({ theme, confirmed, disabled }) =>\r\n    disabled ? theme.bg4 : confirmed ? theme.green1 : theme.primary1};\r\n  border-radius: 50%;\r\n  color: ${({ theme }) => theme.white};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  line-height: 8px;\r\n  font-size: 12px;\r\n`\r\n\r\nconst CircleRow = styled.div`\r\n  width: calc(100% - 20px);\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nconst Connector = styled.div<{ prevConfirmed?: boolean }>`\r\n  width: 100%;\r\n  height: 2px;\r\n  background-color: ;\r\n  background: linear-gradient(\r\n    90deg,\r\n    ${({ theme, prevConfirmed }) => transparentize(0.5, prevConfirmed ? theme.green1 : theme.primary1)} 0%,\r\n    ${({ theme, prevConfirmed }) => (prevConfirmed ? theme.primary1 : theme.bg4)} 80%\r\n  );\r\n  opacity: 0.6;\r\n`\r\n\r\ninterface ProgressCirclesProps {\r\n  steps: boolean[]\r\n}\r\n\r\n/**\r\n * Based on array of steps, create a step counter of circles.\r\n * A circle can be enabled, disabled, or confirmed. States are derived\r\n * from previous step.\r\n *\r\n * An extra circle is added to represent the ability to swap, add, or remove.\r\n * This step will never be marked as complete (because no 'txn done' state in body ui).\r\n *\r\n * @param steps  array of booleans where true means step is complete\r\n */\r\nexport default function ProgressCircles({ steps }: ProgressCirclesProps) {\r\n  return (\r\n    <Wrapper justify={'center'}>\r\n      <Grouping>\r\n        {steps.map((step, i) => {\r\n          return (\r\n            <CircleRow key={i}>\r\n              <Circle confirmed={step} disabled={!steps[i - 1] && i !== 0}>\r\n                {step ? 'âœ“' : i + 1}\r\n              </Circle>\r\n              <Connector prevConfirmed={step} />\r\n            </CircleRow>\r\n          )\r\n        })}\r\n        <Circle disabled={!steps[steps.length - 1]}>{steps.length + 1}</Circle>\r\n      </Grouping>\r\n    </Wrapper>\r\n  )\r\n}\r\n","import { BigNumber } from '@ethersproject/bignumber'\r\nimport { Contract } from '@ethersproject/contracts'\r\nimport { JSBI, Percent, Router, SwapParameters, Trade, TradeType } from '@tianheng2017/dex-sdk'\r\nimport { useMemo } from 'react'\r\nimport { BIPS_BASE, DEFAULT_DEADLINE_FROM_NOW, INITIAL_ALLOWED_SLIPPAGE } from '../constants'\r\nimport { getTradeVersion, useV1TradeExchangeAddress } from '../data/V1'\r\nimport { useTransactionAdder } from '../state/transactions/hooks'\r\nimport { calculateGasMargin, getRouterContract, isAddress, shortenAddress } from '../utils'\r\nimport isZero from '../utils/isZero'\r\nimport v1SwapArguments from '../utils/v1SwapArguments'\r\nimport { useActiveWeb3React } from './index'\r\nimport { useV1ExchangeContract } from './useContract'\r\nimport useENS from './useENS'\r\nimport { Version } from './useToggledVersion'\r\n\r\nexport enum SwapCallbackState {\r\n  INVALID,\r\n  LOADING,\r\n  VALID\r\n}\r\n\r\ninterface SwapCall {\r\n  contract: Contract\r\n  parameters: SwapParameters\r\n}\r\n\r\ninterface SuccessfulCall {\r\n  call: SwapCall\r\n  gasEstimate: BigNumber\r\n}\r\n\r\ninterface FailedCall {\r\n  call: SwapCall\r\n  error: Error\r\n}\r\n\r\ntype EstimatedSwapCall = SuccessfulCall | FailedCall\r\n\r\n/**\r\n * Returns the swap calls that can be used to make the trade\r\n * @param trade trade to execute\r\n * @param allowedSlippage user allowed slippage\r\n * @param deadline the deadline for the trade\r\n * @param recipientAddressOrName\r\n */\r\nfunction useSwapCallArguments(\r\n  trade: Trade | undefined, // trade to execute, required\r\n  allowedSlippage: number = INITIAL_ALLOWED_SLIPPAGE, // in bips\r\n  deadline: number = DEFAULT_DEADLINE_FROM_NOW, // in seconds from now\r\n  recipientAddressOrName: string | null // the ENS name or address of the recipient of the trade, or null if swap should be returned to sender\r\n): SwapCall[] {\r\n  const { account, chainId, library } = useActiveWeb3React()\r\n\r\n  const { address: recipientAddress } = useENS(recipientAddressOrName)\r\n  const recipient = recipientAddressOrName === null ? account : recipientAddress\r\n\r\n  const v1Exchange = useV1ExchangeContract(useV1TradeExchangeAddress(trade), true)\r\n\r\n  return useMemo(() => {\r\n    const tradeVersion = getTradeVersion(trade)\r\n    if (!trade || !recipient || !library || !account || !tradeVersion || !chainId) return []\r\n\r\n    const contract: Contract | null =\r\n      tradeVersion === Version.v2 ? getRouterContract(chainId, library, account) : v1Exchange\r\n    if (!contract) {\r\n      return []\r\n    }\r\n\r\n    const swapMethods = []\r\n\r\n    switch (tradeVersion) {\r\n      case Version.v2:\r\n        swapMethods.push(\r\n          Router.swapCallParameters(trade, {\r\n            feeOnTransfer: false,\r\n            allowedSlippage: new Percent(JSBI.BigInt(allowedSlippage), BIPS_BASE),\r\n            recipient,\r\n            ttl: deadline\r\n          })\r\n        )\r\n\r\n        if (trade.tradeType === TradeType.EXACT_INPUT) {\r\n          swapMethods.push(\r\n            Router.swapCallParameters(trade, {\r\n              feeOnTransfer: true,\r\n              allowedSlippage: new Percent(JSBI.BigInt(allowedSlippage), BIPS_BASE),\r\n              recipient,\r\n              ttl: deadline\r\n            })\r\n          )\r\n        }\r\n        break\r\n      case Version.v1:\r\n        swapMethods.push(\r\n          v1SwapArguments(trade, {\r\n            allowedSlippage: new Percent(JSBI.BigInt(allowedSlippage), BIPS_BASE),\r\n            recipient,\r\n            ttl: deadline\r\n          })\r\n        )\r\n        break\r\n    }\r\n    return swapMethods.map(parameters => ({ parameters, contract }))\r\n  }, [account, allowedSlippage, chainId, deadline, library, recipient, trade, v1Exchange])\r\n}\r\n\r\n// returns a function that will execute a swap, if the parameters are all valid\r\n// and the user has approved the slippage adjusted input amount for the trade\r\nexport function useSwapCallback(\r\n  trade: Trade | undefined, // trade to execute, required\r\n  allowedSlippage: number = INITIAL_ALLOWED_SLIPPAGE, // in bips\r\n  deadline: number = DEFAULT_DEADLINE_FROM_NOW, // in seconds from now\r\n  recipientAddressOrName: string | null // the ENS name or address of the recipient of the trade, or null if swap should be returned to sender\r\n): { state: SwapCallbackState; callback: null | (() => Promise<string>); error: string | null } {\r\n  const { account, chainId, library } = useActiveWeb3React()\r\n\r\n  const swapCalls = useSwapCallArguments(trade, allowedSlippage, deadline, recipientAddressOrName)\r\n\r\n  const addTransaction = useTransactionAdder()\r\n\r\n  const { address: recipientAddress } = useENS(recipientAddressOrName)\r\n  const recipient = recipientAddressOrName === null ? account : recipientAddress\r\n\r\n  return useMemo(() => {\r\n    if (!trade || !library || !account || !chainId) {\r\n      return { state: SwapCallbackState.INVALID, callback: null, error: 'Missing dependencies' }\r\n    }\r\n    if (!recipient) {\r\n      if (recipientAddressOrName !== null) {\r\n        return { state: SwapCallbackState.INVALID, callback: null, error: 'Invalid recipient' }\r\n      } else {\r\n        return { state: SwapCallbackState.LOADING, callback: null, error: null }\r\n      }\r\n    }\r\n\r\n    const tradeVersion = getTradeVersion(trade)\r\n\r\n    return {\r\n      state: SwapCallbackState.VALID,\r\n      callback: async function onSwap(): Promise<string> {\r\n        const estimatedCalls: EstimatedSwapCall[] = await Promise.all(\r\n          swapCalls.map(call => {\r\n            const {\r\n              parameters: { methodName, args, value },\r\n              contract\r\n            } = call\r\n            const options = !value || isZero(value) ? {} : { value }\r\n\r\n            return contract.estimateGas[methodName](...args, options)\r\n              .then(gasEstimate => {\r\n                return {\r\n                  call,\r\n                  gasEstimate\r\n                }\r\n              })\r\n              .catch(gasError => {\r\n                console.debug('Gas estimate failed, trying eth_call to extract error', call)\r\n\r\n                return contract.callStatic[methodName](...args, options)\r\n                  .then(result => {\r\n                    console.debug('Unexpected successful call after failed estimate gas', call, gasError, result)\r\n                    return { call, error: new Error('Unexpected issue with estimating the gas. Please try again.') }\r\n                  })\r\n                  .catch(callError => {\r\n                    console.debug('Call threw error', call, callError)\r\n                    let errorMessage: string\r\n                    switch (callError.reason) {\r\n                      case 'UniswapV2Router: INSUFFICIENT_OUTPUT_AMOUNT':\r\n                      case 'UniswapV2Router: EXCESSIVE_INPUT_AMOUNT':\r\n                        errorMessage =\r\n                          'This transaction will not succeed either due to price movement or fee on transfer. Try increasing your slippage tolerance.'\r\n                        break\r\n                      default:\r\n                        errorMessage = `The transaction cannot succeed due to error: ${callError.reason}. This is probably an issue with one of the tokens you are swapping.`\r\n                    }\r\n                    return { call, error: new Error(errorMessage) }\r\n                  })\r\n              })\r\n          })\r\n        )\r\n\r\n        // a successful estimation is a bignumber gas estimate and the next call is also a bignumber gas estimate\r\n        const successfulEstimation = estimatedCalls.find(\r\n          (el, ix, list): el is SuccessfulCall =>\r\n            'gasEstimate' in el && (ix === list.length - 1 || 'gasEstimate' in list[ix + 1])\r\n        )\r\n\r\n        if (!successfulEstimation) {\r\n          const errorCalls = estimatedCalls.filter((call): call is FailedCall => 'error' in call)\r\n          if (errorCalls.length > 0) throw errorCalls[errorCalls.length - 1].error\r\n          throw new Error('Unexpected error. Please contact support: none of the calls threw an error')\r\n        }\r\n\r\n        const {\r\n          call: {\r\n            contract,\r\n            parameters: { methodName, args, value }\r\n          },\r\n          gasEstimate\r\n        } = successfulEstimation\r\n\r\n        return contract[methodName](...args, {\r\n          gasLimit: calculateGasMargin(gasEstimate),\r\n          ...(value && !isZero(value) ? { value, from: account } : { from: account })\r\n        })\r\n          .then((response: any) => {\r\n            const inputSymbol = trade.inputAmount.currency.symbol\r\n            const outputSymbol = trade.outputAmount.currency.symbol\r\n            const inputAmount = trade.inputAmount.toSignificant(3)\r\n            const outputAmount = trade.outputAmount.toSignificant(3)\r\n\r\n            const base = `Swap ${inputAmount} ${inputSymbol} for ${outputAmount} ${outputSymbol}`\r\n            const withRecipient =\r\n              recipient === account\r\n                ? base\r\n                : `${base} to ${\r\n                    recipientAddressOrName && isAddress(recipientAddressOrName)\r\n                      ? shortenAddress(recipientAddressOrName)\r\n                      : recipientAddressOrName\r\n                  }`\r\n\r\n            const withVersion =\r\n              tradeVersion === Version.v2 ? withRecipient : `${withRecipient} on ${(tradeVersion as any).toUpperCase()}`\r\n\r\n            addTransaction(response, {\r\n              summary: withVersion\r\n            })\r\n\r\n            return response.hash\r\n          })\r\n          .catch((error: any) => {\r\n            // if the user rejected the tx, pass this along\r\n            if (error?.code === 4001) {\r\n              throw new Error('Transaction rejected.')\r\n            } else {\r\n              // otherwise, the error was unexpected and we need to convey that\r\n              console.error(`Swap failed`, error, methodName, args, value)\r\n              throw new Error(`Swap failed: ${error.message}`)\r\n            }\r\n          })\r\n      },\r\n      error: null\r\n    }\r\n  }, [trade, library, account, chainId, recipient, recipientAddressOrName, swapCalls, addTransaction])\r\n}\r\n","import { Currency, currencyEquals, ETHER, WETH } from '@tianheng2017/dex-sdk'\r\nimport { useMemo } from 'react'\r\nimport { tryParseAmount } from '../state/swap/hooks'\r\nimport { useTransactionAdder } from '../state/transactions/hooks'\r\nimport { useCurrencyBalance } from '../state/wallet/hooks'\r\nimport { useActiveWeb3React } from './index'\r\nimport { useWETHContract } from './useContract'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport enum WrapType {\r\n    NOT_APPLICABLE,\r\n    WRAP,\r\n    UNWRAP\r\n}\r\n\r\nconst NOT_APPLICABLE = { wrapType: WrapType.NOT_APPLICABLE }\r\n/**\r\n * Given the selected input and output currency, return a wrap callback\r\n * @param inputCurrency the selected input currency\r\n * @param outputCurrency the selected output currency\r\n * @param typedValue the user input value\r\n */\r\nexport default function useWrapCallback(\r\n    inputCurrency: Currency | undefined,\r\n    outputCurrency: Currency | undefined,\r\n    typedValue: string | undefined\r\n): { wrapType: WrapType; execute?: undefined | (() => Promise<void>); inputError?: string } {\r\n    const { t } = useTranslation()\r\n    const { chainId, account } = useActiveWeb3React()\r\n    const wethContract = useWETHContract()\r\n    const balance = useCurrencyBalance(account ?? undefined, inputCurrency)\r\n    // we can always parse the amount typed as the input currency, since wrapping is 1:1\r\n    const inputAmount = useMemo(() => tryParseAmount(typedValue, inputCurrency), [inputCurrency, typedValue])\r\n    const addTransaction = useTransactionAdder()\r\n\r\n    return useMemo(() => {\r\n        if (!wethContract || !chainId || !inputCurrency || !outputCurrency) return NOT_APPLICABLE\r\n\r\n        const sufficientBalance = inputAmount && balance && !balance.lessThan(inputAmount)\r\n\r\n        if (inputCurrency === ETHER && currencyEquals(WETH[chainId], outputCurrency)) {\r\n            return {\r\n                wrapType: WrapType.WRAP,\r\n                execute:\r\n                    sufficientBalance && inputAmount\r\n                        ? async () => {\r\n                            try {\r\n                                const txReceipt = await wethContract.deposit({ value: `0x${inputAmount.raw.toString(16)}` })\r\n                                addTransaction(txReceipt, { summary: `Wrap ${inputAmount.toSignificant(6)} ETH to WETH` })\r\n                            } catch (error) {\r\n                                console.error('Could not deposit', error)\r\n                            }\r\n                        }\r\n                        : undefined,\r\n                inputError: sufficientBalance ? undefined : t('insufficientEthBalance')\r\n            }\r\n        } else if (currencyEquals(WETH[chainId], inputCurrency) && outputCurrency === ETHER) {\r\n            return {\r\n                wrapType: WrapType.UNWRAP,\r\n                execute:\r\n                    sufficientBalance && inputAmount\r\n                        ? async () => {\r\n                            try {\r\n                                const txReceipt = await wethContract.withdraw(`0x${inputAmount.raw.toString(16)}`)\r\n                                addTransaction(txReceipt, { summary: `Unwrap ${inputAmount.toSignificant(6)} WETH to ETH` })\r\n                            } catch (error) {\r\n                                console.error('Could not withdraw', error)\r\n                            }\r\n                        }\r\n                        : undefined,\r\n                inputError: sufficientBalance ? undefined : t('insufficientEthBalance')\r\n            }\r\n        } else {\r\n            return NOT_APPLICABLE\r\n        }\r\n    }, [wethContract, chainId, inputCurrency, outputCurrency, inputAmount, balance, addTransaction])\r\n}\r\n","import { MaxUint256 } from '@ethersproject/constants'\r\nimport { CurrencyAmount, ETHER, SwapParameters, Token, Trade, TradeOptions, TradeType } from '@tianheng2017/dex-sdk'\r\nimport { getTradeVersion } from '../data/V1'\r\nimport { Version } from '../hooks/useToggledVersion'\r\n\r\nfunction toHex(currencyAmount: CurrencyAmount): string {\r\n  return `0x${currencyAmount.raw.toString(16)}`\r\n}\r\n\r\nfunction deadlineFromNow(ttl: number): string {\r\n  return `0x${(Math.floor(new Date().getTime() / 1000) + ttl).toString(16)}`\r\n}\r\n\r\n/**\r\n * Get the arguments to make for a swap\r\n * @param trade trade to get v1 arguments for swapping\r\n * @param options options for swapping\r\n */\r\nexport default function v1SwapArguments(trade: Trade, options: Omit<TradeOptions, 'feeOnTransfer'>): SwapParameters {\r\n  if (getTradeVersion(trade) !== Version.v1) {\r\n    throw new Error('invalid trade version')\r\n  }\r\n  if (trade.route.pairs.length > 2) {\r\n    throw new Error('too many pairs')\r\n  }\r\n  const isExactIn = trade.tradeType === TradeType.EXACT_INPUT\r\n  const inputETH = trade.inputAmount.currency === ETHER\r\n  const outputETH = trade.outputAmount.currency === ETHER\r\n  if (inputETH && outputETH) throw new Error('ETHER to ETHER')\r\n  const minimumAmountOut = toHex(trade.minimumAmountOut(options.allowedSlippage))\r\n  const maximumAmountIn = toHex(trade.maximumAmountIn(options.allowedSlippage))\r\n  const deadline = deadlineFromNow(options.ttl)\r\n  if (isExactIn) {\r\n    if (inputETH) {\r\n      return {\r\n        methodName: 'ethToTokenTransferInput',\r\n        args: [minimumAmountOut, deadline, options.recipient],\r\n        value: maximumAmountIn\r\n      }\r\n    } else if (outputETH) {\r\n      return {\r\n        methodName: 'tokenToEthTransferInput',\r\n        args: [maximumAmountIn, minimumAmountOut, deadline, options.recipient],\r\n        value: '0x0'\r\n      }\r\n    } else {\r\n      const outputToken = trade.outputAmount.currency\r\n      // should never happen, needed for type check\r\n      if (!(outputToken instanceof Token)) {\r\n        throw new Error('token to token')\r\n      }\r\n      return {\r\n        methodName: 'tokenToTokenTransferInput',\r\n        args: [maximumAmountIn, minimumAmountOut, '0x1', deadline, options.recipient, outputToken.address],\r\n        value: '0x0'\r\n      }\r\n    }\r\n  } else {\r\n    if (inputETH) {\r\n      return {\r\n        methodName: 'ethToTokenTransferOutput',\r\n        args: [minimumAmountOut, deadline, options.recipient],\r\n        value: maximumAmountIn\r\n      }\r\n    } else if (outputETH) {\r\n      return {\r\n        methodName: 'tokenToEthTransferOutput',\r\n        args: [minimumAmountOut, maximumAmountIn, deadline, options.recipient],\r\n        value: '0x0'\r\n      }\r\n    } else {\r\n      const output = trade.outputAmount.currency\r\n      if (!(output instanceof Token)) {\r\n        throw new Error('invalid output amount currency')\r\n      }\r\n\r\n      return {\r\n        methodName: 'tokenToTokenTransferOutput',\r\n        args: [\r\n          minimumAmountOut,\r\n          maximumAmountIn,\r\n          MaxUint256.toHexString(),\r\n          deadline,\r\n          options.recipient,\r\n          output.address\r\n        ],\r\n        value: '0x0'\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { CurrencyAmount, JSBI, Token, Trade } from '@tianheng2017/dex-sdk'\r\nimport React, { useCallback, useContext, useEffect, useMemo, useState } from 'react'\r\nimport { ArrowDown } from 'react-feather'\r\nimport ReactGA from 'react-ga'\r\nimport { Text } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport AddressInputPanel from '../../components/AddressInputPanel'\r\nimport { ButtonError, ButtonLight, ButtonPrimary, ButtonConfirmed } from '../../components/Button'\r\nimport Card, { GreyCard } from '../../components/Card'\r\nimport { AutoColumn } from '../../components/Column'\r\nimport ConfirmSwapModal from '../../components/swap/ConfirmSwapModal'\r\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel'\r\nimport { SwapPoolTabs } from '../../components/NavigationTabs'\r\nimport { AutoRow, RowBetween } from '../../components/Row'\r\nimport AdvancedSwapDetailsDropdown from '../../components/swap/AdvancedSwapDetailsDropdown'\r\nimport BetterTradeLink from '../../components/swap/BetterTradeLink'\r\nimport confirmPriceImpactWithoutFee from '../../components/swap/confirmPriceImpactWithoutFee'\r\nimport { ArrowWrapper, BottomGrouping, SwapCallbackError, Wrapper } from '../../components/swap/styleds'\r\nimport TradePrice from '../../components/swap/TradePrice'\r\nimport TokenWarningModal from '../../components/TokenWarningModal'\r\nimport ProgressSteps from '../../components/ProgressSteps'\r\n\r\nimport { BETTER_TRADE_LINK_THRESHOLD, INITIAL_ALLOWED_SLIPPAGE } from '../../constants'\r\nimport { getTradeVersion, isTradeBetter } from '../../data/V1'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useCurrency } from '../../hooks/Tokens'\r\nimport { ApprovalState, useApproveCallbackFromTrade } from '../../hooks/useApproveCallback'\r\nimport useENSAddress from '../../hooks/useENSAddress'\r\nimport { useSwapCallback } from '../../hooks/useSwapCallback'\r\nimport useToggledVersion, { Version } from '../../hooks/useToggledVersion'\r\nimport useWrapCallback, { WrapType } from '../../hooks/useWrapCallback'\r\nimport { useToggleSettingsMenu, useWalletModalToggle } from '../../state/application/hooks'\r\nimport { Field } from '../../state/swap/actions'\r\nimport {\r\n    useDefaultsFromURLSearch,\r\n    useDerivedSwapInfo,\r\n    useSwapActionHandlers,\r\n    useSwapState\r\n} from '../../state/swap/hooks'\r\nimport { useExpertModeManager, useUserDeadline, useUserSlippageTolerance } from '../../state/user/hooks'\r\nimport { LinkStyledButton, TYPE } from '../../theme'\r\nimport { maxAmountSpend } from '../../utils/maxAmountSpend'\r\nimport { computeTradePriceBreakdown, warningSeverity } from '../../utils/prices'\r\nimport AppBody from '../AppBody'\r\nimport { ClickableText } from '../Pool/styleds'\r\nimport Loader from '../../components/Loader'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport default function Swap() {\r\n    const { t } = useTranslation()\r\n    const loadedUrlParams = useDefaultsFromURLSearch()\r\n\r\n    // token warning stuff\r\n    const [loadedInputCurrency, loadedOutputCurrency] = [\r\n        useCurrency(loadedUrlParams?.inputCurrencyId),\r\n        useCurrency(loadedUrlParams?.outputCurrencyId)\r\n    ]\r\n    const [dismissTokenWarning, setDismissTokenWarning] = useState<boolean>(false)\r\n    const urlLoadedTokens: Token[] = useMemo(\r\n        () => [loadedInputCurrency, loadedOutputCurrency]?.filter((c): c is Token => c instanceof Token) ?? [],\r\n        [loadedInputCurrency, loadedOutputCurrency]\r\n    )\r\n    const handleConfirmTokenWarning = useCallback(() => {\r\n        setDismissTokenWarning(true)\r\n    }, [])\r\n\r\n    const { account } = useActiveWeb3React()\r\n    const theme = useContext(ThemeContext)\r\n\r\n    // toggle wallet when disconnected\r\n    const toggleWalletModal = useWalletModalToggle()\r\n\r\n    // for expert mode\r\n    const toggleSettings = useToggleSettingsMenu()\r\n    const [isExpertMode] = useExpertModeManager()\r\n\r\n    // get custom setting values for user\r\n    const [deadline] = useUserDeadline()\r\n    const [allowedSlippage] = useUserSlippageTolerance()\r\n\r\n    // swap state\r\n    const { independentField, typedValue, recipient } = useSwapState()\r\n    const {\r\n        v1Trade,\r\n        v2Trade,\r\n        currencyBalances,\r\n        parsedAmount,\r\n        currencies,\r\n        inputError: swapInputError\r\n    } = useDerivedSwapInfo()\r\n    const { wrapType, execute: onWrap, inputError: wrapInputError } = useWrapCallback(\r\n        currencies[Field.INPUT],\r\n        currencies[Field.OUTPUT],\r\n        typedValue\r\n    )\r\n    const showWrap: boolean = wrapType !== WrapType.NOT_APPLICABLE\r\n    const { address: recipientAddress } = useENSAddress(recipient)\r\n    const toggledVersion = useToggledVersion()\r\n    const trade = showWrap\r\n        ? undefined\r\n        : {\r\n            [Version.v1]: v1Trade,\r\n            [Version.v2]: v2Trade\r\n        }[toggledVersion]\r\n\r\n    const betterTradeLinkVersion: Version | undefined =\r\n        toggledVersion === Version.v2 && isTradeBetter(v2Trade, v1Trade, BETTER_TRADE_LINK_THRESHOLD)\r\n            ? Version.v1\r\n            : toggledVersion === Version.v1 && isTradeBetter(v1Trade, v2Trade)\r\n                ? Version.v2\r\n                : undefined\r\n\r\n    const parsedAmounts = showWrap\r\n        ? {\r\n            [Field.INPUT]: parsedAmount,\r\n            [Field.OUTPUT]: parsedAmount\r\n        }\r\n        : {\r\n            [Field.INPUT]: independentField === Field.INPUT ? parsedAmount : trade?.inputAmount,\r\n            [Field.OUTPUT]: independentField === Field.OUTPUT ? parsedAmount : trade?.outputAmount\r\n        }\r\n\r\n    const { onSwitchTokens, onCurrencySelection, onUserInput, onChangeRecipient } = useSwapActionHandlers()\r\n    const isValid = !swapInputError\r\n    const dependentField: Field = independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT\r\n\r\n    const handleTypeInput = useCallback(\r\n        (value: string) => {\r\n            onUserInput(Field.INPUT, value)\r\n        },\r\n        [onUserInput]\r\n    )\r\n    const handleTypeOutput = useCallback(\r\n        (value: string) => {\r\n            onUserInput(Field.OUTPUT, value)\r\n        },\r\n        [onUserInput]\r\n    )\r\n\r\n    // modal and loading\r\n    const [{ showConfirm, tradeToConfirm, swapErrorMessage, attemptingTxn, txHash }, setSwapState] = useState<{\r\n        showConfirm: boolean\r\n        tradeToConfirm: Trade | undefined\r\n        attemptingTxn: boolean\r\n        swapErrorMessage: string | undefined\r\n        txHash: string | undefined\r\n    }>({\r\n        showConfirm: false,\r\n        tradeToConfirm: undefined,\r\n        attemptingTxn: false,\r\n        swapErrorMessage: undefined,\r\n        txHash: undefined\r\n    })\r\n\r\n    const formattedAmounts = {\r\n        [independentField]: typedValue,\r\n        [dependentField]: showWrap\r\n            ? parsedAmounts[independentField]?.toExact() ?? ''\r\n            : parsedAmounts[dependentField]?.toSignificant(6) ?? ''\r\n    }\r\n\r\n    const route = trade?.route\r\n    const userHasSpecifiedInputOutput = Boolean(\r\n        currencies[Field.INPUT] && currencies[Field.OUTPUT] && parsedAmounts[independentField]?.greaterThan(JSBI.BigInt(0))\r\n    )\r\n    const noRoute = !route\r\n\r\n    // check whether the user has approved the router on the input token\r\n    const [approval, approveCallback] = useApproveCallbackFromTrade(trade, allowedSlippage)\r\n\r\n    // check if user has gone through approval process, used to show two step buttons, reset on token change\r\n    const [approvalSubmitted, setApprovalSubmitted] = useState<boolean>(false)\r\n\r\n    // mark when a user has submitted an approval, reset onTokenSelection for input field\r\n    useEffect(() => {\r\n        if (approval === ApprovalState.PENDING) {\r\n            setApprovalSubmitted(true)\r\n        }\r\n    }, [approval, approvalSubmitted])\r\n\r\n    const maxAmountInput: CurrencyAmount | undefined = maxAmountSpend(currencyBalances[Field.INPUT])\r\n    const atMaxAmountInput = Boolean(maxAmountInput && parsedAmounts[Field.INPUT]?.equalTo(maxAmountInput))\r\n\r\n    // the callback to execute the swap\r\n    const { callback: swapCallback, error: swapCallbackError } = useSwapCallback(\r\n        trade,\r\n        allowedSlippage,\r\n        deadline,\r\n        recipient\r\n    )\r\n\r\n    const { priceImpactWithoutFee } = computeTradePriceBreakdown(trade)\r\n\r\n    const handleSwap = useCallback(() => {\r\n        if (priceImpactWithoutFee && !confirmPriceImpactWithoutFee(priceImpactWithoutFee)) {\r\n            return\r\n        }\r\n        if (!swapCallback) {\r\n            return\r\n        }\r\n        setSwapState({ attemptingTxn: true, tradeToConfirm, showConfirm, swapErrorMessage: undefined, txHash: undefined })\r\n        swapCallback()\r\n            .then(hash => {\r\n                setSwapState({ attemptingTxn: false, tradeToConfirm, showConfirm, swapErrorMessage: undefined, txHash: hash })\r\n\r\n                ReactGA.event({\r\n                    category: 'Swap',\r\n                    action:\r\n                        recipient === null\r\n                            ? 'Swap w/o Send'\r\n                            : (recipientAddress ?? recipient) === account\r\n                                ? 'Swap w/o Send + recipient'\r\n                                : 'Swap w/ Send',\r\n                    label: [\r\n                        trade?.inputAmount?.currency?.symbol,\r\n                        trade?.outputAmount?.currency?.symbol,\r\n                        getTradeVersion(trade)\r\n                    ].join('/')\r\n                })\r\n            })\r\n            .catch(error => {\r\n                setSwapState({\r\n                    attemptingTxn: false,\r\n                    tradeToConfirm,\r\n                    showConfirm,\r\n                    swapErrorMessage: error.message,\r\n                    txHash: undefined\r\n                })\r\n            })\r\n    }, [tradeToConfirm, account, priceImpactWithoutFee, recipient, recipientAddress, showConfirm, swapCallback, trade])\r\n\r\n    // errors\r\n    const [showInverted, setShowInverted] = useState<boolean>(false)\r\n\r\n    // warnings on slippage\r\n    const priceImpactSeverity = warningSeverity(priceImpactWithoutFee)\r\n\r\n    // show approve flow when: no error on inputs, not approved or pending, or approved in current session\r\n    // never show if price impact is above threshold in non expert mode\r\n    const showApproveFlow =\r\n        !swapInputError &&\r\n        (approval === ApprovalState.NOT_APPROVED ||\r\n            approval === ApprovalState.PENDING ||\r\n            (approvalSubmitted && approval === ApprovalState.APPROVED)) &&\r\n        !(priceImpactSeverity > 3 && !isExpertMode)\r\n\r\n    const handleConfirmDismiss = useCallback(() => {\r\n        setSwapState({ showConfirm: false, tradeToConfirm, attemptingTxn, swapErrorMessage, txHash })\r\n        // if there was a tx hash, we want to clear the input\r\n        if (txHash) {\r\n            onUserInput(Field.INPUT, '')\r\n        }\r\n    }, [attemptingTxn, onUserInput, swapErrorMessage, tradeToConfirm, txHash])\r\n\r\n    const handleAcceptChanges = useCallback(() => {\r\n        setSwapState({ tradeToConfirm: trade, swapErrorMessage, txHash, attemptingTxn, showConfirm })\r\n    }, [attemptingTxn, showConfirm, swapErrorMessage, trade, txHash])\r\n\r\n    const handleInputSelect = useCallback(\r\n        inputCurrency => {\r\n            setApprovalSubmitted(false) // reset 2 step UI for approvals\r\n            onCurrencySelection(Field.INPUT, inputCurrency)\r\n        },\r\n        [onCurrencySelection]\r\n    )\r\n\r\n    const handleMaxInput = useCallback(() => {\r\n        maxAmountInput && onUserInput(Field.INPUT, maxAmountInput.toExact())\r\n    }, [maxAmountInput, onUserInput])\r\n\r\n    const handleOutputSelect = useCallback(outputCurrency => onCurrencySelection(Field.OUTPUT, outputCurrency), [\r\n        onCurrencySelection\r\n    ])\r\n\r\n    return (\r\n        <>\r\n            <TokenWarningModal\r\n                isOpen={urlLoadedTokens.length > 0 && !dismissTokenWarning}\r\n                tokens={urlLoadedTokens}\r\n                onConfirm={handleConfirmTokenWarning}\r\n            />\r\n            <AppBody>\r\n                <SwapPoolTabs active={'swap'} />\r\n                <Wrapper id=\"swap-page\">\r\n                    <ConfirmSwapModal\r\n                        isOpen={showConfirm}\r\n                        trade={trade}\r\n                        originalTrade={tradeToConfirm}\r\n                        onAcceptChanges={handleAcceptChanges}\r\n                        attemptingTxn={attemptingTxn}\r\n                        txHash={txHash}\r\n                        recipient={recipient}\r\n                        allowedSlippage={allowedSlippage}\r\n                        onConfirm={handleSwap}\r\n                        swapErrorMessage={swapErrorMessage}\r\n                        onDismiss={handleConfirmDismiss}\r\n                    />\r\n\r\n                    <AutoColumn gap={'md'}>\r\n                        <CurrencyInputPanel\r\n                            label={independentField === Field.OUTPUT && !showWrap && trade ? 'ä»Ž (é¢„ä¼°)' : 'ä»Ž'}\r\n                            value={formattedAmounts[Field.INPUT]}\r\n                            showMaxButton={!atMaxAmountInput}\r\n                            currency={currencies[Field.INPUT]}\r\n                            onUserInput={handleTypeInput}\r\n                            onMax={handleMaxInput}\r\n                            onCurrencySelect={handleInputSelect}\r\n                            otherCurrency={currencies[Field.OUTPUT]}\r\n                            id=\"swap-currency-input\"\r\n                        />\r\n                        <AutoColumn justify=\"space-between\">\r\n                            <AutoRow justify={isExpertMode ? 'space-between' : 'center'} style={{ padding: '0 1rem' }}>\r\n                                <ArrowWrapper clickable>\r\n                                    <ArrowDown\r\n                                        size=\"16\"\r\n                                        onClick={() => {\r\n                                            setApprovalSubmitted(false) // reset 2 step UI for approvals\r\n                                            onSwitchTokens()\r\n                                        }}\r\n                                        color={currencies[Field.INPUT] && currencies[Field.OUTPUT] ? theme.primary1 : theme.text2}\r\n                                    />\r\n                                </ArrowWrapper>\r\n                                {recipient === null && !showWrap && isExpertMode ? (\r\n                                    <LinkStyledButton id=\"add-recipient-button\" onClick={() => onChangeRecipient('')}>\r\n                                        + æ·»åŠ å‘é€ (å¯é€‰)\r\n                                    </LinkStyledButton>\r\n                                ) : null}\r\n                            </AutoRow>\r\n                        </AutoColumn>\r\n                        <CurrencyInputPanel\r\n                            value={formattedAmounts[Field.OUTPUT]}\r\n                            onUserInput={handleTypeOutput}\r\n                            label={independentField === Field.INPUT && !showWrap && trade ? 'åˆ° (é¢„ä¼°)' : 'åˆ°'}\r\n                            showMaxButton={false}\r\n                            currency={currencies[Field.OUTPUT]}\r\n                            onCurrencySelect={handleOutputSelect}\r\n                            otherCurrency={currencies[Field.INPUT]}\r\n                            id=\"swap-currency-output\"\r\n                        />\r\n\r\n                        {recipient !== null && !showWrap ? (\r\n                            <>\r\n                                <AutoRow justify=\"space-between\" style={{ padding: '0 1rem' }}>\r\n                                    <ArrowWrapper clickable={false}>\r\n                                        <ArrowDown size=\"16\" color={theme.text2} />\r\n                                    </ArrowWrapper>\r\n                                    <LinkStyledButton id=\"remove-recipient-button\" onClick={() => onChangeRecipient(null)}>\r\n                                        - Remove send\r\n                                    </LinkStyledButton>\r\n                                </AutoRow>\r\n                                <AddressInputPanel id=\"recipient\" value={recipient} onChange={onChangeRecipient} />\r\n                            </>\r\n                        ) : null}\r\n\r\n                        {showWrap ? null : (\r\n                            <Card padding={'.25rem .75rem 0 .75rem'} borderRadius={'20px'}>\r\n                                <AutoColumn gap=\"4px\">\r\n                                    {Boolean(trade) && (\r\n                                        <RowBetween align=\"center\">\r\n                                            <Text fontWeight={500} fontSize={14} color={theme.text2}>\r\n                                                Price\r\n                                            </Text>\r\n                                            <TradePrice\r\n                                                price={trade?.executionPrice}\r\n                                                showInverted={showInverted}\r\n                                                setShowInverted={setShowInverted}\r\n                                            />\r\n                                        </RowBetween>\r\n                                    )}\r\n                                    {allowedSlippage !== INITIAL_ALLOWED_SLIPPAGE && (\r\n                                        <RowBetween align=\"center\">\r\n                                            <ClickableText fontWeight={500} fontSize={14} color={theme.text2} onClick={toggleSettings}>\r\n                                                Slippage Tolerance\r\n                                            </ClickableText>\r\n                                            <ClickableText fontWeight={500} fontSize={14} color={theme.text2} onClick={toggleSettings}>\r\n                                                {allowedSlippage / 100}%\r\n                                            </ClickableText>\r\n                                        </RowBetween>\r\n                                    )}\r\n                                </AutoColumn>\r\n                            </Card>\r\n                        )}\r\n                    </AutoColumn>\r\n                    <BottomGrouping>\r\n                        {!account ? (\r\n                            <ButtonLight onClick={toggleWalletModal}>{t('connectWallet')}</ButtonLight>\r\n                        ) : showWrap ? (\r\n                            <ButtonPrimary disabled={Boolean(wrapInputError)} onClick={onWrap}>\r\n                                {wrapInputError ??\r\n                                    (wrapType === WrapType.WRAP ? 'Wrap' : wrapType === WrapType.UNWRAP ? 'Unwrap' : null)}\r\n                            </ButtonPrimary>\r\n                        ) : noRoute && userHasSpecifiedInputOutput ? (\r\n                            <GreyCard style={{ textAlign: 'center' }}>\r\n                                <TYPE.main mb=\"4px\">{t('insufficientLiquidity')}</TYPE.main>\r\n                            </GreyCard>\r\n                        ) : showApproveFlow ? (\r\n                            <RowBetween>\r\n                                <ButtonConfirmed\r\n                                    onClick={approveCallback}\r\n                                    disabled={approval !== ApprovalState.NOT_APPROVED || approvalSubmitted}\r\n                                    width=\"48%\"\r\n                                    altDisabledStyle={approval === ApprovalState.PENDING} // show solid button while waiting\r\n                                    confirmed={approval === ApprovalState.APPROVED}\r\n                                >\r\n                                    {approval === ApprovalState.PENDING ? (\r\n                                        <AutoRow gap=\"6px\" justify=\"center\">\r\n                                            Approving <Loader stroke=\"white\" />\r\n                                        </AutoRow>\r\n                                    ) : approvalSubmitted && approval === ApprovalState.APPROVED ? (\r\n                                        'å·²æ‰¹å‡†'\r\n                                    ) : (\r\n                                        'æ‰¹å‡† ' + currencies[Field.INPUT]?.symbol\r\n                                    )}\r\n                                </ButtonConfirmed>\r\n                                <ButtonError\r\n                                    onClick={() => {\r\n                                        if (isExpertMode) {\r\n                                            handleSwap()\r\n                                        } else {\r\n                                            setSwapState({\r\n                                                tradeToConfirm: trade,\r\n                                                attemptingTxn: false,\r\n                                                swapErrorMessage: undefined,\r\n                                                showConfirm: true,\r\n                                                txHash: undefined\r\n                                            })\r\n                                        }\r\n                                    }}\r\n                                    width=\"48%\"\r\n                                    id=\"swap-button\"\r\n                                    disabled={\r\n                                        !isValid || approval !== ApprovalState.APPROVED || (priceImpactSeverity > 3 && !isExpertMode)\r\n                                    }\r\n                                    error={isValid && priceImpactSeverity > 2}\r\n                                >\r\n                                    <Text fontSize={16} fontWeight={500}>\r\n                                        {priceImpactSeverity > 3 && !isExpertMode\r\n                                            ? `Price Impact High`\r\n                                            : `Swap${priceImpactSeverity > 2 ? ' Anyway' : ''}`}\r\n                                    </Text>\r\n                                </ButtonError>\r\n                            </RowBetween>\r\n                        ) : (\r\n                            <ButtonError\r\n                                onClick={() => {\r\n                                    if (isExpertMode) {\r\n                                        handleSwap()\r\n                                    } else {\r\n                                        setSwapState({\r\n                                            tradeToConfirm: trade,\r\n                                            attemptingTxn: false,\r\n                                            swapErrorMessage: undefined,\r\n                                            showConfirm: true,\r\n                                            txHash: undefined\r\n                                        })\r\n                                    }\r\n                                }}\r\n                                id=\"swap-button\"\r\n                                disabled={!isValid || (priceImpactSeverity > 3 && !isExpertMode) || !!swapCallbackError}\r\n                                error={isValid && priceImpactSeverity > 2 && !swapCallbackError}\r\n                            >\r\n                                <Text fontSize={20} fontWeight={500}>\r\n                                    {swapInputError\r\n                                        ? swapInputError\r\n                                        : priceImpactSeverity > 3 && !isExpertMode\r\n                                            ? `Price Impact Too High`\r\n                                            : `Swap${priceImpactSeverity > 2 ? ' Anyway' : ''}`}\r\n                                </Text>\r\n                            </ButtonError>\r\n                        )}\r\n                        {showApproveFlow && <ProgressSteps steps={[approval === ApprovalState.APPROVED]} />}\r\n                        {isExpertMode && swapErrorMessage ? <SwapCallbackError error={swapErrorMessage} /> : null}\r\n                        {betterTradeLinkVersion && <BetterTradeLink version={betterTradeLinkVersion} />}\r\n                    </BottomGrouping>\r\n                </Wrapper>\r\n            </AppBody>\r\n            <AdvancedSwapDetailsDropdown trade={trade} />\r\n        </>\r\n    )\r\n}\r\n","import { Percent } from '@tianheng2017/dex-sdk'\r\nimport { ALLOWED_PRICE_IMPACT_HIGH, PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN } from '../../constants'\r\n\r\n/**\r\n * Given the price impact, get user confirmation.\r\n *\r\n * @param priceImpactWithoutFee price impact of the trade without the fee.\r\n */\r\nexport default function confirmPriceImpactWithoutFee(priceImpactWithoutFee: Percent): boolean {\r\n  if (!priceImpactWithoutFee.lessThan(PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN)) {\r\n    return (\r\n      window.prompt(\r\n        `This swap has a price impact of at least ${PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN.toFixed(\r\n          0\r\n        )}%. Please type the word \"confirm\" to continue with this swap.`\r\n      ) === 'confirm'\r\n    )\r\n  } else if (!priceImpactWithoutFee.lessThan(ALLOWED_PRICE_IMPACT_HIGH)) {\r\n    return window.confirm(\r\n      `This swap has a price impact of at least ${ALLOWED_PRICE_IMPACT_HIGH.toFixed(\r\n        0\r\n      )}%. Please confirm that you would like to continue with this swap.`\r\n    )\r\n  }\r\n  return true\r\n}\r\n","import React from 'react'\r\nimport { Redirect, RouteComponentProps } from 'react-router-dom'\r\n\r\n// Redirects to swap but only replace the pathname\r\nexport function RedirectPathToSwapOnly({ location }: RouteComponentProps) {\r\n  return <Redirect to={{ ...location, pathname: '/swap' }} />\r\n}\r\n\r\n// Redirects from the /swap/:outputCurrency path to the /swap?outputCurrency=:outputCurrency format\r\nexport function RedirectToSwap(props: RouteComponentProps<{ outputCurrency: string }>) {\r\n  const {\r\n    location: { search },\r\n    match: {\r\n      params: { outputCurrency }\r\n    }\r\n  } = props\r\n\r\n  return (\r\n    <Redirect\r\n      to={{\r\n        ...props.location,\r\n        pathname: '/swap',\r\n        search:\r\n          search && search.length > 1\r\n            ? `${search}&outputCurrency=${outputCurrency}`\r\n            : `?outputCurrency=${outputCurrency}`\r\n      }}\r\n    />\r\n  )\r\n}\r\n","import React, { Suspense } from 'react'\r\nimport { HashRouter, Route, Switch } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport GoogleAnalyticsReporter from '../components/analytics/GoogleAnalyticsReporter'\r\nimport Header from '../components/Header'\r\nimport Popups from '../components/Popups'\r\nimport Web3ReactManager from '../components/Web3ReactManager'\r\nimport DarkModeQueryParamReader from '../theme/DarkModeQueryParamReader'\r\nimport AddLiquidity from './AddLiquidity'\r\nimport {\r\n  RedirectDuplicateTokenIds,\r\n  RedirectOldAddLiquidityPathStructure,\r\n  RedirectToAddLiquidity\r\n} from './AddLiquidity/redirects'\r\nimport Pool from './Pool'\r\nimport PoolFinder from './PoolFinder'\r\nimport RemoveLiquidity from './RemoveLiquidity'\r\nimport { RedirectOldRemoveLiquidityPathStructure } from './RemoveLiquidity/redirects'\r\nimport Swap from './Swap'\r\nimport { RedirectPathToSwapOnly, RedirectToSwap } from './Swap/redirects'\r\n\r\nconst AppWrapper = styled.div`\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: flex-start;\r\n  overflow-x: hidden;\r\n`\r\n\r\nconst HeaderWrapper = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  width: 100%;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst BodyWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding-top: 160px;\r\n  align-items: center;\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  z-index: 10;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n      padding: 16px;\r\n  `};\r\n\r\n  z-index: 1;\r\n`\r\n\r\nconst Marginer = styled.div`\r\n  margin-top: 5rem;\r\n`\r\n\r\nexport default function App() {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <HashRouter>\r\n        <Route component={GoogleAnalyticsReporter} />\r\n        <Route component={DarkModeQueryParamReader} />\r\n        <AppWrapper>\r\n          <HeaderWrapper>\r\n            <Header />\r\n          </HeaderWrapper>\r\n          <BodyWrapper>\r\n            <Popups />\r\n            <Web3ReactManager>\r\n              <Switch>\r\n                <Route exact strict path=\"/swap\" component={Swap} />\r\n                <Route exact strict path=\"/swap/:outputCurrency\" component={RedirectToSwap} />\r\n                <Route exact strict path=\"/send\" component={RedirectPathToSwapOnly} />\r\n                <Route exact strict path=\"/find\" component={PoolFinder} />\r\n                <Route exact strict path=\"/pool\" component={Pool} />\r\n                <Route exact strict path=\"/create\" component={RedirectToAddLiquidity} />\r\n                <Route exact path=\"/add\" component={AddLiquidity} />\r\n                <Route exact path=\"/add/:currencyIdA\" component={RedirectOldAddLiquidityPathStructure} />\r\n                <Route exact path=\"/add/:currencyIdA/:currencyIdB\" component={RedirectDuplicateTokenIds} />\r\n                <Route exact strict path=\"/remove/:tokens\" component={RedirectOldRemoveLiquidityPathStructure} />\r\n                <Route exact strict path=\"/remove/:currencyIdA/:currencyIdB\" component={RemoveLiquidity} />\r\n                <Route component={RedirectPathToSwapOnly} />\r\n              </Switch>\r\n            </Web3ReactManager>\r\n            <Marginer />\r\n          </BodyWrapper>\r\n        </AppWrapper>\r\n      </HashRouter>\r\n    </Suspense>\r\n  )\r\n}\r\n","import { createReducer, nanoid } from '@reduxjs/toolkit'\r\nimport {\r\n  addPopup,\r\n  PopupContent,\r\n  removePopup,\r\n  toggleWalletModal,\r\n  toggleSettingsMenu,\r\n  updateBlockNumber\r\n} from './actions'\r\n\r\ntype PopupList = Array<{ key: string; show: boolean; content: PopupContent; removeAfterMs: number | null }>\r\n\r\nexport interface ApplicationState {\r\n  blockNumber: { [chainId: number]: number }\r\n  popupList: PopupList\r\n  walletModalOpen: boolean\r\n  settingsMenuOpen: boolean\r\n}\r\n\r\nconst initialState: ApplicationState = {\r\n  blockNumber: {},\r\n  popupList: [],\r\n  walletModalOpen: false,\r\n  settingsMenuOpen: false\r\n}\r\n\r\nexport default createReducer(initialState, builder =>\r\n  builder\r\n    .addCase(updateBlockNumber, (state, action) => {\r\n      const { chainId, blockNumber } = action.payload\r\n      if (typeof state.blockNumber[chainId] !== 'number') {\r\n        state.blockNumber[chainId] = blockNumber\r\n      } else {\r\n        state.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId])\r\n      }\r\n    })\r\n    .addCase(toggleWalletModal, state => {\r\n      state.walletModalOpen = !state.walletModalOpen\r\n    })\r\n    .addCase(toggleSettingsMenu, state => {\r\n      state.settingsMenuOpen = !state.settingsMenuOpen\r\n    })\r\n    .addCase(addPopup, (state, { payload: { content, key, removeAfterMs = 15000 } }) => {\r\n      state.popupList = (key ? state.popupList.filter(popup => popup.key !== key) : state.popupList).concat([\r\n        {\r\n          key: key || nanoid(),\r\n          show: true,\r\n          content,\r\n          removeAfterMs\r\n        }\r\n      ])\r\n    })\r\n    .addCase(removePopup, (state, { payload: { key } }) => {\r\n      state.popupList.forEach(p => {\r\n        if (p.key === key) {\r\n          p.show = false\r\n        }\r\n      })\r\n    })\r\n)\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\n// fired once when the app reloads but before the app renders\r\n// allows any updates to be applied to store data loaded from localStorage\r\nexport const updateVersion = createAction<void>('global/updateVersion')\r\n","import { INITIAL_ALLOWED_SLIPPAGE, DEFAULT_DEADLINE_FROM_NOW } from '../../constants'\r\nimport { createReducer } from '@reduxjs/toolkit'\r\nimport { updateVersion } from '../global/actions'\r\nimport {\r\n  addSerializedPair,\r\n  addSerializedToken,\r\n  removeSerializedPair,\r\n  removeSerializedToken,\r\n  SerializedPair,\r\n  SerializedToken,\r\n  updateMatchesDarkMode,\r\n  updateUserDarkMode,\r\n  updateUserExpertMode,\r\n  updateUserSlippageTolerance,\r\n  updateUserDeadline\r\n} from './actions'\r\n\r\nconst currentTimestamp = () => new Date().getTime()\r\n\r\nexport interface UserState {\r\n  // the timestamp of the last updateVersion action\r\n  lastUpdateVersionTimestamp?: number\r\n\r\n  userDarkMode: boolean | null // the user's choice for dark mode or light mode\r\n  matchesDarkMode: boolean // whether the dark mode media query matches\r\n\r\n  userExpertMode: boolean\r\n\r\n  // user defined slippage tolerance in bips, used in all txns\r\n  userSlippageTolerance: number\r\n\r\n  // deadline set by user in minutes, used in all txns\r\n  userDeadline: number\r\n\r\n  tokens: {\r\n    [chainId: number]: {\r\n      [address: string]: SerializedToken\r\n    }\r\n  }\r\n\r\n  pairs: {\r\n    [chainId: number]: {\r\n      // keyed by token0Address:token1Address\r\n      [key: string]: SerializedPair\r\n    }\r\n  }\r\n\r\n  timestamp: number\r\n}\r\n\r\nfunction pairKey(token0Address: string, token1Address: string) {\r\n  return `${token0Address};${token1Address}`\r\n}\r\n\r\nexport const initialState: UserState = {\r\n  userDarkMode: null,\r\n  matchesDarkMode: false,\r\n  userExpertMode: false,\r\n  userSlippageTolerance: INITIAL_ALLOWED_SLIPPAGE,\r\n  userDeadline: DEFAULT_DEADLINE_FROM_NOW,\r\n  tokens: {},\r\n  pairs: {},\r\n  timestamp: currentTimestamp()\r\n}\r\n\r\nexport default createReducer(initialState, builder =>\r\n  builder\r\n    .addCase(updateVersion, state => {\r\n      // slippage isnt being tracked in local storage, reset to default\r\n      // noinspection SuspiciousTypeOfGuard\r\n      if (typeof state.userSlippageTolerance !== 'number') {\r\n        state.userSlippageTolerance = INITIAL_ALLOWED_SLIPPAGE\r\n      }\r\n\r\n      // deadline isnt being tracked in local storage, reset to default\r\n      // noinspection SuspiciousTypeOfGuard\r\n      if (typeof state.userDeadline !== 'number') {\r\n        state.userDeadline = DEFAULT_DEADLINE_FROM_NOW\r\n      }\r\n\r\n      state.lastUpdateVersionTimestamp = currentTimestamp()\r\n    })\r\n    .addCase(updateUserDarkMode, (state, action) => {\r\n      state.userDarkMode = action.payload.userDarkMode\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(updateMatchesDarkMode, (state, action) => {\r\n      state.matchesDarkMode = action.payload.matchesDarkMode\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(updateUserExpertMode, (state, action) => {\r\n      state.userExpertMode = action.payload.userExpertMode\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(updateUserSlippageTolerance, (state, action) => {\r\n      state.userSlippageTolerance = action.payload.userSlippageTolerance\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(updateUserDeadline, (state, action) => {\r\n      state.userDeadline = action.payload.userDeadline\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(addSerializedToken, (state, { payload: { serializedToken } }) => {\r\n      state.tokens[serializedToken.chainId] = state.tokens[serializedToken.chainId] || {}\r\n      state.tokens[serializedToken.chainId][serializedToken.address] = serializedToken\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(removeSerializedToken, (state, { payload: { address, chainId } }) => {\r\n      state.tokens[chainId] = state.tokens[chainId] || {}\r\n      delete state.tokens[chainId][address]\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(addSerializedPair, (state, { payload: { serializedPair } }) => {\r\n      if (\r\n        serializedPair.token0.chainId === serializedPair.token1.chainId &&\r\n        serializedPair.token0.address !== serializedPair.token1.address\r\n      ) {\r\n        const chainId = serializedPair.token0.chainId\r\n        state.pairs[chainId] = state.pairs[chainId] || {}\r\n        state.pairs[chainId][pairKey(serializedPair.token0.address, serializedPair.token1.address)] = serializedPair\r\n      }\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(removeSerializedPair, (state, { payload: { chainId, tokenAAddress, tokenBAddress } }) => {\r\n      if (state.pairs[chainId]) {\r\n        // just delete both keys if either exists\r\n        delete state.pairs[chainId][pairKey(tokenAAddress, tokenBAddress)]\r\n        delete state.pairs[chainId][pairKey(tokenBAddress, tokenAAddress)]\r\n      }\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n)\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport {\r\n  addTransaction,\r\n  checkedTransaction,\r\n  clearAllTransactions,\r\n  finalizeTransaction,\r\n  SerializableTransactionReceipt\r\n} from './actions'\r\n\r\nconst now = () => new Date().getTime()\r\n\r\nexport interface TransactionDetails {\r\n  hash: string\r\n  approval?: { tokenAddress: string; spender: string }\r\n  summary?: string\r\n  receipt?: SerializableTransactionReceipt\r\n  lastCheckedBlockNumber?: number\r\n  addedTime: number\r\n  confirmedTime?: number\r\n  from: string\r\n}\r\n\r\nexport interface TransactionState {\r\n  [chainId: number]: {\r\n    [txHash: string]: TransactionDetails\r\n  }\r\n}\r\n\r\nexport const initialState: TransactionState = {}\r\n\r\nexport default createReducer(initialState, builder =>\r\n  builder\r\n    .addCase(addTransaction, (transactions, { payload: { chainId, from, hash, approval, summary } }) => {\r\n      if (transactions[chainId]?.[hash]) {\r\n        throw Error('Attempted to add existing transaction.')\r\n      }\r\n      const txs = transactions[chainId] ?? {}\r\n      txs[hash] = { hash, approval, summary, from, addedTime: now() }\r\n      transactions[chainId] = txs\r\n    })\r\n    .addCase(clearAllTransactions, (transactions, { payload: { chainId } }) => {\r\n      if (!transactions[chainId]) return\r\n      transactions[chainId] = {}\r\n    })\r\n    .addCase(checkedTransaction, (transactions, { payload: { chainId, hash, blockNumber } }) => {\r\n      const tx = transactions[chainId]?.[hash]\r\n      if (!tx) {\r\n        return\r\n      }\r\n      if (!tx.lastCheckedBlockNumber) {\r\n        tx.lastCheckedBlockNumber = blockNumber\r\n      } else {\r\n        tx.lastCheckedBlockNumber = Math.max(blockNumber, tx.lastCheckedBlockNumber)\r\n      }\r\n    })\r\n    .addCase(finalizeTransaction, (transactions, { payload: { hash, chainId, receipt } }) => {\r\n      const tx = transactions[chainId]?.[hash]\r\n      if (!tx) {\r\n        return\r\n      }\r\n      tx.receipt = receipt\r\n      tx.confirmedTime = now()\r\n    })\r\n)\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { Field, replaceSwapState, selectCurrency, setRecipient, switchCurrencies, typeInput } from './actions'\r\n\r\nexport interface SwapState {\r\n  readonly independentField: Field\r\n  readonly typedValue: string\r\n  readonly [Field.INPUT]: {\r\n    readonly currencyId: string | undefined\r\n  }\r\n  readonly [Field.OUTPUT]: {\r\n    readonly currencyId: string | undefined\r\n  }\r\n  // the typed recipient address or ENS name, or null if swap should go to sender\r\n  readonly recipient: string | null\r\n}\r\n\r\nconst initialState: SwapState = {\r\n  independentField: Field.INPUT,\r\n  typedValue: '',\r\n  [Field.INPUT]: {\r\n    currencyId: ''\r\n  },\r\n  [Field.OUTPUT]: {\r\n    currencyId: ''\r\n  },\r\n  recipient: null\r\n}\r\n\r\nexport default createReducer<SwapState>(initialState, builder =>\r\n  builder\r\n    .addCase(\r\n      replaceSwapState,\r\n      (state, { payload: { typedValue, recipient, field, inputCurrencyId, outputCurrencyId } }) => {\r\n        return {\r\n          [Field.INPUT]: {\r\n            currencyId: inputCurrencyId\r\n          },\r\n          [Field.OUTPUT]: {\r\n            currencyId: outputCurrencyId\r\n          },\r\n          independentField: field,\r\n          typedValue: typedValue,\r\n          recipient\r\n        }\r\n      }\r\n    )\r\n    .addCase(selectCurrency, (state, { payload: { currencyId, field } }) => {\r\n      const otherField = field === Field.INPUT ? Field.OUTPUT : Field.INPUT\r\n      if (currencyId === state[otherField].currencyId) {\r\n        // the case where we have to swap the order\r\n        return {\r\n          ...state,\r\n          independentField: state.independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT,\r\n          [field]: { currencyId: currencyId },\r\n          [otherField]: { currencyId: state[field].currencyId }\r\n        }\r\n      } else {\r\n        // the normal case\r\n        return {\r\n          ...state,\r\n          [field]: { currencyId: currencyId }\r\n        }\r\n      }\r\n    })\r\n    .addCase(switchCurrencies, state => {\r\n      return {\r\n        ...state,\r\n        independentField: state.independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT,\r\n        [Field.INPUT]: { currencyId: state[Field.OUTPUT].currencyId },\r\n        [Field.OUTPUT]: { currencyId: state[Field.INPUT].currencyId }\r\n      }\r\n    })\r\n    .addCase(typeInput, (state, { payload: { field, typedValue } }) => {\r\n      return {\r\n        ...state,\r\n        independentField: field,\r\n        typedValue\r\n      }\r\n    })\r\n    .addCase(setRecipient, (state, { payload: { recipient } }) => {\r\n      state.recipient = recipient\r\n    })\r\n)\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { Field, resetMintState, typeInput } from './actions'\r\n\r\nexport interface MintState {\r\n  readonly independentField: Field\r\n  readonly typedValue: string\r\n  readonly otherTypedValue: string // for the case when there's no liquidity\r\n}\r\n\r\nconst initialState: MintState = {\r\n  independentField: Field.CURRENCY_A,\r\n  typedValue: '',\r\n  otherTypedValue: ''\r\n}\r\n\r\nexport default createReducer<MintState>(initialState, builder =>\r\n  builder\r\n    .addCase(resetMintState, () => initialState)\r\n    .addCase(typeInput, (state, { payload: { field, typedValue, noLiquidity } }) => {\r\n      if (noLiquidity) {\r\n        // they're typing into the field they've last typed in\r\n        if (field === state.independentField) {\r\n          return {\r\n            ...state,\r\n            independentField: field,\r\n            typedValue\r\n          }\r\n        }\r\n        // they're typing into a new field, store the other value\r\n        else {\r\n          return {\r\n            ...state,\r\n            independentField: field,\r\n            typedValue,\r\n            otherTypedValue: state.typedValue\r\n          }\r\n        }\r\n      } else {\r\n        return {\r\n          ...state,\r\n          independentField: field,\r\n          typedValue,\r\n          otherTypedValue: ''\r\n        }\r\n      }\r\n    })\r\n)\r\n","// è¿™é‡Œå­˜å‚¨äº†é»˜è®¤çš„ä»£å¸åˆ—è¡¨ã€‚\r\nexport const DEFAULT_TOKEN_LIST_URL = 'https://swap.tronfund.xyz/token.json?v=1.2'\r\n\r\nexport const DEFAULT_LIST_OF_LISTS: string[] = [\r\n  DEFAULT_TOKEN_LIST_URL,\r\n]\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { getVersionUpgrade, VersionUpgrade } from '@uniswap/token-lists'\r\nimport { TokenList } from '@uniswap/token-lists/dist/types'\r\nimport { DEFAULT_LIST_OF_LISTS, DEFAULT_TOKEN_LIST_URL } from '../../constants/lists'\r\nimport { updateVersion } from '../global/actions'\r\nimport { acceptListUpdate, addList, fetchTokenList, removeList, selectList } from './actions'\r\nimport UNISWAP_DEFAULT_LIST from '@uniswap/default-token-list'\r\n\r\nexport interface ListsState {\r\n  readonly byUrl: {\r\n    readonly [url: string]: {\r\n      readonly current: TokenList | null\r\n      readonly pendingUpdate: TokenList | null\r\n      readonly loadingRequestId: string | null\r\n      readonly error: string | null\r\n    }\r\n  }\r\n  // this contains the default list of lists from the last time the updateVersion was called, i.e. the app was reloaded\r\n  readonly lastInitializedDefaultListOfLists?: string[]\r\n  readonly selectedListUrl: string | undefined\r\n}\r\n\r\nconst NEW_LIST_STATE: ListsState['byUrl'][string] = {\r\n  error: null,\r\n  current: null,\r\n  loadingRequestId: null,\r\n  pendingUpdate: null\r\n}\r\n\r\ntype Mutable<T> = { -readonly [P in keyof T]: T[P] extends ReadonlyArray<infer U> ? U[] : T[P] }\r\n\r\nconst initialState: ListsState = {\r\n  lastInitializedDefaultListOfLists: DEFAULT_LIST_OF_LISTS,\r\n  byUrl: {\r\n    ...DEFAULT_LIST_OF_LISTS.reduce<Mutable<ListsState['byUrl']>>((memo, listUrl) => {\r\n      memo[listUrl] = NEW_LIST_STATE\r\n      return memo\r\n    }, {}),\r\n    [DEFAULT_TOKEN_LIST_URL]: {\r\n      error: null,\r\n      current: UNISWAP_DEFAULT_LIST,\r\n      loadingRequestId: null,\r\n      pendingUpdate: null\r\n    }\r\n  },\r\n  selectedListUrl: undefined\r\n}\r\n\r\nexport default createReducer(initialState, builder =>\r\n  builder\r\n    .addCase(fetchTokenList.pending, (state, { payload: { requestId, url } }) => {\r\n      state.byUrl[url] = {\r\n        current: null,\r\n        pendingUpdate: null,\r\n        ...state.byUrl[url],\r\n        loadingRequestId: requestId,\r\n        error: null\r\n      }\r\n    })\r\n    .addCase(fetchTokenList.fulfilled, (state, { payload: { requestId, tokenList, url } }) => {\r\n      const current = state.byUrl[url]?.current\r\n      const loadingRequestId = state.byUrl[url]?.loadingRequestId\r\n\r\n      // no-op if update does nothing\r\n      if (current) {\r\n        const upgradeType = getVersionUpgrade(current.version, tokenList.version)\r\n        if (upgradeType === VersionUpgrade.NONE) return\r\n        if (loadingRequestId === null || loadingRequestId === requestId) {\r\n          state.byUrl[url] = {\r\n            ...state.byUrl[url],\r\n            loadingRequestId: null,\r\n            error: null,\r\n            current: current,\r\n            pendingUpdate: tokenList\r\n          }\r\n        }\r\n      } else {\r\n        state.byUrl[url] = {\r\n          ...state.byUrl[url],\r\n          loadingRequestId: null,\r\n          error: null,\r\n          current: tokenList,\r\n          pendingUpdate: null\r\n        }\r\n      }\r\n    })\r\n    .addCase(fetchTokenList.rejected, (state, { payload: { url, requestId, errorMessage } }) => {\r\n      if (state.byUrl[url]?.loadingRequestId !== requestId) {\r\n        // no-op since it's not the latest request\r\n        return\r\n      }\r\n\r\n      state.byUrl[url] = {\r\n        ...state.byUrl[url],\r\n        loadingRequestId: null,\r\n        error: errorMessage,\r\n        current: null,\r\n        pendingUpdate: null\r\n      }\r\n    })\r\n    .addCase(selectList, (state, { payload: url }) => {\r\n      state.selectedListUrl = url\r\n      // automatically adds list\r\n      if (!state.byUrl[url]) {\r\n        state.byUrl[url] = NEW_LIST_STATE\r\n      }\r\n    })\r\n    .addCase(addList, (state, { payload: url }) => {\r\n      if (!state.byUrl[url]) {\r\n        state.byUrl[url] = NEW_LIST_STATE\r\n      }\r\n    })\r\n    .addCase(removeList, (state, { payload: url }) => {\r\n      if (state.byUrl[url]) {\r\n        delete state.byUrl[url]\r\n      }\r\n      if (state.selectedListUrl === url) {\r\n        state.selectedListUrl = Object.keys(state.byUrl)[0]\r\n      }\r\n    })\r\n    .addCase(acceptListUpdate, (state, { payload: url }) => {\r\n      if (!state.byUrl[url]?.pendingUpdate) {\r\n        throw new Error('accept list update called without pending update')\r\n      }\r\n      state.byUrl[url] = {\r\n        ...state.byUrl[url],\r\n        pendingUpdate: null,\r\n        current: state.byUrl[url].pendingUpdate\r\n      }\r\n    })\r\n    .addCase(updateVersion, state => {\r\n      // state loaded from localStorage, but new lists have never been initialized\r\n      if (!state.lastInitializedDefaultListOfLists) {\r\n        state.byUrl = initialState.byUrl\r\n        state.selectedListUrl = undefined\r\n      } else if (state.lastInitializedDefaultListOfLists) {\r\n        const lastInitializedSet = state.lastInitializedDefaultListOfLists.reduce<Set<string>>(\r\n          (s, l) => s.add(l),\r\n          new Set()\r\n        )\r\n        const newListOfListsSet = DEFAULT_LIST_OF_LISTS.reduce<Set<string>>((s, l) => s.add(l), new Set())\r\n\r\n        DEFAULT_LIST_OF_LISTS.forEach(listUrl => {\r\n          if (!lastInitializedSet.has(listUrl)) {\r\n            state.byUrl[listUrl] = NEW_LIST_STATE\r\n          }\r\n        })\r\n\r\n        state.lastInitializedDefaultListOfLists.forEach(listUrl => {\r\n          if (!newListOfListsSet.has(listUrl)) {\r\n            delete state.byUrl[listUrl]\r\n          }\r\n        })\r\n      }\r\n\r\n      state.lastInitializedDefaultListOfLists = DEFAULT_LIST_OF_LISTS\r\n    })\r\n)\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { Field, typeInput } from './actions'\r\n\r\nexport interface BurnState {\r\n  readonly independentField: Field\r\n  readonly typedValue: string\r\n}\r\n\r\nconst initialState: BurnState = {\r\n  independentField: Field.LIQUIDITY_PERCENT,\r\n  typedValue: '0'\r\n}\r\n\r\nexport default createReducer<BurnState>(initialState, builder =>\r\n  builder.addCase(typeInput, (state, { payload: { field, typedValue } }) => {\r\n    return {\r\n      ...state,\r\n      independentField: field,\r\n      typedValue\r\n    }\r\n  })\r\n)\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport {\r\n  addMulticallListeners,\r\n  errorFetchingMulticallResults,\r\n  fetchingMulticallResults,\r\n  removeMulticallListeners,\r\n  toCallKey,\r\n  updateMulticallResults\r\n} from './actions'\r\n\r\nexport interface MulticallState {\r\n  callListeners?: {\r\n    // on a per-chain basis\r\n    [chainId: number]: {\r\n      // stores for each call key the listeners' preferences\r\n      [callKey: string]: {\r\n        // stores how many listeners there are per each blocks per fetch preference\r\n        [blocksPerFetch: number]: number\r\n      }\r\n    }\r\n  }\r\n\r\n  callResults: {\r\n    [chainId: number]: {\r\n      [callKey: string]: {\r\n        data?: string | null\r\n        blockNumber?: number\r\n        fetchingBlockNumber?: number\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst initialState: MulticallState = {\r\n  callResults: {}\r\n}\r\n\r\nexport default createReducer(initialState, builder =>\r\n  builder\r\n    .addCase(addMulticallListeners, (state, { payload: { calls, chainId, options: { blocksPerFetch = 1 } = {} } }) => {\r\n      const listeners: MulticallState['callListeners'] = state.callListeners\r\n        ? state.callListeners\r\n        : (state.callListeners = {})\r\n      listeners[chainId] = listeners[chainId] ?? {}\r\n      calls.forEach(call => {\r\n        const callKey = toCallKey(call)\r\n        listeners[chainId][callKey] = listeners[chainId][callKey] ?? {}\r\n        listeners[chainId][callKey][blocksPerFetch] = (listeners[chainId][callKey][blocksPerFetch] ?? 0) + 1\r\n      })\r\n    })\r\n    .addCase(\r\n      removeMulticallListeners,\r\n      (state, { payload: { chainId, calls, options: { blocksPerFetch = 1 } = {} } }) => {\r\n        const listeners: MulticallState['callListeners'] = state.callListeners\r\n          ? state.callListeners\r\n          : (state.callListeners = {})\r\n\r\n        if (!listeners[chainId]) return\r\n        calls.forEach(call => {\r\n          const callKey = toCallKey(call)\r\n          if (!listeners[chainId][callKey]) return\r\n          if (!listeners[chainId][callKey][blocksPerFetch]) return\r\n\r\n          if (listeners[chainId][callKey][blocksPerFetch] === 1) {\r\n            delete listeners[chainId][callKey][blocksPerFetch]\r\n          } else {\r\n            listeners[chainId][callKey][blocksPerFetch]--\r\n          }\r\n        })\r\n      }\r\n    )\r\n    .addCase(fetchingMulticallResults, (state, { payload: { chainId, fetchingBlockNumber, calls } }) => {\r\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\r\n      calls.forEach(call => {\r\n        const callKey = toCallKey(call)\r\n        const current = state.callResults[chainId][callKey]\r\n        if (!current) {\r\n          state.callResults[chainId][callKey] = {\r\n            fetchingBlockNumber\r\n          }\r\n        } else {\r\n          if ((current.fetchingBlockNumber ?? 0) >= fetchingBlockNumber) return\r\n          state.callResults[chainId][callKey].fetchingBlockNumber = fetchingBlockNumber\r\n        }\r\n      })\r\n    })\r\n    .addCase(errorFetchingMulticallResults, (state, { payload: { fetchingBlockNumber, chainId, calls } }) => {\r\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\r\n      calls.forEach(call => {\r\n        const callKey = toCallKey(call)\r\n        const current = state.callResults[chainId][callKey]\r\n        if (!current) return // only should be dispatched if we are already fetching\r\n        if (current.fetchingBlockNumber === fetchingBlockNumber) {\r\n          delete current.fetchingBlockNumber\r\n          current.data = null\r\n          current.blockNumber = fetchingBlockNumber\r\n        }\r\n      })\r\n    })\r\n    .addCase(updateMulticallResults, (state, { payload: { chainId, results, blockNumber } }) => {\r\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\r\n      Object.keys(results).forEach(callKey => {\r\n        const current = state.callResults[chainId][callKey]\r\n        if ((current?.blockNumber ?? 0) > blockNumber) return\r\n        state.callResults[chainId][callKey] = {\r\n          data: results[callKey],\r\n          blockNumber\r\n        }\r\n      })\r\n    })\r\n)\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit'\r\nimport { save, load } from 'redux-localstorage-simple'\r\n\r\nimport application from './application/reducer'\r\nimport { updateVersion } from './global/actions'\r\nimport user from './user/reducer'\r\nimport transactions from './transactions/reducer'\r\nimport swap from './swap/reducer'\r\nimport mint from './mint/reducer'\r\nimport lists from './lists/reducer'\r\nimport burn from './burn/reducer'\r\nimport multicall from './multicall/reducer'\r\n\r\nconst PERSISTED_KEYS: string[] = ['user', 'transactions', 'lists']\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    application,\r\n    user,\r\n    transactions,\r\n    swap,\r\n    mint,\r\n    burn,\r\n    multicall,\r\n    lists\r\n  },\r\n  middleware: [...getDefaultMiddleware({ thunk: false }), save({ states: PERSISTED_KEYS })],\r\n  preloadedState: load({ states: PERSISTED_KEYS })\r\n})\r\n\r\nstore.dispatch(updateVersion())\r\n\r\nexport default store\r\n\r\nexport type AppState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\n","import { useCallback, useEffect, useState } from 'react'\r\n\r\nconst VISIBILITY_STATE_SUPPORTED = 'visibilityState' in document\r\n\r\nfunction isWindowVisible() {\r\n  return !VISIBILITY_STATE_SUPPORTED || document.visibilityState !== 'hidden'\r\n}\r\n\r\n/**\r\n * Returns whether the window is currently visible to the user.\r\n */\r\nexport default function useIsWindowVisible(): boolean {\r\n  const [focused, setFocused] = useState<boolean>(isWindowVisible())\r\n  const listener = useCallback(() => {\r\n    setFocused(isWindowVisible())\r\n  }, [setFocused])\r\n\r\n  useEffect(() => {\r\n    if (!VISIBILITY_STATE_SUPPORTED) return undefined\r\n\r\n    document.addEventListener('visibilitychange', listener)\r\n    return () => {\r\n      document.removeEventListener('visibilitychange', listener)\r\n    }\r\n  }, [listener])\r\n\r\n  return focused\r\n}\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport useDebounce from '../../hooks/useDebounce'\r\nimport useIsWindowVisible from '../../hooks/useIsWindowVisible'\r\nimport { updateBlockNumber } from './actions'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nexport default function Updater(): null {\r\n  const { library, chainId } = useActiveWeb3React()\r\n  const dispatch = useDispatch()\r\n\r\n  const windowVisible = useIsWindowVisible()\r\n\r\n  const [state, setState] = useState<{ chainId: number | undefined; blockNumber: number | null }>({\r\n    chainId,\r\n    blockNumber: null\r\n  })\r\n\r\n  const blockNumberCallback = useCallback(\r\n    (blockNumber: number) => {\r\n      setState(state => {\r\n        if (chainId === state.chainId) {\r\n          if (typeof state.blockNumber !== 'number') return { chainId, blockNumber }\r\n          return { chainId, blockNumber: Math.max(blockNumber, state.blockNumber) }\r\n        }\r\n        return state\r\n      })\r\n    },\r\n    [chainId, setState]\r\n  )\r\n\r\n  // attach/detach listeners\r\n  useEffect(() => {\r\n    if (!library || !chainId || !windowVisible) return undefined\r\n\r\n    setState({ chainId, blockNumber: null })\r\n\r\n    library\r\n      .getBlockNumber()\r\n      .then(blockNumberCallback)\r\n      .catch(error => console.error(`Failed to get block number for chainId: ${chainId}`, error))\r\n\r\n    library.on('block', blockNumberCallback)\r\n    return () => {\r\n      library.removeListener('block', blockNumberCallback)\r\n    }\r\n  }, [dispatch, chainId, library, blockNumberCallback, windowVisible])\r\n\r\n  const debouncedState = useDebounce(state, 100)\r\n\r\n  useEffect(() => {\r\n    if (!debouncedState.chainId || !debouncedState.blockNumber || !windowVisible) return\r\n    dispatch(updateBlockNumber({ chainId: debouncedState.chainId, blockNumber: debouncedState.blockNumber }))\r\n  }, [windowVisible, dispatch, debouncedState.blockNumber, debouncedState.chainId])\r\n\r\n  return null\r\n}\r\n","import { getVersionUpgrade, minVersionBump, VersionUpgrade } from '@uniswap/token-lists'\r\nimport { useCallback, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useFetchListCallback } from '../../hooks/useFetchListCallback'\r\nimport useInterval from '../../hooks/useInterval'\r\nimport useIsWindowVisible from '../../hooks/useIsWindowVisible'\r\nimport { addPopup } from '../application/actions'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { acceptListUpdate } from './actions'\r\n\r\nexport default function Updater(): null {\r\n  const { library } = useActiveWeb3React()\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const lists = useSelector<AppState, AppState['lists']['byUrl']>(state => state.lists.byUrl)\r\n\r\n  const isWindowVisible = useIsWindowVisible()\r\n\r\n  const fetchList = useFetchListCallback()\r\n\r\n  const fetchAllListsCallback = useCallback(() => {\r\n    if (!isWindowVisible) return\r\n    Object.keys(lists).forEach(url =>\r\n      fetchList(url).catch(error => console.debug('interval list fetching error', error))\r\n    )\r\n  }, [fetchList, isWindowVisible, lists])\r\n\r\n  // fetch all lists every 10 minutes, but only after we initialize library\r\n  useInterval(fetchAllListsCallback, library ? 1000 * 60 * 10 : null)\r\n\r\n  // whenever a list is not loaded and not loading, try again to load it\r\n  useEffect(() => {\r\n    Object.keys(lists).forEach(listUrl => {\r\n      const list = lists[listUrl]\r\n\r\n      if (!list.current && !list.loadingRequestId && !list.error) {\r\n        fetchList(listUrl).catch(error => console.debug('list added fetching error', error))\r\n      }\r\n    })\r\n  }, [dispatch, fetchList, library, lists])\r\n\r\n  // automatically update lists if versions are minor/patch\r\n  useEffect(() => {\r\n    Object.keys(lists).forEach(listUrl => {\r\n      const list = lists[listUrl]\r\n      if (list.current && list.pendingUpdate) {\r\n        const bump = getVersionUpgrade(list.current.version, list.pendingUpdate.version)\r\n        switch (bump) {\r\n          case VersionUpgrade.NONE:\r\n            throw new Error('unexpected no version bump')\r\n          case VersionUpgrade.PATCH:\r\n          case VersionUpgrade.MINOR:\r\n            const min = minVersionBump(list.current.tokens, list.pendingUpdate.tokens)\r\n            // automatically update minor/patch as long as bump matches the min update\r\n            if (bump >= min) {\r\n              dispatch(acceptListUpdate(listUrl))\r\n              dispatch(\r\n                addPopup({\r\n                  key: listUrl,\r\n                  content: {\r\n                    listUpdate: {\r\n                      listUrl,\r\n                      oldList: list.current,\r\n                      newList: list.pendingUpdate,\r\n                      auto: true\r\n                    }\r\n                  }\r\n                })\r\n              )\r\n            } else {\r\n              console.error(\r\n                `List at url ${listUrl} could not automatically update because the version bump was only PATCH/MINOR while the update had breaking changes and should have been MAJOR`\r\n              )\r\n            }\r\n            break\r\n\r\n          case VersionUpgrade.MAJOR:\r\n            dispatch(\r\n              addPopup({\r\n                key: listUrl,\r\n                content: {\r\n                  listUpdate: {\r\n                    listUrl,\r\n                    auto: false,\r\n                    oldList: list.current,\r\n                    newList: list.pendingUpdate\r\n                  }\r\n                },\r\n                removeAfterMs: null\r\n              })\r\n            )\r\n        }\r\n      }\r\n    })\r\n  }, [dispatch, lists])\r\n\r\n  return null\r\n}\r\n","function wait(ms: number): Promise<void> {\r\n  return new Promise(resolve => setTimeout(resolve, ms))\r\n}\r\n\r\nfunction waitRandom(min: number, max: number): Promise<void> {\r\n  return wait(min + Math.round(Math.random() * Math.max(0, max - min)))\r\n}\r\n\r\n/**\r\n * This error is thrown if the function is cancelled before completing\r\n */\r\nexport class CancelledError extends Error {\r\n  constructor() {\r\n    super('Cancelled')\r\n  }\r\n}\r\n\r\n/**\r\n * Throw this error if the function should retry\r\n */\r\nexport class RetryableError extends Error {}\r\n\r\n/**\r\n * Retries the function that returns the promise until the promise successfully resolves up to n retries\r\n * @param fn function to retry\r\n * @param n how many times to retry\r\n * @param minWait min wait between retries in ms\r\n * @param maxWait max wait between retries in ms\r\n */\r\nexport function retry<T>(\r\n  fn: () => Promise<T>,\r\n  { n, minWait, maxWait }: { n: number; minWait: number; maxWait: number }\r\n): { promise: Promise<T>; cancel: () => void } {\r\n  let completed = false\r\n  let rejectCancelled: (error: Error) => void\r\n  const promise = new Promise<T>(async (resolve, reject) => {\r\n    rejectCancelled = reject\r\n    while (true) {\r\n      let result: T\r\n      try {\r\n        result = await fn()\r\n        if (!completed) {\r\n          resolve(result)\r\n          completed = true\r\n        }\r\n        break\r\n      } catch (error) {\r\n        if (completed) {\r\n          break\r\n        }\r\n        if (n <= 0 || !(error instanceof RetryableError)) {\r\n          reject(error)\r\n          completed = true\r\n          break\r\n        }\r\n        n--\r\n      }\r\n      await waitRandom(minWait, maxWait)\r\n    }\r\n  })\r\n  return {\r\n    promise,\r\n    cancel: () => {\r\n      if (completed) return\r\n      completed = true\r\n      rejectCancelled(new CancelledError())\r\n    }\r\n  }\r\n}\r\n","import { Contract } from '@ethersproject/contracts'\r\nimport { useEffect, useMemo, useRef } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useMulticallContract } from '../../hooks/useContract'\r\nimport useDebounce from '../../hooks/useDebounce'\r\nimport chunkArray from '../../utils/chunkArray'\r\nimport { CancelledError, retry, RetryableError } from '../../utils/retry'\r\nimport { useBlockNumber } from '../application/hooks'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport {\r\n  Call,\r\n  errorFetchingMulticallResults,\r\n  fetchingMulticallResults,\r\n  parseCallKey,\r\n  updateMulticallResults\r\n} from './actions'\r\n\r\n// chunk calls so we do not exceed the gas limit\r\nconst CALL_CHUNK_SIZE = 500\r\n\r\n/**\r\n * Fetches a chunk of calls, enforcing a minimum block number constraint\r\n * @param multicallContract multicall contract to fetch against\r\n * @param chunk chunk of calls to make\r\n * @param minBlockNumber minimum block number of the result set\r\n */\r\nasync function fetchChunk(\r\n  multicallContract: Contract,\r\n  chunk: Call[],\r\n  minBlockNumber: number\r\n): Promise<{ results: string[]; blockNumber: number }> {\r\n  console.debug('Fetching chunk', multicallContract, chunk, minBlockNumber)\r\n  let resultsBlockNumber, returnData\r\n  try {\r\n    ;[resultsBlockNumber, returnData] = await multicallContract.aggregate(chunk.map(obj => [obj.address, obj.callData]))\r\n  } catch (error) {\r\n    console.debug('Failed to fetch chunk inside retry', error)\r\n    throw error\r\n  }\r\n  if (resultsBlockNumber.toNumber() < minBlockNumber) {\r\n    console.debug(`Fetched results for old block number: ${resultsBlockNumber.toString()} vs. ${minBlockNumber}`)\r\n    throw new RetryableError('Fetched for old block number')\r\n  }\r\n  return { results: returnData, blockNumber: resultsBlockNumber.toNumber() }\r\n}\r\n\r\n/**\r\n * From the current all listeners state, return each call key mapped to the\r\n * minimum number of blocks per fetch. This is how often each key must be fetched.\r\n * @param allListeners the all listeners state\r\n * @param chainId the current chain id\r\n */\r\nexport function activeListeningKeys(\r\n  allListeners: AppState['multicall']['callListeners'],\r\n  chainId?: number\r\n): { [callKey: string]: number } {\r\n  if (!allListeners || !chainId) return {}\r\n  const listeners = allListeners[chainId]\r\n  if (!listeners) return {}\r\n\r\n  return Object.keys(listeners).reduce<{ [callKey: string]: number }>((memo, callKey) => {\r\n    const keyListeners = listeners[callKey]\r\n\r\n    memo[callKey] = Object.keys(keyListeners)\r\n      .filter(key => {\r\n        const blocksPerFetch = parseInt(key)\r\n        if (blocksPerFetch <= 0) return false\r\n        return keyListeners[blocksPerFetch] > 0\r\n      })\r\n      .reduce((previousMin, current) => {\r\n        return Math.min(previousMin, parseInt(current))\r\n      }, Infinity)\r\n    return memo\r\n  }, {})\r\n}\r\n\r\n/**\r\n * Return the keys that need to be refetched\r\n * @param callResults current call result state\r\n * @param listeningKeys each call key mapped to how old the data can be in blocks\r\n * @param chainId the current chain id\r\n * @param latestBlockNumber the latest block number\r\n */\r\nexport function outdatedListeningKeys(\r\n  callResults: AppState['multicall']['callResults'],\r\n  listeningKeys: { [callKey: string]: number },\r\n  chainId: number | undefined,\r\n  latestBlockNumber: number | undefined\r\n): string[] {\r\n  if (!chainId || !latestBlockNumber) return []\r\n  const results = callResults[chainId]\r\n  // no results at all, load everything\r\n  if (!results) return Object.keys(listeningKeys)\r\n\r\n  return Object.keys(listeningKeys).filter(callKey => {\r\n    const blocksPerFetch = listeningKeys[callKey]\r\n\r\n    const data = callResults[chainId][callKey]\r\n    // no data, must fetch\r\n    if (!data) return true\r\n\r\n    const minDataBlockNumber = latestBlockNumber - (blocksPerFetch - 1)\r\n\r\n    // already fetching it for a recent enough block, don't refetch it\r\n    if (data.fetchingBlockNumber && data.fetchingBlockNumber >= minDataBlockNumber) return false\r\n\r\n    // if data is older than minDataBlockNumber, fetch it\r\n    return !data.blockNumber || data.blockNumber < minDataBlockNumber\r\n  })\r\n}\r\n\r\nexport default function Updater(): null {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const state = useSelector<AppState, AppState['multicall']>(state => state.multicall)\r\n  // wait for listeners to settle before triggering updates\r\n  const debouncedListeners = useDebounce(state.callListeners, 100)\r\n  const latestBlockNumber = useBlockNumber()\r\n  const { chainId } = useActiveWeb3React()\r\n  const multicallContract = useMulticallContract()\r\n  const cancellations = useRef<{ blockNumber: number; cancellations: (() => void)[] }>()\r\n\r\n  const listeningKeys: { [callKey: string]: number } = useMemo(() => {\r\n    return activeListeningKeys(debouncedListeners, chainId)\r\n  }, [debouncedListeners, chainId])\r\n\r\n  const unserializedOutdatedCallKeys = useMemo(() => {\r\n    return outdatedListeningKeys(state.callResults, listeningKeys, chainId, latestBlockNumber)\r\n  }, [chainId, state.callResults, listeningKeys, latestBlockNumber])\r\n\r\n  const serializedOutdatedCallKeys = useMemo(() => JSON.stringify(unserializedOutdatedCallKeys.sort()), [\r\n    unserializedOutdatedCallKeys\r\n  ])\r\n\r\n  useEffect(() => {\r\n    if (!latestBlockNumber || !chainId || !multicallContract) return\r\n\r\n    const outdatedCallKeys: string[] = JSON.parse(serializedOutdatedCallKeys)\r\n    if (outdatedCallKeys.length === 0) return\r\n    const calls = outdatedCallKeys.map(key => parseCallKey(key))\r\n\r\n    const chunkedCalls = chunkArray(calls, CALL_CHUNK_SIZE)\r\n\r\n    if (cancellations.current?.blockNumber !== latestBlockNumber) {\r\n      cancellations.current?.cancellations?.forEach(c => c())\r\n    }\r\n\r\n    dispatch(\r\n      fetchingMulticallResults({\r\n        calls,\r\n        chainId,\r\n        fetchingBlockNumber: latestBlockNumber\r\n      })\r\n    )\r\n\r\n    cancellations.current = {\r\n      blockNumber: latestBlockNumber,\r\n      cancellations: chunkedCalls.map((chunk, index) => {\r\n        const { cancel, promise } = retry(() => fetchChunk(multicallContract, chunk, latestBlockNumber), {\r\n          n: Infinity,\r\n          minWait: 2500,\r\n          maxWait: 3500\r\n        })\r\n        promise\r\n          .then(({ results: returnData, blockNumber: fetchBlockNumber }) => {\r\n            cancellations.current = { cancellations: [], blockNumber: latestBlockNumber }\r\n\r\n            // accumulates the length of all previous indices\r\n            const firstCallKeyIndex = chunkedCalls.slice(0, index).reduce<number>((memo, curr) => memo + curr.length, 0)\r\n            const lastCallKeyIndex = firstCallKeyIndex + returnData.length\r\n\r\n            dispatch(\r\n              updateMulticallResults({\r\n                chainId,\r\n                results: outdatedCallKeys\r\n                  .slice(firstCallKeyIndex, lastCallKeyIndex)\r\n                  .reduce<{ [callKey: string]: string | null }>((memo, callKey, i) => {\r\n                    memo[callKey] = returnData[i] ?? null\r\n                    return memo\r\n                  }, {}),\r\n                blockNumber: fetchBlockNumber\r\n              })\r\n            )\r\n          })\r\n          .catch((error: any) => {\r\n            if (error instanceof CancelledError) {\r\n              console.debug('Cancelled fetch for blockNumber', latestBlockNumber)\r\n              return\r\n            }\r\n            console.error('Failed to fetch multicall chunk', chunk, chainId, error)\r\n            dispatch(\r\n              errorFetchingMulticallResults({\r\n                calls: chunk,\r\n                chainId,\r\n                fetchingBlockNumber: latestBlockNumber\r\n              })\r\n            )\r\n          })\r\n        return cancel\r\n      })\r\n    }\r\n  }, [chainId, multicallContract, dispatch, serializedOutdatedCallKeys, latestBlockNumber])\r\n\r\n  return null\r\n}\r\n","// chunks array into chunks of maximum size\r\n// evenly distributes items among the chunks\r\nexport default function chunkArray<T>(items: T[], maxChunkSize: number): T[][] {\r\n  if (maxChunkSize < 1) throw new Error('maxChunkSize must be gte 1')\r\n  if (items.length <= maxChunkSize) return [items]\r\n\r\n  const numChunks: number = Math.ceil(items.length / maxChunkSize)\r\n  const chunkSize = Math.ceil(items.length / numChunks)\r\n\r\n  return [...Array(numChunks).keys()].map(ix => items.slice(ix * chunkSize, ix * chunkSize + chunkSize))\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useAddPopup, useBlockNumber } from '../application/hooks'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { checkedTransaction, finalizeTransaction } from './actions'\r\n\r\nexport function shouldCheck(\r\n  lastBlockNumber: number,\r\n  tx: { addedTime: number; receipt?: {}; lastCheckedBlockNumber?: number }\r\n): boolean {\r\n  if (tx.receipt) return false\r\n  if (!tx.lastCheckedBlockNumber) return true\r\n  const blocksSinceCheck = lastBlockNumber - tx.lastCheckedBlockNumber\r\n  if (blocksSinceCheck < 1) return false\r\n  const minutesPending = (new Date().getTime() - tx.addedTime) / 1000 / 60\r\n  if (minutesPending > 60) {\r\n    // every 10 blocks if pending for longer than an hour\r\n    return blocksSinceCheck > 9\r\n  } else if (minutesPending > 5) {\r\n    // every 3 blocks if pending more than 5 minutes\r\n    return blocksSinceCheck > 2\r\n  } else {\r\n    // otherwise every block\r\n    return true\r\n  }\r\n}\r\n\r\nexport default function Updater(): null {\r\n  const { chainId, library } = useActiveWeb3React()\r\n\r\n  const lastBlockNumber = useBlockNumber()\r\n\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const state = useSelector<AppState, AppState['transactions']>(state => state.transactions)\r\n\r\n  const transactions = chainId ? state[chainId] ?? {} : {}\r\n\r\n  // show popup on confirm\r\n  const addPopup = useAddPopup()\r\n\r\n  useEffect(() => {\r\n    if (!chainId || !library || !lastBlockNumber) return\r\n\r\n    Object.keys(transactions)\r\n      .filter(hash => shouldCheck(lastBlockNumber, transactions[hash]))\r\n      .forEach(hash => {\r\n        library\r\n          .getTransactionReceipt(hash)\r\n          .then(receipt => {\r\n            if (receipt) {\r\n              dispatch(\r\n                finalizeTransaction({\r\n                  chainId,\r\n                  hash,\r\n                  receipt: {\r\n                    blockHash: receipt.blockHash,\r\n                    blockNumber: receipt.blockNumber,\r\n                    contractAddress: receipt.contractAddress,\r\n                    from: receipt.from,\r\n                    status: receipt.status,\r\n                    to: receipt.to,\r\n                    transactionHash: receipt.transactionHash,\r\n                    transactionIndex: receipt.transactionIndex\r\n                  }\r\n                })\r\n              )\r\n\r\n              addPopup(\r\n                {\r\n                  txn: {\r\n                    hash,\r\n                    success: receipt.status === 1,\r\n                    summary: transactions[hash]?.summary\r\n                  }\r\n                },\r\n                hash\r\n              )\r\n            } else {\r\n              dispatch(checkedTransaction({ chainId, hash, blockNumber: lastBlockNumber }))\r\n            }\r\n          })\r\n          .catch(error => {\r\n            console.error(`failed to check transaction hash: ${hash}`, error)\r\n          })\r\n      })\r\n  }, [chainId, library, transactions, lastBlockNumber, dispatch, addPopup])\r\n\r\n  return null\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { AppDispatch } from '../index'\r\nimport { updateMatchesDarkMode } from './actions'\r\n\r\nexport default function Updater(): null {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  // keep dark mode in sync with the system\r\n  useEffect(() => {\r\n    const darkHandler = (match: MediaQueryListEvent) => {\r\n      dispatch(updateMatchesDarkMode({ matchesDarkMode: match.matches }))\r\n    }\r\n\r\n    const match = window?.matchMedia('(prefers-color-scheme: dark)')\r\n    dispatch(updateMatchesDarkMode({ matchesDarkMode: match.matches }))\r\n\r\n    if (match?.addListener) {\r\n      match?.addListener(darkHandler)\r\n    } else if (match?.addEventListener) {\r\n      match?.addEventListener('change', darkHandler)\r\n    }\r\n\r\n    return () => {\r\n      if (match?.removeListener) {\r\n        match?.removeListener(darkHandler)\r\n      } else if (match?.removeEventListener) {\r\n        match?.removeEventListener('change', darkHandler)\r\n      }\r\n    }\r\n  }, [dispatch])\r\n\r\n  return null\r\n}\r\n","import { Web3Provider } from '@ethersproject/providers'\r\n\r\nexport default function getLibrary(provider: any): Web3Provider {\r\n  const library = new Web3Provider(provider)\r\n  library.pollingInterval = 15000\r\n  return library\r\n}\r\n","import { createWeb3ReactRoot, Web3ReactProvider } from '@web3-react/core'\r\nimport 'inter-ui'\r\nimport React, { StrictMode } from 'react'\r\nimport { isMobile } from 'react-device-detect'\r\nimport ReactDOM from 'react-dom'\r\nimport ReactGA from 'react-ga'\r\nimport { Provider } from 'react-redux'\r\nimport { NetworkContextName } from './constants'\r\nimport './i18n'\r\nimport App from './pages/App'\r\nimport store from './state'\r\nimport ApplicationUpdater from './state/application/updater'\r\nimport ListsUpdater from './state/lists/updater'\r\nimport MulticallUpdater from './state/multicall/updater'\r\nimport TransactionUpdater from './state/transactions/updater'\r\nimport UserUpdater from './state/user/updater'\r\nimport ThemeProvider, { FixedGlobalStyle, ThemedGlobalStyle } from './theme'\r\nimport getLibrary from './utils/getLibrary'\r\n\r\nconst Web3ProviderNetwork = createWeb3ReactRoot(NetworkContextName)\r\n\r\nif ('ethereum' in window) {\r\n  ;(window.ethereum as any).autoRefreshOnNetworkChange = false\r\n}\r\n\r\nconst GOOGLE_ANALYTICS_ID: string | undefined = process.env.REACT_APP_GOOGLE_ANALYTICS_ID\r\nif (typeof GOOGLE_ANALYTICS_ID === 'string') {\r\n  ReactGA.initialize(GOOGLE_ANALYTICS_ID)\r\n  ReactGA.set({\r\n    customBrowserType: !isMobile ? 'desktop' : 'web3' in window || 'ethereum' in window ? 'mobileWeb3' : 'mobileRegular'\r\n  })\r\n} else {\r\n  ReactGA.initialize('test', { testMode: true, debug: true })\r\n}\r\n\r\nwindow.addEventListener('error', error => {\r\n  ReactGA.exception({\r\n    description: `${error.message} @ ${error.filename}:${error.lineno}:${error.colno}`,\r\n    fatal: true\r\n  })\r\n})\r\n\r\nfunction Updaters() {\r\n  return (\r\n    <>\r\n      <ListsUpdater />\r\n      <UserUpdater />\r\n      <ApplicationUpdater />\r\n      <TransactionUpdater />\r\n      <MulticallUpdater />\r\n    </>\r\n  )\r\n}\r\n\r\nReactDOM.render(\r\n  <StrictMode>\r\n    <FixedGlobalStyle />\r\n    <Web3ReactProvider getLibrary={getLibrary}>\r\n      <Web3ProviderNetwork getLibrary={getLibrary}>\r\n        <Provider store={store}>\r\n          <Updaters />\r\n          <ThemeProvider>\r\n            <ThemedGlobalStyle />\r\n            <App />\r\n          </ThemeProvider>\r\n        </Provider>\r\n      </Web3ProviderNetwork>\r\n    </Web3ReactProvider>\r\n  </StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}